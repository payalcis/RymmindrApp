{"ast":null,"code":"var _jsxFileName = \"/var/www/html/RymindrAppNew/src/container/Rymindrs/CreateRymindr/CreateRymindr.js\";\nimport { Attachment, Replay, Send, Headset, Videocam, Description } from '@material-ui/icons';\nimport { Box, Button, Checkbox, FormControlLabel, Grid, MenuItem, Paper, Switch, TextField, Typography } from '@material-ui/core';\nimport { Link, useHistory, useParams, useLocation } from 'react-router-dom';\nimport { DatePicker, MuiPickersUtilsProvider, TimePicker } from '@material-ui/pickers';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { createRymindr, getBusinessUsers, getCategories, getGroups, getSubCategories, inviteAndAddMobile } from '../../../store/actions/rymidr';\nimport { makeStyles, styled } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CircularSpinner from '../../../component/CircularSpinner/index'; // import ConfirmationDialogRaw from './Modal'\n\nimport MomentUtils from '@date-io/moment';\nimport PropTypes from 'prop-types';\nimport Slider from 'react-slick'; // import Tabmenu from './Modal/Memberlist'\n\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { withSnackbar } from 'notistack';\nimport FileBase64 from 'react-file-base64';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport Editor from 'ckeditor5-custom-build/build/ckeditor';\nimport ckEditorConfig from '../../../helper/ckEditorConfig';\nimport ConfirmationDialogRaw from '../../Bookings/EventBooking/Modal';\nimport Tabmenu from '../../Bookings/EventBooking/Modal/Memberlist';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n    position: 'relative'\n  },\n  iconAttach: {\n    color: theme.palette.primary.dark,\n    background: theme.palette.primary.light,\n    height: 32,\n    width: 32,\n    borderRadius: 60,\n    padding: 5,\n    float: 'left',\n    marginTop: -5,\n    marginRight: '10px'\n  },\n  fileName: {\n    maxWidth: 140,\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    overflow: 'hidden'\n  }\n}));\nconst TypoHeadStyled = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 24,\n  color: theme.palette.primary.main,\n  textTransform: 'uppercase',\n  fontWeight: 'bold'\n}));\nconst TypoStyled = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 16,\n  color: theme.palette.text.primary,\n  marginTop: 10,\n  marginBottom: 20,\n  cursor: 'pointer',\n  marginRight: 30,\n  display: 'flex'\n}));\nconst TypoHeadInnerStyled = styled(TypoHeadStyled)(({\n  theme\n}) => ({\n  color: theme.palette.text.primary\n}));\nconst PaperStyled = styled(Paper)({\n  padding: '10px 15px'\n});\nconst SlideBoxStyled = styled(Box)(() => ({\n  textAlign: 'center',\n  display: 'inline-block',\n  padding: 20,\n  borderRadius: 10,\n  '& img': {\n    display: 'inline-block',\n    height: 75,\n    width: 75\n  }\n}));\nconst SlideType = styled(Typography)(({\n  theme\n}) => ({\n  color: theme.palette.text.primary,\n  fontSize: 16\n}));\nconst GridStyled = styled(Grid)(({\n  theme\n}) => ({\n  paddingLeft: '10rem',\n  paddingRight: '10rem',\n  [theme.breakpoints.down('md')]: {\n    paddingLeft: '8rem',\n    paddingRight: '8rem'\n  },\n  [theme.breakpoints.down('sm')]: {\n    paddingLeft: '2rem'\n  }\n}));\nconst ButtonStyled = styled(Button)(({\n  theme\n}) => ({\n  background: '#FFA502'\n}));\nconst Recurring = ['Daily', 'Weekly', 'Monthly', 'Yearly']; // const FormFields = {\n//   rymindr_date: '2020-05-02',\n//   note: 'test',\n//   is_shareable: true,\n//   rymindr_to_group: '125,126',\n//   rymindr_group_members_to: '2892,2954,2',\n//   category_id: '1',\n//   rymindr_time: '12:38',\n//   rymindr_to: '3032,2924,2892',\n//   rymindr_type: 'Energy (Gas & Electric)',\n//   qiscus_id: '14805940',\n//   user_id: '2891',\n//   user_name: 'demo data H',\n//   subcategory_id: '22',\n//   appointment: true,\n//   is_qrcode: true,\n//   no_of_time: '',\n// };\n// const FormFields = {\n//   rymindr_date: '',\n//   note: '',\n//   is_shareable: true,\n//   rymindr_to_group: '',\n//   rymindr_group_members_to: '',\n//   category_id: '',\n//   rymindr_time: '',\n//   rymindr_to: '',\n//   rymindr_type: '',\n//   qiscus_id: '',\n//   user_id: '',\n//   user_name: '',\n//   rymindr_recurring_type: '',\n//   subcategory_id: '',\n//   appointment: true,\n//   is_qrcode: ''\n// }\n\nconst CreateRymindr = props => {\n  const classes = useStyles();\n  const {\n    user_id,\n    business_code,\n    first_name,\n    last_name,\n    default_category\n  } = JSON.parse(localStorage.getItem('userData'));\n  console.log('default Category -- ', default_category);\n  const FormFields = {\n    rymindr_date: '',\n    note: '',\n    is_shareable: true,\n    rymindr_to_group: '',\n    rymindr_group_members_to: '',\n    category_id: default_category,\n    rymindr_time: '',\n    rymindr_to: '',\n    rymindr_type: '',\n    qiscus_id: '',\n    user_id: '',\n    user_name: '',\n    rymindr_end_date: '',\n    rymindr_recurring_type: '',\n    rymindr_period_type: '',\n    subcategory_id: '',\n    appointment: true,\n    is_qrcode: ''\n  };\n  const {\n    enqueueSnackbar,\n    error,\n    categories,\n    subcategories,\n    getSubCategories,\n    getGroups,\n    groups,\n    businessusers,\n    getBusinessUsers,\n    createRymindr,\n    inviteAndAddMobile,\n    matched_contact,\n    loading,\n    DetailView,\n    success_message\n  } = props;\n  const [state, setState] = useState({\n    checkedB: true,\n    switch: true,\n    switchrecuring: false\n  });\n  const history = useHistory();\n  const {\n    member_id,\n    group_id,\n    get_name\n  } = useParams();\n  const date = new Date();\n  const [selectedDate, sethandleDateChange] = useState(moment(new Date()).format('YYYY-MM-DD'));\n  const [selectedTime, sethandleTimeChange] = useState(moment(new Date()).format('YYYY-MM-DD HH:mm')); // const [selectedEndDate, sethandleEndDateChange] = useState(moment(new Date()).format('YYYY-MM-DD'))\n\n  const [selectedEndDate, sethandleEndDateChange] = useState(moment(new Date(), 'YYYY-MM-DD').add(1, 'days'));\n  const [loaded, setLoaded] = useState(false);\n  const [subcategory, setSubCategory] = useState(0);\n  const [checked, setChecked] = useState([]);\n  const [memberchecked, setMemberchecked] = useState([]);\n  const [checkOnSelectAllMembers, setcheckOnSelectAllMembers] = useState(false);\n  const [checkOnSelectAllGroup, setcheckOnSelectAllGroup] = useState(false);\n  const [group_members, setGroup_members] = useState('');\n  const [groupname_membersname, setGroupname_membersname] = useState([]);\n  const [formvalue, setFormvalue] = useState(FormFields);\n  const [formValidation, setFormValidation] = useState(FormFields);\n  const [open, setOpen] = useState(false);\n  const [timeErr, setTimeErr] = useState('');\n  const [toErr, settoErr] = useState('');\n  const [categories_listing, set_categories_listing] = useState([]);\n  const [dateErr, setdateErr] = useState('');\n  const [endDateErr, setEndDateErr] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState([]);\n  const [files, setFiles] = useState([]);\n  const [data, setData] = useState(window.location.href.split('/:')[1]);\n  const [slider, setSlider] = useState(null);\n  const [editorValue, setEditorValue] = useState(null);\n\n  const handleChange = e => {\n    const formdata = { ...formvalue\n    };\n    const formvalidation = { ...formValidation\n    };\n    const value = e.target.value;\n    const name = e.target.name;\n\n    if (name === 'rymindr_type') {\n      const found = subcategories.find(element => element.id === value);\n      formdata.rymindr_type = found.category_name;\n      formdata.subcategory_id = value;\n      formvalidation.subcategory_id = '';\n      setFormValidation(formvalidation);\n    } else if (name === 'note') {\n      formvalidation.note = '';\n      setFormValidation(formvalidation);\n      formdata[name] = value;\n    } else if (name === 'rymindr_recurring_type') {\n      formvalidation.rymindr_recurring_type = '';\n      setFormValidation(formvalidation);\n      formdata[name] = value;\n    } else {\n      formdata[name] = value;\n    }\n\n    setFormvalue(formdata);\n  };\n\n  const handleDateChange = e => {\n    const date = new Date(e);\n    const selectedstartdate = moment(date).format('YYYY-MM-DD');\n    const selectedEndDate1 = moment(selectedEndDate).format('YYYY-MM-DD');\n    const currentDate = moment(new Date()).format('YYYY-MM-DD');\n\n    if (currentDate <= selectedstartdate) {\n      setdateErr('');\n      sethandleDateChange(selectedstartdate);\n      setFormvalue({ ...formvalue,\n        rymindr_date: selectedstartdate\n      }); // const new_select = moment(date).format('YYYY-MM-DD HH:mm')\n      // sethandleTimeChange(new_select)\n    } else {\n      setdateErr('You can not choose a date before the current date.');\n      sethandleDateChange(selectedstartdate);\n    }\n\n    console.log('date--', selectedstartdate, '\\n', selectedEndDate1);\n\n    if (state.switchrecuring) {\n      if (selectedEndDate1 < selectedstartdate) {\n        console.log('err--');\n        setEndDateErr('You can not choose a date before the start date.');\n        sethandleDateChange(selectedstartdate);\n      } else if (selectedEndDate1 == selectedstartdate) {\n        setEndDateErr('End date must be greater than start date');\n        sethandleDateChange(selectedstartdate);\n      } else {\n        setEndDateErr('');\n        sethandleDateChange(selectedstartdate);\n      }\n    }\n  };\n\n  const handleEndDateChange = e => {\n    const date = new Date(e);\n    const selectedenddate = moment(date).format('YYYY-MM-DD');\n    const currentDate = moment(new Date()).format('YYYY-MM-DD');\n    const startDate = moment(selectedDate).format('YYYY-MM-DD');\n    console.log('startDate===', startDate);\n    console.log('selectedenddate===', selectedenddate);\n\n    if (currentDate >= selectedenddate) {\n      setEndDateErr('You can not choose a date before the current date.');\n      sethandleEndDateChange(selectedenddate);\n    } else if (startDate >= selectedenddate) {\n      setEndDateErr('End date must be greater than start date');\n      sethandleEndDateChange(selectedenddate);\n    } else {\n      setEndDateErr('');\n      sethandleEndDateChange(selectedenddate);\n      setFormvalue({ ...formvalue,\n        rymindr_end_date: selectedenddate\n      });\n    }\n  };\n\n  const handleTimeChange = e => {\n    const date = new Date(e);\n    const selectedtime = moment(date);\n    const selecteddate = moment(new Date(selectedtime).getTime()).format('YYYY-MM-DD HH:mm');\n    const currentDate = moment(new Date().getTime()).format('YYYY-MM-DD HH:mm');\n    const new_select = moment(selectedDate).format('YYYY-MM-DD') + ' ' + moment(new Date(e).getTime()).format('HH:mm');\n    const time = moment(new Date(e).getTime()).format('HH:mm:ss');\n\n    if (currentDate <= new_select) {\n      setTimeErr('');\n      sethandleTimeChange(new_select);\n      setFormvalue({ ...formvalue,\n        rymindr_time: new_select\n      });\n    } else {\n      setTimeErr('You can not choose a time before the current time.');\n      sethandleTimeChange(new_select);\n      setFormvalue({ ...formvalue,\n        rymindr_time: new_select\n      });\n    }\n\n    console.log('formvalue1', formvalue);\n    console.log('new_select', new_select);\n    console.log('selectedTime', time);\n  };\n\n  const handleChangeCheck = event => {\n    setState({ ...state,\n      [event.target.name]: event.target.checked\n    });\n    setFormvalue({ ...formvalue,\n      [event.target.name]: event.target.checked\n    });\n  };\n\n  const handleSwitchChange = event => {\n    setState({ ...state,\n      [event.target.name]: event.target.checked\n    });\n  };\n\n  const handleClose = newValue => {\n    setOpen(newValue);\n    const membername = [];\n    const groupname = [];\n\n    if (groups.length > 0) {\n      groups.forEach(element => {\n        const checkvalue = checked.indexOf(element.group_id);\n\n        if (checkvalue !== -1) {\n          groupname.push(element.group_name);\n        } else if (element.group_id == group_id) {\n          groupname.push(element.group_name);\n        }\n      });\n    }\n\n    if (businessusers.length > 0) {\n      businessusers.forEach(element => {\n        const checkvalue = memberchecked.indexOf(element.user_id);\n\n        if (checkvalue !== -1) {\n          if (element.user_id == user_id) {\n            membername.push('You');\n          } else {\n            membername.push(element.first_name !== '' ? `${element.first_name} ${element.last_name}` : element.mobile_no);\n          }\n        } else if (element.user_id == member_id) {\n          if (element.user_id == user_id) {\n            membername.push('You');\n          } else {\n            membername.push(element.first_name !== '' ? `${element.first_name} ${element.last_name}` : element.mobile_no);\n          }\n        }\n\n        settoErr('');\n      });\n\n      if (membername == '') {\n        membername.push('You');\n      }\n\n      setGroupname_membersname(groupname.concat(membername));\n\n      if (checked.length == 0 && memberchecked.length == 0) {\n        setGroupname_membersname([]);\n      }\n\n      const dataToSend = {\n        mobile_no: phoneNumber.join()\n      };\n\n      if (phoneNumber.length > 0) {\n        inviteAndAddMobile(dataToSend);\n      }\n\n      if (newValue) {// setValue(newValue);\n      }\n    }\n  };\n\n  console.log('groups--', groups);\n\n  const handleGroupToggle = value => {\n    console.log('value--', value);\n    setcheckOnSelectAllGroup(false);\n    const groupMembers = value.group_member_list;\n    const currentIndex = checked.indexOf(value.group_id);\n    const newChecked = [...checked];\n    const selectedmember = [...group_members];\n\n    if (currentIndex === -1) {\n      newChecked.push(value.group_id);\n      groupMembers.forEach(element => {\n        selectedmember.push(element.user_id);\n      });\n    } else {\n      newChecked.splice(currentIndex, 1);\n      groupMembers.forEach(element => {\n        const remomeitem = selectedmember.indexOf(element.user_id);\n        selectedmember.splice(remomeitem, 1);\n      });\n    }\n\n    setChecked(newChecked);\n    setGroup_members(selectedmember);\n  };\n\n  const handleMemberToggle = value => {\n    const currentIndex = memberchecked.indexOf(value.user_id);\n    const newChecked = [...memberchecked];\n\n    if (group_id != '0') {\n      newChecked.push(group_id);\n    }\n\n    if (member_id != '0') {\n      newChecked.push(member_id);\n    }\n\n    if (currentIndex === -1) {\n      newChecked.push(value.user_id);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    const removeLoginUser = newChecked.indexOf(user_id.toString());\n    const removeUndefinedIndex = newChecked.indexOf(undefined);\n\n    if (removeLoginUser > -1) {\n      newChecked.splice(removeLoginUser, 1);\n    }\n\n    if (removeUndefinedIndex > -1) {\n      for (var i = 0; i < newChecked.length; i++) {\n        if (newChecked[i] == undefined) {\n          newChecked.splice(newChecked.indexOf(undefined), 1);\n          i--;\n        }\n      }\n\n      if (newChecked.length < 1) {\n        newChecked.push(user_id);\n        var temp = [];\n        temp.push('You');\n      }\n    }\n\n    setMemberchecked(newChecked);\n    setGroupname_membersname(temp);\n    const groupname = [];\n    const membername = [];\n\n    if (value == 0) {\n      businessusers.forEach(element => {\n        membername.push(element.first_name !== '' ? `${element.first_name} ${element.last_name}` : element.mobile_no);\n        newChecked.push(element.user_id);\n      });\n      setcheckOnSelectAllMembers(true);\n      setMemberchecked(newChecked);\n    } else if (value == 1) {\n      groups.forEach(element => {\n        groupname.push(element.group_name);\n        newChecked.push(element.group_id);\n      });\n      setcheckOnSelectAllGroup(true);\n      setChecked(newChecked);\n    } else if (value == 3) {\n      setcheckOnSelectAllMembers(false);\n      setMemberchecked([]);\n    } else if (value == 4) {\n      setcheckOnSelectAllGroup(false);\n      setChecked([]);\n    } else {\n      setcheckOnSelectAllMembers(false);\n    }\n\n    setGroupname_membersname(groupname.concat(membername));\n  };\n\n  const location = useLocation(); // FOR SELECTED DATE FROM CALENDAR\n\n  useEffect(() => {\n    // SELECTED VALUE FROM CALENDAR\n    if (location.state) {\n      sethandleDateChange(location.state.selectedDate);\n    } else {\n      sethandleDateChange(new Date());\n    } // SELECTED VALUE FROM CALENDAR\n\n\n    const dataToSend = {\n      user_id,\n      category_id: ''\n    };\n    props.getcategories(dataToSend);\n    getGroups({\n      user_id\n    });\n    const SendToBusiness = {\n      user_id,\n      business_code\n    };\n    getBusinessUsers(SendToBusiness); /// ///////////////////////////////////////\n  }, []);\n  useEffect(() => {\n    // let get_category = []\n    if (categories.length > 0) {\n      const get_category = categories.filter(item => item.is_message_center === 0);\n      set_categories_listing(get_category);\n      get_category.map((data, index) => {\n        if (default_category == data.id) {\n          setSubCategory(index);\n          setLoaded(true);\n        }\n      });\n    }\n  }, [categories]);\n  useEffect(() => {\n    if (slider) {\n      slider.slickGoTo(subcategory);\n    }\n  }, [slider]);\n  const settings = {\n    accessibility: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 7,\n    slidesToScroll: 1,\n    centerMode: true,\n    focusOnSelect: true,\n    initialSlide: subcategory,\n    afterChange: index => {\n      if (categories_listing.length > 0) {\n        const formdata = { ...formvalue\n        };\n        setSubCategory(index);\n        const parent_cat_id = categories_listing[index].id;\n        console.log('subcategory---');\n        formdata.category_id = parent_cat_id;\n        formdata.subcategory_id = '';\n        formdata.rymindr_type = '';\n        setFormvalue(formdata);\n        const dataToSend = {\n          user_id,\n          category_id: parent_cat_id\n        };\n        getSubCategories(dataToSend);\n      }\n    },\n    responsive: [{\n      breakpoint: 1400,\n      settings: {\n        slidesToShow: 5\n      }\n    }, {\n      breakpoint: 1200,\n      settings: {\n        slidesToShow: 4\n      }\n    }, {\n      breakpoint: 960,\n      settings: {\n        slidesToShow: 3\n      }\n    }]\n  };\n\n  const validate = () => {\n    const formvalidation = { ...formValidation\n    };\n    let isError = false;\n\n    if (!formvalue.subcategory_id) {\n      isError = true;\n      formvalidation.subcategory_id = 'Please select a sub category';\n      setFormValidation(formvalidation);\n    }\n\n    if (!formvalue.rymindr_time) {\n      var now = moment(new Date().getTime()).format('HH:mm');\n\n      if (now.toString() > formvalue.rymindr_time.toString()) {\n        console.log('time', now.toString());\n        console.log('formvalue', formvalue);\n        isError = true;\n        setTimeErr('You can not choose a time before the current time.');\n      } else {\n        setTimeErr('');\n      }\n    }\n\n    if (!formvalue.note) {\n      isError = true;\n      formvalidation.note = 'Please write rymindr';\n      setFormValidation(formvalidation);\n    } else if (formvalue.note.length > 1500) {\n      isError = true;\n      formvalidation.note = 'Rymindr should not be more than 1500 characters';\n      setFormValidation(formvalidation);\n    }\n\n    if (dateErr !== '') {\n      isError = true;\n      setdateErr('You can not choose a date before the current date.');\n    } // if (timeErr !== '') {\n    //   isError = true;\n    //   setTimeErr('You can not choose a time before the current time.');\n    // }\n\n\n    if (groupname_membersname.length == 0) {\n      isError = true;\n      settoErr('This field should not be empty.');\n    } // if (state.switchrecuring) {\n    //   if (formvalue.rymindr_recurring_type == 'Daily') {\n    //     if ((!formvalue.rymindr_period_type) || !(parseInt(formvalue.rymindr_period_type) > 1 && parseInt(formvalue.rymindr_period_type) <= 2000)) {\n    //       isError = true\n    //       formvalidation.rymindr_period_type = 'This should not be zero or blank or more than 2000'\n    //       setFormValidation(formvalidation)\n    //     }\n    //   } else if (formvalue.rymindr_recurring_type == 'Weekly') {\n    //     if ((!formvalue.rymindr_period_type) || !(parseInt(formvalue.rymindr_period_type) > 1 && parseInt(formvalue.rymindr_period_type) <= 500)) {\n    //       isError = true\n    //       formvalidation.rymindr_period_type = 'This should not be zero or blank or more than 500'\n    //       setFormValidation(formvalidation)\n    //     }\n    //   } else if (formvalue.rymindr_recurring_type == 'Monthly') {\n    //     if ((!formvalue.rymindr_period_type) || !(parseInt(formvalue.rymindr_period_type) > 1 && parseInt(formvalue.rymindr_period_type) <= 500)) {\n    //       isError = true\n    //       formvalidation.rymindr_period_type = 'This should not be zero or blank or more than 500'\n    //       setFormValidation(formvalidation)\n    //     }\n    //   } else if (formvalue.rymindr_recurring_type == 'Yearly') {\n    //     if ((!formvalue.rymindr_period_type) || !(parseInt(formvalue.rymindr_period_type) > 1 && parseInt(formvalue.rymindr_period_type) <= 15)) {\n    //       isError = true\n    //       formvalidation.rymindr_period_type = 'This should not be zero or blank or more than 15'\n    //       setFormValidation(formvalidation)\n    //     }\n    //   }\n    //   if (!formvalue.rymindr_recurring_type) {\n    //     isError = true\n    //     formvalidation.rymindr_recurring_type = 'Please select the period'\n    //     setFormValidation(formvalidation)\n    //   }\n    // }\n\n\n    if (state.switchrecuring) {\n      const selectedstartdate = moment(selectedDate).format('YYYY-MM-DD');\n      const selectedEndDate1 = moment(selectedEndDate).format('YYYY-MM-DD');\n\n      if (endDateErr !== '') {\n        isError = true;\n        setEndDateErr(endDateErr);\n      }\n\n      if (!formvalue.rymindr_recurring_type) {\n        isError = true;\n        formvalidation.rymindr_recurring_type = 'Please select the period';\n        setFormValidation(formvalidation);\n      }\n\n      if (selectedEndDate1 < selectedstartdate) {\n        console.log('err--');\n        setEndDateErr('You can not choose a date before the start date.');\n        sethandleDateChange(selectedstartdate);\n      } else if (selectedEndDate1 == selectedstartdate) {\n        setEndDateErr('End date must be greater than start date');\n        sethandleDateChange(selectedstartdate);\n      } else {\n        setEndDateErr('');\n        sethandleDateChange(selectedstartdate);\n      }\n    }\n\n    return isError;\n  };\n\n  const handleToTagvalue = value => {\n    setPhoneNumber(value);\n  };\n\n  const handleReset = () => {\n    setFormvalue(FormFields);\n    sethandleDateChange(new Date());\n    sethandleTimeChange(date.getTime());\n    sethandleEndDateChange(moment(new Date(), 'YYYY-MM-DD').add(1, 'days'));\n    setFormValidation(FormFields);\n    setTimeErr('');\n    setEndDateErr(''); // setGroupname_membersname([])\n    // setMemberchecked([])\n\n    setChecked([]);\n    setcheckOnSelectAllMembers(false);\n    setcheckOnSelectAllGroup(false);\n    const membername = [];\n    const members = [];\n    membername.push(`You`);\n    members.push(user_id);\n    setMemberchecked(members);\n    setGroupname_membersname(membername);\n  }; // const handleToSubmit = () => {\n  //   if (validate()) return false\n  //   const FormFields11 = { ...formvalue }\n  //   if (FormFields11.category_id == '') {\n  //     const parent_cat_id = default_category\n  //     FormFields11.category_id = parent_cat_id\n  //   }\n  //   let temp_time = selectedTime.split(' ');\n  //   FormFields11.rymindr_to_group = checked.join()\n  //   FormFields11.rymindr_group_members_to = [...new Set(group_members)].join()\n  //   FormFields11.user_id = user_id\n  //   FormFields11.user_name = first_name\n  //   FormFields11.rymindr_date = moment(selectedDate).format('YYYY-MM-DD')\n  //   FormFields11.rymindr_time = temp_time[1]\n  //   FormFields11.rymindr_to =\n  //     matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join()\n  //   if (!state.switchrecuring) {\n  //     delete FormFields11.rymindr_period_type\n  //     delete FormFields11.rymindr_recurring_type\n  //   }\n  //   const sendAttachment = files\n  //   const unmatch = matched_contact ? matched_contact.mobile_no : ''\n  //   console.warn('FormFields11123', FormFields11, unmatch, history, sendAttachment);\n  //   createRymindr(FormFields11, unmatch, history, sendAttachment)\n  // }\n\n\n  console.log('group_members--', group_members);\n\n  const handleToSubmit = () => {\n    if (validate()) return false;\n    const FormFields11 = { ...formvalue\n    };\n\n    if (FormFields11.category_id == '') {\n      const parent_cat_id = default_category;\n      FormFields11.category_id = parent_cat_id;\n    }\n\n    let temp_time = selectedTime.split(' ');\n    FormFields11.rymindr_to_group = checked.join();\n    FormFields11.rymindr_group_members_to = group_members; // FormFields11.rymindr_group_members_to = [...new Set(group_members)].join()\n\n    FormFields11.user_id = user_id;\n    FormFields11.user_name = first_name;\n    const startDate = moment(selectedDate).format('YYYY-MM-DD');\n    const endDate = moment(selectedEndDate).format('YYYY-MM-DD');\n    FormFields11.rymindr_date = startDate;\n    FormFields11.rymindr_end_date = endDate;\n    FormFields11.rymindr_time = temp_time[1];\n    FormFields11.rymindr_to = matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join();\n\n    if (state.switchrecuring) {\n      console.log('startDate====', startDate);\n      console.log('endDate====', endDate);\n      FormFields11.rymindr_period_type = getPeriod_type(startDate, endDate, FormFields11.rymindr_recurring_type);\n    } else {\n      delete FormFields11.rymindr_period_type;\n      delete FormFields11.rymindr_end_date;\n      delete FormFields11.rymindr_recurring_type;\n    }\n\n    const sendAttachment = files;\n    const unmatch = matched_contact ? matched_contact.mobile_no : ''; //console.log('sendAttachment=========',sendAttachment);\n    //console.warn('FormFields11123', FormFields11, unmatch, history, sendAttachment);\n\n    console.log('FormFields11-', FormFields11);\n    createRymindr(FormFields11, unmatch, history, sendAttachment);\n  };\n\n  const getPeriod_type = (d1, d2, recurring_type) => {\n    const secondsDiff = (d1, d2) => {\n      let millisecondDiff = d2 - d1;\n      let secDiff = Math.floor((d2 - d1) / 1000);\n      return secDiff;\n    };\n\n    const minutesDiff = (d1, d2) => {\n      let seconds = secondsDiff(d1, d2);\n      let minutesDiff = Math.floor(seconds / 60);\n      return minutesDiff;\n    };\n\n    const hoursDiff = (d1, d2) => {\n      let minutes = minutesDiff(d1, d2);\n      let hoursDiff = Math.floor(minutes / 60);\n      return hoursDiff;\n    };\n\n    const daysDiff = (d1, d2) => {\n      let hours = hoursDiff(d1, d2);\n      let daysDiff = Math.floor(hours / 24);\n      return daysDiff;\n    };\n\n    const weeksDiff = (d1, d2) => {\n      let days = daysDiff(d1, d2);\n      let weeksDiff = Math.floor(days / 7);\n      return weeksDiff;\n    };\n\n    const yearsDiff = (d1, d2) => {\n      let date1 = new Date(d1);\n      let date2 = new Date(d2);\n      let yearsDiff = date2.getFullYear() - date1.getFullYear();\n      return yearsDiff;\n    };\n\n    const monthsDiff = (d1, d2) => {\n      let date1 = new Date(d1);\n      let date2 = new Date(d2);\n      let years = yearsDiff(d1, d2);\n      let months = years * 12 + (date2.getMonth() - date1.getMonth());\n      return months;\n    };\n\n    let numbers = '';\n\n    if (recurring_type == 'Daily') {\n      numbers = daysDiff(new Date(d1).getTime(), new Date(d2).getTime());\n    } else if (recurring_type == 'Weekly') {\n      numbers = weeksDiff(new Date(d1).getTime(), new Date(d2).getTime());\n    } else if (recurring_type == 'Monthly') {\n      numbers = monthsDiff(new Date(d1).getTime(), new Date(d2).getTime());\n    } else if (recurring_type == 'Yearly') {\n      numbers = yearsDiff(new Date(d1).getTime(), new Date(d2).getTime());\n    }\n\n    return numbers;\n  };\n\n  const handleAllMembersToggle = value => {\n    const newChecked = [...value];\n    setMemberchecked(newChecked);\n    console.log('memberchecked-', memberchecked);\n  };\n\n  const handleAllGroupMembersToggle = value => {\n    const newChecked = [...value];\n    setChecked(newChecked);\n    console.log('checked', checked);\n    let members = '';\n    const groupMembers = groups.forEach(item => {\n      members = members + ',' + item.group_members;\n    });\n    setGroup_members(members);\n    console.log('members-', members);\n  };\n\n  useMemo(() => {\n    const newChecked = [...checked];\n\n    if (member_id != 0 || group_id != 0) {\n      const groupname = [];\n      const membername = [];\n\n      if (group_id != '0') {\n        if (groups.length > 0) {\n          groups.forEach(element => {\n            if (element.group_id == group_id) {\n              groupname.push(element.group_name);\n            }\n          });\n        } else {\n          groupname.push(get_name);\n        }\n\n        newChecked.push(group_id);\n        setChecked(newChecked);\n      } else if (member_id != '0') {\n        if (businessusers.length > 0) {\n          businessusers.forEach(element => {\n            if (element.user_id == member_id) {\n              if (element.first_name !== '') {\n                membername.push(`${element.first_name} ${element.last_name}`);\n              } else {\n                membername.push(`${element.mobile_no}`);\n              }\n            }\n          });\n        } else {\n          membername.push(get_name);\n        }\n\n        newChecked.push(member_id);\n        setMemberchecked(newChecked);\n      }\n\n      setGroupname_membersname(groupname.concat(membername));\n    }\n\n    if (member_id == undefined && group_id == undefined) {\n      const membername = [];\n      const members = [];\n      membername.push('You');\n      members.push(user_id);\n      setMemberchecked(members);\n      setGroupname_membersname(membername);\n    }\n  }, [groups, businessusers]);\n  useMemo(() => {\n    error && enqueueSnackbar(error, {\n      variant: 'error'\n    });\n  }, [error]); // useMemo(() => {\n  //   success_message && enqueueSnackbar(success_message, { variant: 'success' })\n  // }, [success_message])\n\n  const handleToopen = () => {\n    setOpen(true);\n  };\n\n  const deleteImage2 = (index, file) => {\n    files.splice(index, 1);\n\n    if (files.length == 0) {\n      setFiles([]);\n    } else {\n      setFiles([...files]);\n    }\n  };\n\n  const deleteImage = (index, file) => {\n    if (file && file.name) {\n      var removeIndex = files.map(function (item) {\n        return item.name;\n      }).indexOf(file.name);\n      files.splice(removeIndex, 1);\n    }\n\n    if (files.length == 0) {\n      setFiles([]);\n    } else {\n      setFiles([...files]);\n      console.log('files===', files);\n    }\n  };\n\n  const getFiles = inputfile => {\n    const file_Array = [...files];\n    inputfile.map(files1 => {\n      var extn = files1.name.split('.');\n      var etn = ['docx', 'doc', 'pdf', 'jpg', 'jpeg', 'png'];\n      var low = extn[1].toLowerCase();\n      files.push(files1);\n    });\n    setFiles([...files]);\n  };\n\n  const handleChangeEditor = data => {\n    setFormValidation(data);\n    setFormvalue({ ...formvalue,\n      note: data\n    });\n  }; // const { member_id, group_id, get_name } = useParams()\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n    utils: MomentUtils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 992,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmationDialogRaw, {\n    open: open,\n    onClose: handleClose,\n    groupdata: groups,\n    memberdata: businessusers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 993,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tabmenu, {\n    groupdata: groups,\n    memberdata: businessusers,\n    handleToggles: handleGroupToggle,\n    checked: checked,\n    handleMemberToggle: handleMemberToggle,\n    memberchecked: memberchecked,\n    handleAllMembersToggle: handleAllMembersToggle,\n    handleAllGroupMembersToggle: handleAllGroupMembersToggle,\n    handleToTagvalue: handleToTagvalue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 994,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    className: \"main-wrap-head\",\n    container: true,\n    style: {\n      marginBottom: 20\n    },\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1006,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1007,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TypoHeadStyled, {\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1008,\n      columnNumber: 13\n    }\n  }, \"Create \", /*#__PURE__*/React.createElement(TypoHeadInnerStyled, {\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1009,\n      columnNumber: 22\n    }\n  }, \"Rymindr\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1012,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1013,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleReset,\n    size: \"large\",\n    startIcon: /*#__PURE__*/React.createElement(Replay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1014,\n        columnNumber: 105\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1014,\n      columnNumber: 15\n    }\n  }, \"Reset\")))), /*#__PURE__*/React.createElement(PaperStyled, {\n    className: \"main-wrap-body create-ray-cont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1021,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    className: \"article-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1022,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slideContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1023,\n      columnNumber: 13\n    }\n  }, categories.length > 0 && loaded ? /*#__PURE__*/React.createElement(Slider, Object.assign({\n    ref: slider => setSlider(slider)\n  }, settings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1025,\n      columnNumber: 17\n    }\n  }), categories.map((item, key) => {\n    return item.is_message_center == 0 ? /*#__PURE__*/React.createElement(SlideBoxStyled, {\n      key: key,\n      data: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1028,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.category_image,\n      className: \"SlideIcon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1029,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(SlideType, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1030,\n        columnNumber: 25\n      }\n    }, item.category_name)) : '';\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1038,\n      columnNumber: 17\n    }\n  }, \"Loading...\")), /*#__PURE__*/React.createElement(GridStyled, {\n    container: true,\n    spacing: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1042,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1043,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-select-currency\",\n    select: true,\n    label: \"Sub Category\",\n    value: formvalue.subcategory_id,\n    fullWidth: true,\n    onChange: handleChange,\n    name: \"rymindr_type\",\n    variant: \"outlined\",\n    error: !!formValidation.subcategory_id,\n    helperText: formValidation.subcategory_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1044,\n      columnNumber: 17\n    }\n  }, subcategories.length > 0 ? subcategories.map((option, key) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: key,\n    value: option.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1058,\n      columnNumber: 25\n    }\n  }, option.category_name)) : loading && /*#__PURE__*/React.createElement(CircularSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1062,\n      columnNumber: 34\n    }\n  }))), console.log('formvalue', formvalue), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1066,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    label: \"Set Date\",\n    inputVariant: \"outlined\",\n    value: selectedDate,\n    onChange: handleDateChange,\n    animateYearScrolling: true,\n    format: \"DD/MM/YYYY\",\n    fullWidth: true,\n    name: \"rymindr_date\",\n    error: !!dateErr,\n    helperText: dateErr,\n    disablePast: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1067,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1081,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TimePicker, {\n    inputVariant: \"outlined\",\n    label: \"Set Time\",\n    value: selectedTime,\n    onChange: handleTimeChange,\n    fullWidth: true,\n    ampm: false,\n    error: !!timeErr,\n    helperText: timeErr,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1082,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1093,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Autocomplete, {\n    multiple: true,\n    limitTags: 1,\n    id: \"tags-filled\",\n    filterSelectedOptions: false,\n    options: groupname_membersname,\n    freeSolo: true,\n    value: groupname_membersname,\n    freeSolo: true,\n    onChange: (event, newValue) => {\n      if (newValue.length) {\n        const newVal = newValue.toString();\n        const getArray = newVal.split(',');\n        const user_id_arr = [];\n        const group_id_arr = [];\n\n        for (let i = 0; i < getArray.length; i++) {\n          const getNewList = businessusers.find(ele => ele.first_name + ' ' + ele.last_name == getArray[i]);\n\n          if (getNewList) {\n            if (getNewList == undefined) {} else {\n              user_id_arr.push(getNewList.user_id);\n              setcheckOnSelectAllMembers(false);\n            }\n\n            break;\n          } else {\n            // FOR GROUPS\n            const getNewGroupList = groups.find(ele => ele.group_name == getArray[i]);\n\n            if (getNewGroupList == undefined) {} else {\n              group_id_arr.push(getNewGroupList.group_id);\n              setcheckOnSelectAllGroup(false);\n              break;\n            }\n          }\n        }\n\n        setGroupname_membersname(newValue);\n\n        if (user_id_arr.length) {\n          const data = user_id_arr[0];\n          const index = memberchecked.indexOf(data);\n\n          if (index > -1) {\n            memberchecked.splice(index, 1);\n          } // newChecked.push(group_id);\n\n        } else if (group_id_arr.length) {\n          const data = group_id_arr[0];\n          const index = checked.indexOf(data);\n\n          if (index > -1) {\n            checked.splice(index, 1);\n          }\n        }\n\n        setMemberchecked(memberchecked);\n        setChecked(checked);\n      }\n    },\n    renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      variant: \"outlined\",\n      label: \"To\",\n      onChange: handleToopen,\n      onClick: handleToopen,\n      error: !!toErr,\n      helperText: toErr,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1155,\n        columnNumber: 21\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1094,\n      columnNumber: 17\n    }\n  })), state.switchrecuring && /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1168,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-select-currency\",\n    select: true,\n    label: \"Period\",\n    value: formvalue.rymindr_recurring_type,\n    fullWidth: true,\n    onChange: handleChange,\n    variant: \"outlined\",\n    name: \"rymindr_recurring_type\",\n    error: !!formValidation.rymindr_recurring_type,\n    helperText: formValidation.rymindr_recurring_type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1169,\n      columnNumber: 19\n    }\n  }, Recurring.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n    key: option,\n    value: option,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1182,\n      columnNumber: 23\n    }\n  }, option)))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1190,\n      columnNumber: 15\n    }\n  }, state.switchrecuring &&\n  /*#__PURE__*/\n  // <TextField\n  //   id='outlined-select-currency'\n  //   label='No. of Time'\n  //   value={formvalue.rymindr_period_type}\n  //   fullWidth\n  //   name='rymindr_period_type'\n  //   onChange={handleChange}\n  //   variant='outlined'\n  //   error={!!formValidation.rymindr_period_type}\n  //   helperText={formValidation.rymindr_period_type}\n  // />\n  React.createElement(DatePicker, {\n    label: \"Set End Date\",\n    inputVariant: \"outlined\",\n    value: selectedEndDate,\n    onChange: handleEndDateChange,\n    animateYearScrolling: true,\n    format: \"DD/MM/YYYY\",\n    fullWidth: true,\n    name: \"rymindr_end_date\",\n    error: !!endDateErr,\n    helperText: endDateErr,\n    disablePast: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1203,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    style: {\n      position: 'static',\n      marginLeft: 6,\n      marginTop: 8\n    },\n    control: /*#__PURE__*/React.createElement(Switch, {\n      checked: state.switchrecuring,\n      onChange: handleSwitchChange,\n      name: \"switchrecuring\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1220,\n        columnNumber: 21\n      }\n    }),\n    label: \"Recurring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1217,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1230,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CKEditor, {\n    id: \"editor1\",\n    config: ckEditorConfig,\n    editor: Editor,\n    data: formvalue.note,\n    name: \"note\",\n    onReady: editor => {\n      console.log('Editor is ready to use!', editor);\n    } // onChange={ ( event, editor ) => {\n    //     const data = editor.getData();\n    //     handleChangeEditor(data)\n    // }}\n    ,\n    onBlur: (event, editor) => {\n      console.log('Blur.', editor);\n      const data = editor.getData();\n      handleChangeEditor(data);\n    },\n    onFocus: (event, editor) => {\n      console.log('Focus.', editor);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1231,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red',\n      marginLeft: '1rem',\n      fontSize: '12px',\n      marginTop: '4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1253,\n      columnNumber: 17\n    }\n  }, formValidation.note)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1273,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1274,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: state.is_qrcode,\n      onChange: handleChangeCheck,\n      name: \"is_qrcode\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1277,\n        columnNumber: 23\n      }\n    }),\n    label: \"Generate QR code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1275,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    className: \"attachement\",\n    control: /*#__PURE__*/React.createElement(FileBase64, {\n      multiple: true,\n      onDone: getFiles,\n      onClick: e => e.target.value = null,\n      className: \"displayNone\",\n      style: {\n        display: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1290,\n        columnNumber: 23\n      }\n    }),\n    label: /*#__PURE__*/React.createElement(Typography, {\n      variant: \"subtitle1\",\n      component: \"span\",\n      style: {\n        marginLeft: 50\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1299,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Attachment, {\n      style: {\n        marginBottom: -6,\n        marginRight: 10\n      },\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1300,\n        columnNumber: 25\n      }\n    }), \" Attachments\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1287,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    alignItems: \"center\",\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1305,\n      columnNumber: 17\n    }\n  }, files && files.map((file, index) => {\n    // alert(files.length+'----'+index+'----'+file);\n    const extension_arr = file.name.split('.');\n    const extension = extension_arr[1];\n\n    if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n      return /*#__PURE__*/React.createElement(TypoStyled, {\n        variant: \"subtitle1\",\n        component: \"p\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1314,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: file.base64,\n        width: \"32\",\n        height: \"32\",\n        className: classes.iconAttach,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1315,\n          columnNumber: 29\n        }\n      }), ' ', /*#__PURE__*/React.createElement(Box, {\n        className: classes.fileName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1316,\n          columnNumber: 29\n        }\n      }, file.name), ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n        onClick: () => deleteImage(index, file),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1317,\n          columnNumber: 29\n        }\n      }));\n    } else if (extension == 'mp3') {\n      return /*#__PURE__*/React.createElement(TypoStyled, {\n        variant: \"subtitle1\",\n        component: \"p\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1322,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Headset, {\n        className: classes.iconAttach,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1323,\n          columnNumber: 29\n        }\n      }), \" \", file.name, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n        onClick: () => deleteImage(index, file),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1324,\n          columnNumber: 29\n        }\n      }));\n    } else if (extension == 'mp4') {\n      return /*#__PURE__*/React.createElement(TypoStyled, {\n        variant: \"subtitle1\",\n        component: \"p\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1329,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Videocam, {\n        className: classes.iconAttach,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1330,\n          columnNumber: 29\n        }\n      }), \" \", file.name, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n        onClick: () => deleteImage(index, file),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1331,\n          columnNumber: 29\n        }\n      }));\n    } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n      return /*#__PURE__*/React.createElement(TypoStyled, {\n        variant: \"subtitle1\",\n        component: \"p\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1336,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Description, {\n        className: classes.iconAttach,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1337,\n          columnNumber: 29\n        }\n      }), \" \", file.name, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n        onClick: () => deleteImage(index, file),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1338,\n          columnNumber: 29\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(TypoStyled, {\n        variant: \"subtitle1\",\n        component: \"p\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1343,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Description, {\n        className: classes.iconAttach,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1344,\n          columnNumber: 29\n        }\n      }), \" \", file.name, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n        onClick: () => deleteImage(index, file),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1345,\n          columnNumber: 29\n        }\n      }));\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1353,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1354,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1355,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ButtonStyled, {\n    onClick: handleToSubmit,\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    startIcon: /*#__PURE__*/React.createElement(Send, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1361,\n        columnNumber: 32\n      }\n    }),\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1356,\n      columnNumber: 19\n    }\n  }, loading && /*#__PURE__*/React.createElement(CircularSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1364,\n      columnNumber: 33\n    }\n  }), \"Send Rymindr\"))))))));\n};\n\nconst mapStateToProps = state => {\n  console.log('State - ', state);\n  return {\n    loading: state.rymidr.loading,\n    error: state.rymidr.error,\n    categories: state.rymidr.categories,\n    subcategories: state.rymidr.subcategories,\n    groups: state.rymidr.groups,\n    businessusers: state.rymidr.businessusers,\n    matched_contact: state.rymidr.matched_contact,\n    success_message: state.rymidr.success_message\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getcategories: data => dispatch(getCategories(data)),\n    getSubCategories: data => dispatch(getSubCategories(data)),\n    getGroups: data => dispatch(getGroups(data)),\n    getBusinessUsers: data => dispatch(getBusinessUsers(data)),\n    createRymindr: (data, unmatch, history, sendAttachment) => dispatch(createRymindr(data, unmatch, history, sendAttachment)),\n    inviteAndAddMobile: data => dispatch(inviteAndAddMobile(data))\n  };\n};\n\nCreateRymindr.propTypes = {\n  enqueueSnackbar: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  getcategories: PropTypes.func.isRequired,\n  error: PropTypes.string.isRequired,\n  categories: PropTypes.array.isRequired,\n  subcategories: PropTypes.array.isRequired,\n  getSubCategories: PropTypes.func.isRequired,\n  getGroups: PropTypes.func.isRequired,\n  groups: PropTypes.array.isRequired,\n  businessusers: PropTypes.array.isRequired,\n  getBusinessUsers: PropTypes.func.isRequired,\n  createRymindr: PropTypes.func.isRequired,\n  inviteAndAddMobile: PropTypes.func.isRequired,\n  matched_contact: PropTypes.any.isRequired,\n  success_message: PropTypes.any.isRequired\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(CreateRymindr));","map":{"version":3,"sources":["/var/www/html/RymindrAppNew/src/container/Rymindrs/CreateRymindr/CreateRymindr.js"],"names":["Attachment","Replay","Send","Headset","Videocam","Description","Box","Button","Checkbox","FormControlLabel","Grid","MenuItem","Paper","Switch","TextField","Typography","Link","useHistory","useParams","useLocation","DatePicker","MuiPickersUtilsProvider","TimePicker","React","useEffect","useMemo","useState","createRymindr","getBusinessUsers","getCategories","getGroups","getSubCategories","inviteAndAddMobile","makeStyles","styled","Autocomplete","CircularSpinner","MomentUtils","PropTypes","Slider","connect","moment","withSnackbar","FileBase64","CancelIcon","CKEditor","Editor","ckEditorConfig","ConfirmationDialogRaw","Tabmenu","useStyles","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","position","iconAttach","primary","dark","background","light","height","width","borderRadius","float","marginTop","marginRight","fileName","maxWidth","whiteSpace","textOverflow","overflow","TypoHeadStyled","fontSize","main","textTransform","fontWeight","TypoStyled","marginBottom","cursor","display","TypoHeadInnerStyled","PaperStyled","SlideBoxStyled","SlideType","GridStyled","paddingLeft","paddingRight","breakpoints","down","ButtonStyled","Recurring","CreateRymindr","props","classes","user_id","business_code","first_name","last_name","default_category","JSON","parse","localStorage","getItem","console","log","FormFields","rymindr_date","note","is_shareable","rymindr_to_group","rymindr_group_members_to","category_id","rymindr_time","rymindr_to","rymindr_type","qiscus_id","user_name","rymindr_end_date","rymindr_recurring_type","rymindr_period_type","subcategory_id","appointment","is_qrcode","enqueueSnackbar","error","categories","subcategories","groups","businessusers","matched_contact","loading","DetailView","success_message","state","setState","checkedB","switch","switchrecuring","history","member_id","group_id","get_name","date","Date","selectedDate","sethandleDateChange","format","selectedTime","sethandleTimeChange","selectedEndDate","sethandleEndDateChange","add","loaded","setLoaded","subcategory","setSubCategory","checked","setChecked","memberchecked","setMemberchecked","checkOnSelectAllMembers","setcheckOnSelectAllMembers","checkOnSelectAllGroup","setcheckOnSelectAllGroup","group_members","setGroup_members","groupname_membersname","setGroupname_membersname","formvalue","setFormvalue","formValidation","setFormValidation","open","setOpen","timeErr","setTimeErr","toErr","settoErr","categories_listing","set_categories_listing","dateErr","setdateErr","endDateErr","setEndDateErr","phoneNumber","setPhoneNumber","files","setFiles","data","setData","window","location","href","split","slider","setSlider","editorValue","setEditorValue","handleChange","e","formdata","formvalidation","value","target","name","found","find","element","id","category_name","handleDateChange","selectedstartdate","selectedEndDate1","currentDate","handleEndDateChange","selectedenddate","startDate","handleTimeChange","selectedtime","selecteddate","getTime","new_select","time","handleChangeCheck","event","handleSwitchChange","handleClose","newValue","membername","groupname","length","forEach","checkvalue","indexOf","push","group_name","mobile_no","concat","dataToSend","join","handleGroupToggle","groupMembers","group_member_list","currentIndex","newChecked","selectedmember","splice","remomeitem","handleMemberToggle","removeLoginUser","toString","removeUndefinedIndex","undefined","i","temp","getcategories","SendToBusiness","get_category","filter","item","is_message_center","map","index","slickGoTo","settings","accessibility","infinite","speed","slidesToShow","slidesToScroll","centerMode","focusOnSelect","initialSlide","afterChange","parent_cat_id","responsive","breakpoint","validate","isError","now","handleToTagvalue","handleReset","members","handleToSubmit","FormFields11","temp_time","endDate","getPeriod_type","sendAttachment","unmatch","d1","d2","recurring_type","secondsDiff","millisecondDiff","secDiff","Math","floor","minutesDiff","seconds","hoursDiff","minutes","daysDiff","hours","weeksDiff","days","yearsDiff","date1","date2","getFullYear","monthsDiff","years","months","getMonth","numbers","handleAllMembersToggle","handleAllGroupMembersToggle","variant","handleToopen","deleteImage2","file","deleteImage","removeIndex","getFiles","inputfile","file_Array","files1","extn","etn","low","toLowerCase","handleChangeEditor","key","category_image","option","newVal","getArray","user_id_arr","group_id_arr","getNewList","ele","getNewGroupList","params","marginLeft","editor","getData","extension_arr","extension","base64","mapStateToProps","rymidr","mapDispatchToProps","dispatch","propTypes","func","isRequired","bool","string","array","any"],"mappings":"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","sourcesContent":["import { Attachment, Replay, Send, Headset, Videocam, Description } from '@material-ui/icons';\nimport {\n  Box,\n  Button,\n  Checkbox,\n  FormControlLabel,\n  Grid,\n  MenuItem,\n  Paper,\n  Switch,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport { Link, useHistory, useParams, useLocation } from 'react-router-dom';\nimport { DatePicker, MuiPickersUtilsProvider, TimePicker } from '@material-ui/pickers';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport {\n  createRymindr,\n  getBusinessUsers,\n  getCategories,\n  getGroups,\n  getSubCategories,\n  inviteAndAddMobile,\n} from '../../../store/actions/rymidr';\nimport { makeStyles, styled } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CircularSpinner from '../../../component/CircularSpinner/index';\n// import ConfirmationDialogRaw from './Modal'\nimport MomentUtils from '@date-io/moment';\nimport PropTypes from 'prop-types';\nimport Slider from 'react-slick';\n// import Tabmenu from './Modal/Memberlist'\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { withSnackbar } from 'notistack';\nimport FileBase64 from 'react-file-base64';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport Editor from 'ckeditor5-custom-build/build/ckeditor';\nimport ckEditorConfig from '../../../helper/ckEditorConfig';\n\nimport ConfirmationDialogRaw from '../../Bookings/EventBooking/Modal';\nimport Tabmenu from '../../Bookings/EventBooking/Modal/Memberlist';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n    position: 'relative',\n  },\n  iconAttach: {\n    color: theme.palette.primary.dark,\n    background: theme.palette.primary.light,\n    height: 32,\n    width: 32,\n    borderRadius: 60,\n    padding: 5,\n    float: 'left',\n    marginTop: -5,\n    marginRight: '10px',\n  },\n  fileName: {\n    maxWidth: 140,\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    overflow: 'hidden',\n  },\n}));\nconst TypoHeadStyled = styled(Typography)(({ theme }) => ({\n  fontSize: 24,\n  color: theme.palette.primary.main,\n  textTransform: 'uppercase',\n  fontWeight: 'bold',\n}));\nconst TypoStyled = styled(Typography)(({ theme }) => ({\n  fontSize: 16,\n  color: theme.palette.text.primary,\n  marginTop: 10,\n  marginBottom: 20,\n  cursor: 'pointer',\n  marginRight: 30,\n  display: 'flex',\n}));\n\nconst TypoHeadInnerStyled = styled(TypoHeadStyled)(({ theme }) => ({\n  color: theme.palette.text.primary,\n}));\n\nconst PaperStyled = styled(Paper)({\n  padding: '10px 15px',\n});\nconst SlideBoxStyled = styled(Box)(() => ({\n  textAlign: 'center',\n  display: 'inline-block',\n\n  padding: 20,\n  borderRadius: 10,\n  '& img': {\n    display: 'inline-block',\n    height: 75,\n    width: 75,\n  },\n}));\n\nconst SlideType = styled(Typography)(({ theme }) => ({\n  color: theme.palette.text.primary,\n  fontSize: 16,\n}));\n\nconst GridStyled = styled(Grid)(({ theme }) => ({\n  paddingLeft: '10rem',\n  paddingRight: '10rem',\n  [theme.breakpoints.down('md')]: {\n    paddingLeft: '8rem',\n    paddingRight: '8rem',\n  },\n\n  [theme.breakpoints.down('sm')]: {\n    paddingLeft: '2rem',\n  },\n}));\n\nconst ButtonStyled = styled(Button)(({ theme }) => ({\n  background: '#FFA502',\n}));\n\nconst Recurring = ['Daily', 'Weekly', 'Monthly', 'Yearly'];\n\n// const FormFields = {\n//   rymindr_date: '2020-05-02',\n//   note: 'test',\n//   is_shareable: true,\n//   rymindr_to_group: '125,126',\n//   rymindr_group_members_to: '2892,2954,2',\n//   category_id: '1',\n//   rymindr_time: '12:38',\n//   rymindr_to: '3032,2924,2892',\n//   rymindr_type: 'Energy (Gas & Electric)',\n//   qiscus_id: '14805940',\n//   user_id: '2891',\n//   user_name: 'demo data H',\n//   subcategory_id: '22',\n//   appointment: true,\n//   is_qrcode: true,\n//   no_of_time: '',\n// };\n\n// const FormFields = {\n//   rymindr_date: '',\n//   note: '',\n//   is_shareable: true,\n//   rymindr_to_group: '',\n//   rymindr_group_members_to: '',\n//   category_id: '',\n//   rymindr_time: '',\n//   rymindr_to: '',\n//   rymindr_type: '',\n//   qiscus_id: '',\n//   user_id: '',\n//   user_name: '',\n//   rymindr_recurring_type: '',\n//   subcategory_id: '',\n//   appointment: true,\n//   is_qrcode: ''\n// }\n\nconst CreateRymindr = (props) => {\n  const classes = useStyles();\n\n  const { user_id, business_code, first_name, last_name, default_category } = JSON.parse(\n    localStorage.getItem('userData')\n  );\n  console.log('default Category -- ', default_category);\n  const FormFields = {\n    rymindr_date: '',\n    note: '',\n    is_shareable: true,\n    rymindr_to_group: '',\n    rymindr_group_members_to: '',\n    category_id: default_category,\n    rymindr_time: '',\n    rymindr_to: '',\n    rymindr_type: '',\n    qiscus_id: '',\n    user_id: '',\n    user_name: '',\n    rymindr_end_date: '',\n    rymindr_recurring_type: '',\n    rymindr_period_type: '',\n    subcategory_id: '',\n    appointment: true,\n    is_qrcode: '',\n  };\n\n  const {\n    enqueueSnackbar,\n    error,\n    categories,\n    subcategories,\n    getSubCategories,\n    getGroups,\n    groups,\n    businessusers,\n    getBusinessUsers,\n    createRymindr,\n    inviteAndAddMobile,\n    matched_contact,\n    loading,\n    DetailView,\n    success_message,\n  } = props;\n\n  const [state, setState] = useState({\n    checkedB: true,\n    switch: true,\n    switchrecuring: false,\n  });\n  const history = useHistory();\n  const { member_id, group_id, get_name } = useParams();\n\n  const date = new Date();\n  const [selectedDate, sethandleDateChange] = useState(moment(new Date()).format('YYYY-MM-DD'));\n  const [selectedTime, sethandleTimeChange] = useState(moment(new Date()).format('YYYY-MM-DD HH:mm'));\n\n  // const [selectedEndDate, sethandleEndDateChange] = useState(moment(new Date()).format('YYYY-MM-DD'))\n  const [selectedEndDate, sethandleEndDateChange] = useState(moment(new Date(), 'YYYY-MM-DD').add(1, 'days'));\n\n  const [loaded, setLoaded] = useState(false);\n  const [subcategory, setSubCategory] = useState(0);\n  const [checked, setChecked] = useState([]);\n  const [memberchecked, setMemberchecked] = useState([]);\n  const [checkOnSelectAllMembers, setcheckOnSelectAllMembers] = useState(false);\n  const [checkOnSelectAllGroup, setcheckOnSelectAllGroup] = useState(false);\n\n  const [group_members, setGroup_members] = useState('');\n  const [groupname_membersname, setGroupname_membersname] = useState([]);\n  const [formvalue, setFormvalue] = useState(FormFields);\n  const [formValidation, setFormValidation] = useState(FormFields);\n  const [open, setOpen] = useState(false);\n  const [timeErr, setTimeErr] = useState('');\n  const [toErr, settoErr] = useState('');\n\n  const [categories_listing, set_categories_listing] = useState([]);\n\n  const [dateErr, setdateErr] = useState('');\n  const [endDateErr, setEndDateErr] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState([]);\n  const [files, setFiles] = useState([]);\n  const [data, setData] = useState(window.location.href.split('/:')[1]);\n\n  const [slider, setSlider] = useState(null);\n  const [editorValue, setEditorValue] = useState(null);\n\n  const handleChange = (e) => {\n    const formdata = { ...formvalue };\n    const formvalidation = { ...formValidation };\n    const value = e.target.value;\n    const name = e.target.name;\n    if (name === 'rymindr_type') {\n      const found = subcategories.find((element) => element.id === value);\n      formdata.rymindr_type = found.category_name;\n      formdata.subcategory_id = value;\n      formvalidation.subcategory_id = '';\n      setFormValidation(formvalidation);\n    } else if (name === 'note') {\n      formvalidation.note = '';\n      setFormValidation(formvalidation);\n      formdata[name] = value;\n    } else if (name === 'rymindr_recurring_type') {\n      formvalidation.rymindr_recurring_type = '';\n      setFormValidation(formvalidation);\n      formdata[name] = value;\n    } else {\n      formdata[name] = value;\n    }\n    setFormvalue(formdata);\n  };\n\n  const handleDateChange = (e) => {\n    const date = new Date(e);\n    const selectedstartdate = moment(date).format('YYYY-MM-DD');\n    const selectedEndDate1 = moment(selectedEndDate).format('YYYY-MM-DD');\n    const currentDate = moment(new Date()).format('YYYY-MM-DD');\n    if (currentDate <= selectedstartdate) {\n      setdateErr('');\n      sethandleDateChange(selectedstartdate);\n      setFormvalue({ ...formvalue, rymindr_date: selectedstartdate });\n      // const new_select = moment(date).format('YYYY-MM-DD HH:mm')\n      // sethandleTimeChange(new_select)\n    } else {\n      setdateErr('You can not choose a date before the current date.');\n      sethandleDateChange(selectedstartdate);\n    }\n    console.log('date--', selectedstartdate, '\\n', selectedEndDate1);\n    if (state.switchrecuring) {\n      if (selectedEndDate1 < selectedstartdate) {\n        console.log('err--');\n        setEndDateErr('You can not choose a date before the start date.');\n        sethandleDateChange(selectedstartdate);\n      } else if (selectedEndDate1 == selectedstartdate) {\n        setEndDateErr('End date must be greater than start date');\n        sethandleDateChange(selectedstartdate);\n      } else {\n        setEndDateErr('');\n        sethandleDateChange(selectedstartdate);\n      }\n    }\n  };\n\n  const handleEndDateChange = (e) => {\n    const date = new Date(e);\n    const selectedenddate = moment(date).format('YYYY-MM-DD');\n    const currentDate = moment(new Date()).format('YYYY-MM-DD');\n    const startDate = moment(selectedDate).format('YYYY-MM-DD');\n    console.log('startDate===', startDate);\n    console.log('selectedenddate===', selectedenddate);\n    if (currentDate >= selectedenddate) {\n      setEndDateErr('You can not choose a date before the current date.');\n      sethandleEndDateChange(selectedenddate);\n    } else if (startDate >= selectedenddate) {\n      setEndDateErr('End date must be greater than start date');\n      sethandleEndDateChange(selectedenddate);\n    } else {\n      setEndDateErr('');\n      sethandleEndDateChange(selectedenddate);\n      setFormvalue({ ...formvalue, rymindr_end_date: selectedenddate });\n    }\n  };\n\n  const handleTimeChange = (e) => {\n    const date = new Date(e);\n    const selectedtime = moment(date);\n\n    const selecteddate = moment(new Date(selectedtime).getTime()).format('YYYY-MM-DD HH:mm');\n    const currentDate = moment(new Date().getTime()).format('YYYY-MM-DD HH:mm');\n\n    const new_select = moment(selectedDate).format('YYYY-MM-DD') + ' ' + moment(new Date(e).getTime()).format('HH:mm');\n\n    const time = moment(new Date(e).getTime()).format('HH:mm:ss');\n    if (currentDate <= new_select) {\n      setTimeErr('');\n      sethandleTimeChange(new_select);\n      setFormvalue({ ...formvalue, rymindr_time: new_select });\n    } else {\n      setTimeErr('You can not choose a time before the current time.');\n      sethandleTimeChange(new_select);\n      setFormvalue({ ...formvalue, rymindr_time: new_select });\n    }\n    console.log('formvalue1', formvalue);\n    console.log('new_select', new_select);\n    console.log('selectedTime', time);\n  };\n\n  const handleChangeCheck = (event) => {\n    setState({ ...state, [event.target.name]: event.target.checked });\n    setFormvalue({ ...formvalue, [event.target.name]: event.target.checked });\n  };\n  const handleSwitchChange = (event) => {\n    setState({ ...state, [event.target.name]: event.target.checked });\n  };\n\n  const handleClose = (newValue) => {\n    setOpen(newValue);\n    const membername = [];\n    const groupname = [];\n    if (groups.length > 0) {\n      groups.forEach((element) => {\n        const checkvalue = checked.indexOf(element.group_id);\n        if (checkvalue !== -1) {\n          groupname.push(element.group_name);\n        } else if (element.group_id == group_id) {\n          groupname.push(element.group_name);\n        }\n      });\n    }\n\n    if (businessusers.length > 0) {\n      businessusers.forEach((element) => {\n        const checkvalue = memberchecked.indexOf(element.user_id);\n        if (checkvalue !== -1) {\n          if (element.user_id == user_id) {\n            membername.push('You');\n          } else {\n            membername.push(\n              element.first_name !== '' ? `${element.first_name} ${element.last_name}` : element.mobile_no\n            );\n          }\n        } else if (element.user_id == member_id) {\n          if (element.user_id == user_id) {\n            membername.push('You');\n          } else {\n            membername.push(\n              element.first_name !== '' ? `${element.first_name} ${element.last_name}` : element.mobile_no\n            );\n          }\n        }\n\n        settoErr('');\n      });\n\n      if (membername == '') {\n        membername.push('You');\n      }\n\n      setGroupname_membersname(groupname.concat(membername));\n      if (checked.length == 0 && memberchecked.length == 0) {\n        setGroupname_membersname([]);\n      }\n      const dataToSend = {\n        mobile_no: phoneNumber.join(),\n      };\n      if (phoneNumber.length > 0) {\n        inviteAndAddMobile(dataToSend);\n      }\n\n      if (newValue) {\n        // setValue(newValue);\n      }\n    }\n  };\n  console.log('groups--', groups);\n  const handleGroupToggle = (value) => {\n    console.log('value--', value);\n    setcheckOnSelectAllGroup(false);\n    const groupMembers = value.group_member_list;\n    const currentIndex = checked.indexOf(value.group_id);\n    const newChecked = [...checked];\n    const selectedmember = [...group_members];\n\n    if (currentIndex === -1) {\n      newChecked.push(value.group_id);\n      groupMembers.forEach((element) => {\n        selectedmember.push(element.user_id);\n      });\n    } else {\n      newChecked.splice(currentIndex, 1);\n      groupMembers.forEach((element) => {\n        const remomeitem = selectedmember.indexOf(element.user_id);\n        selectedmember.splice(remomeitem, 1);\n      });\n    }\n    setChecked(newChecked);\n    setGroup_members(selectedmember);\n  };\n\n  const handleMemberToggle = (value) => {\n    const currentIndex = memberchecked.indexOf(value.user_id);\n    const newChecked = [...memberchecked];\n    if (group_id != '0') {\n      newChecked.push(group_id);\n    }\n    if (member_id != '0') {\n      newChecked.push(member_id);\n    }\n\n    if (currentIndex === -1) {\n      newChecked.push(value.user_id);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    const removeLoginUser = newChecked.indexOf(user_id.toString());\n    const removeUndefinedIndex = newChecked.indexOf(undefined);\n\n    if (removeLoginUser > -1) {\n      newChecked.splice(removeLoginUser, 1);\n    }\n    if (removeUndefinedIndex > -1) {\n      for (var i = 0; i < newChecked.length; i++) {\n        if (newChecked[i] == undefined) {\n          newChecked.splice(newChecked.indexOf(undefined), 1);\n          i--;\n        }\n      }\n      if (newChecked.length < 1) {\n        newChecked.push(user_id);\n        var temp = [];\n        temp.push('You');\n      }\n    }\n\n    setMemberchecked(newChecked);\n    setGroupname_membersname(temp);\n\n    const groupname = [];\n    const membername = [];\n\n    if (value == 0) {\n      businessusers.forEach((element) => {\n        membername.push(element.first_name !== '' ? `${element.first_name} ${element.last_name}` : element.mobile_no);\n\n        newChecked.push(element.user_id);\n      });\n      setcheckOnSelectAllMembers(true);\n      setMemberchecked(newChecked);\n    } else if (value == 1) {\n      groups.forEach((element) => {\n        groupname.push(element.group_name);\n        newChecked.push(element.group_id);\n      });\n      setcheckOnSelectAllGroup(true);\n      setChecked(newChecked);\n    } else if (value == 3) {\n      setcheckOnSelectAllMembers(false);\n      setMemberchecked([]);\n    } else if (value == 4) {\n      setcheckOnSelectAllGroup(false);\n      setChecked([]);\n    } else {\n      setcheckOnSelectAllMembers(false);\n    }\n    setGroupname_membersname(groupname.concat(membername));\n  };\n\n  const location = useLocation(); // FOR SELECTED DATE FROM CALENDAR\n  useEffect(() => {\n    // SELECTED VALUE FROM CALENDAR\n    if (location.state) {\n      sethandleDateChange(location.state.selectedDate);\n    } else {\n      sethandleDateChange(new Date());\n    }\n    // SELECTED VALUE FROM CALENDAR\n    const dataToSend = {\n      user_id,\n      category_id: '',\n    };\n    props.getcategories(dataToSend);\n\n    getGroups({ user_id });\n    const SendToBusiness = {\n      user_id,\n      business_code,\n    };\n\n    getBusinessUsers(SendToBusiness);\n\n    /// ///////////////////////////////////////\n  }, []);\n\n  useEffect(() => {\n    // let get_category = []\n    if (categories.length > 0) {\n      const get_category = categories.filter((item) => item.is_message_center === 0);\n      set_categories_listing(get_category);\n      get_category.map((data, index) => {\n        if (default_category == data.id) {\n          setSubCategory(index);\n          setLoaded(true);\n        }\n      });\n    }\n  }, [categories]);\n\n  useEffect(() => {\n    if (slider) {\n      slider.slickGoTo(subcategory);\n    }\n  }, [slider]);\n\n  const settings = {\n    accessibility: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 7,\n    slidesToScroll: 1,\n    centerMode: true,\n    focusOnSelect: true,\n    initialSlide: subcategory,\n    afterChange: (index) => {\n      if (categories_listing.length > 0) {\n        const formdata = { ...formvalue };\n        setSubCategory(index);\n        const parent_cat_id = categories_listing[index].id;\n        console.log('subcategory---');\n        formdata.category_id = parent_cat_id;\n        formdata.subcategory_id = '';\n        formdata.rymindr_type = '';\n        setFormvalue(formdata);\n        const dataToSend = {\n          user_id,\n          category_id: parent_cat_id,\n        };\n\n        getSubCategories(dataToSend);\n      }\n    },\n    responsive: [\n      {\n        breakpoint: 1400,\n        settings: {\n          slidesToShow: 5,\n        },\n      },\n      {\n        breakpoint: 1200,\n        settings: {\n          slidesToShow: 4,\n        },\n      },\n      {\n        breakpoint: 960,\n        settings: {\n          slidesToShow: 3,\n        },\n      },\n    ],\n  };\n\n  const validate = () => {\n    const formvalidation = { ...formValidation };\n    let isError = false;\n\n    if (!formvalue.subcategory_id) {\n      isError = true;\n      formvalidation.subcategory_id = 'Please select a sub category';\n      setFormValidation(formvalidation);\n    }\n\n    if (!formvalue.rymindr_time) {\n      var now = moment(new Date().getTime()).format('HH:mm');\n      if (now.toString() > formvalue.rymindr_time.toString()) {\n        console.log('time', now.toString());\n        console.log('formvalue', formvalue);\n        isError = true;\n        setTimeErr('You can not choose a time before the current time.');\n      } else {\n        setTimeErr('');\n      }\n    }\n    if (!formvalue.note) {\n      isError = true;\n      formvalidation.note = 'Please write rymindr';\n      setFormValidation(formvalidation);\n    } else if (formvalue.note.length > 1500) {\n      isError = true;\n      formvalidation.note = 'Rymindr should not be more than 1500 characters';\n      setFormValidation(formvalidation);\n    }\n    if (dateErr !== '') {\n      isError = true;\n      setdateErr('You can not choose a date before the current date.');\n    }\n    // if (timeErr !== '') {\n    //   isError = true;\n    //   setTimeErr('You can not choose a time before the current time.');\n    // }\n    if (groupname_membersname.length == 0) {\n      isError = true;\n      settoErr('This field should not be empty.');\n    }\n\n    // if (state.switchrecuring) {\n    //   if (formvalue.rymindr_recurring_type == 'Daily') {\n    //     if ((!formvalue.rymindr_period_type) || !(parseInt(formvalue.rymindr_period_type) > 1 && parseInt(formvalue.rymindr_period_type) <= 2000)) {\n    //       isError = true\n    //       formvalidation.rymindr_period_type = 'This should not be zero or blank or more than 2000'\n    //       setFormValidation(formvalidation)\n    //     }\n    //   } else if (formvalue.rymindr_recurring_type == 'Weekly') {\n    //     if ((!formvalue.rymindr_period_type) || !(parseInt(formvalue.rymindr_period_type) > 1 && parseInt(formvalue.rymindr_period_type) <= 500)) {\n    //       isError = true\n    //       formvalidation.rymindr_period_type = 'This should not be zero or blank or more than 500'\n    //       setFormValidation(formvalidation)\n    //     }\n    //   } else if (formvalue.rymindr_recurring_type == 'Monthly') {\n    //     if ((!formvalue.rymindr_period_type) || !(parseInt(formvalue.rymindr_period_type) > 1 && parseInt(formvalue.rymindr_period_type) <= 500)) {\n    //       isError = true\n    //       formvalidation.rymindr_period_type = 'This should not be zero or blank or more than 500'\n    //       setFormValidation(formvalidation)\n    //     }\n    //   } else if (formvalue.rymindr_recurring_type == 'Yearly') {\n    //     if ((!formvalue.rymindr_period_type) || !(parseInt(formvalue.rymindr_period_type) > 1 && parseInt(formvalue.rymindr_period_type) <= 15)) {\n    //       isError = true\n    //       formvalidation.rymindr_period_type = 'This should not be zero or blank or more than 15'\n    //       setFormValidation(formvalidation)\n    //     }\n    //   }\n    //   if (!formvalue.rymindr_recurring_type) {\n    //     isError = true\n    //     formvalidation.rymindr_recurring_type = 'Please select the period'\n    //     setFormValidation(formvalidation)\n    //   }\n    // }\n\n    if (state.switchrecuring) {\n      const selectedstartdate = moment(selectedDate).format('YYYY-MM-DD');\n      const selectedEndDate1 = moment(selectedEndDate).format('YYYY-MM-DD');\n      if (endDateErr !== '') {\n        isError = true;\n        setEndDateErr(endDateErr);\n      }\n      if (!formvalue.rymindr_recurring_type) {\n        isError = true;\n        formvalidation.rymindr_recurring_type = 'Please select the period';\n        setFormValidation(formvalidation);\n      }\n      if (selectedEndDate1 < selectedstartdate) {\n        console.log('err--');\n        setEndDateErr('You can not choose a date before the start date.');\n        sethandleDateChange(selectedstartdate);\n      } else if (selectedEndDate1 == selectedstartdate) {\n        setEndDateErr('End date must be greater than start date');\n        sethandleDateChange(selectedstartdate);\n      } else {\n        setEndDateErr('');\n        sethandleDateChange(selectedstartdate);\n      }\n    }\n    return isError;\n  };\n\n  const handleToTagvalue = (value) => {\n    setPhoneNumber(value);\n  };\n  const handleReset = () => {\n    setFormvalue(FormFields);\n    sethandleDateChange(new Date());\n    sethandleTimeChange(date.getTime());\n    sethandleEndDateChange(moment(new Date(), 'YYYY-MM-DD').add(1, 'days'));\n    setFormValidation(FormFields);\n    setTimeErr('');\n    setEndDateErr('');\n    // setGroupname_membersname([])\n    // setMemberchecked([])\n    setChecked([]);\n    setcheckOnSelectAllMembers(false);\n    setcheckOnSelectAllGroup(false);\n\n    const membername = [];\n    const members = [];\n    membername.push(`You`);\n    members.push(user_id);\n    setMemberchecked(members);\n    setGroupname_membersname(membername);\n  };\n\n  // const handleToSubmit = () => {\n  //   if (validate()) return false\n  //   const FormFields11 = { ...formvalue }\n  //   if (FormFields11.category_id == '') {\n  //     const parent_cat_id = default_category\n  //     FormFields11.category_id = parent_cat_id\n  //   }\n  //   let temp_time = selectedTime.split(' ');\n  //   FormFields11.rymindr_to_group = checked.join()\n  //   FormFields11.rymindr_group_members_to = [...new Set(group_members)].join()\n  //   FormFields11.user_id = user_id\n  //   FormFields11.user_name = first_name\n  //   FormFields11.rymindr_date = moment(selectedDate).format('YYYY-MM-DD')\n  //   FormFields11.rymindr_time = temp_time[1]\n  //   FormFields11.rymindr_to =\n  //     matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join()\n  //   if (!state.switchrecuring) {\n  //     delete FormFields11.rymindr_period_type\n  //     delete FormFields11.rymindr_recurring_type\n  //   }\n  //   const sendAttachment = files\n  //   const unmatch = matched_contact ? matched_contact.mobile_no : ''\n  //   console.warn('FormFields11123', FormFields11, unmatch, history, sendAttachment);\n  //   createRymindr(FormFields11, unmatch, history, sendAttachment)\n  // }\n  console.log('group_members--', group_members);\n  const handleToSubmit = () => {\n    if (validate()) return false;\n    const FormFields11 = { ...formvalue };\n    if (FormFields11.category_id == '') {\n      const parent_cat_id = default_category;\n      FormFields11.category_id = parent_cat_id;\n    }\n    let temp_time = selectedTime.split(' ');\n    FormFields11.rymindr_to_group = checked.join();\n    FormFields11.rymindr_group_members_to = group_members;\n    // FormFields11.rymindr_group_members_to = [...new Set(group_members)].join()\n    FormFields11.user_id = user_id;\n    FormFields11.user_name = first_name;\n\n    const startDate = moment(selectedDate).format('YYYY-MM-DD');\n    const endDate = moment(selectedEndDate).format('YYYY-MM-DD');\n\n    FormFields11.rymindr_date = startDate;\n    FormFields11.rymindr_end_date = endDate;\n    FormFields11.rymindr_time = temp_time[1];\n    FormFields11.rymindr_to =\n      matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join();\n    if (state.switchrecuring) {\n      console.log('startDate====', startDate);\n      console.log('endDate====', endDate);\n      FormFields11.rymindr_period_type = getPeriod_type(startDate, endDate, FormFields11.rymindr_recurring_type);\n    } else {\n      delete FormFields11.rymindr_period_type;\n      delete FormFields11.rymindr_end_date;\n      delete FormFields11.rymindr_recurring_type;\n    }\n    const sendAttachment = files;\n    const unmatch = matched_contact ? matched_contact.mobile_no : '';\n\n    //console.log('sendAttachment=========',sendAttachment);\n\n    //console.warn('FormFields11123', FormFields11, unmatch, history, sendAttachment);\n    console.log('FormFields11-', FormFields11);\n    createRymindr(FormFields11, unmatch, history, sendAttachment);\n  };\n\n  const getPeriod_type = (d1, d2, recurring_type) => {\n    const secondsDiff = (d1, d2) => {\n      let millisecondDiff = d2 - d1;\n      let secDiff = Math.floor((d2 - d1) / 1000);\n      return secDiff;\n    };\n\n    const minutesDiff = (d1, d2) => {\n      let seconds = secondsDiff(d1, d2);\n      let minutesDiff = Math.floor(seconds / 60);\n      return minutesDiff;\n    };\n\n    const hoursDiff = (d1, d2) => {\n      let minutes = minutesDiff(d1, d2);\n      let hoursDiff = Math.floor(minutes / 60);\n      return hoursDiff;\n    };\n\n    const daysDiff = (d1, d2) => {\n      let hours = hoursDiff(d1, d2);\n      let daysDiff = Math.floor(hours / 24);\n      return daysDiff;\n    };\n    const weeksDiff = (d1, d2) => {\n      let days = daysDiff(d1, d2);\n      let weeksDiff = Math.floor(days / 7);\n      return weeksDiff;\n    };\n    const yearsDiff = (d1, d2) => {\n      let date1 = new Date(d1);\n      let date2 = new Date(d2);\n      let yearsDiff = date2.getFullYear() - date1.getFullYear();\n      return yearsDiff;\n    };\n    const monthsDiff = (d1, d2) => {\n      let date1 = new Date(d1);\n      let date2 = new Date(d2);\n      let years = yearsDiff(d1, d2);\n      let months = years * 12 + (date2.getMonth() - date1.getMonth());\n      return months;\n    };\n\n    let numbers = '';\n    if (recurring_type == 'Daily') {\n      numbers = daysDiff(new Date(d1).getTime(), new Date(d2).getTime());\n    } else if (recurring_type == 'Weekly') {\n      numbers = weeksDiff(new Date(d1).getTime(), new Date(d2).getTime());\n    } else if (recurring_type == 'Monthly') {\n      numbers = monthsDiff(new Date(d1).getTime(), new Date(d2).getTime());\n    } else if (recurring_type == 'Yearly') {\n      numbers = yearsDiff(new Date(d1).getTime(), new Date(d2).getTime());\n    }\n    return numbers;\n  };\n\n  const handleAllMembersToggle = (value) => {\n    const newChecked = [...value];\n    setMemberchecked(newChecked);\n    console.log('memberchecked-', memberchecked);\n  };\n\n  const handleAllGroupMembersToggle = (value) => {\n    const newChecked = [...value];\n    setChecked(newChecked);\n    console.log('checked', checked);\n    let members = '';\n    const groupMembers = groups.forEach((item) => {\n      members = members + ',' + item.group_members;\n    });\n    setGroup_members(members);\n    console.log('members-', members);\n  };\n\n  useMemo(() => {\n    const newChecked = [...checked];\n\n    if (member_id != 0 || group_id != 0) {\n      const groupname = [];\n      const membername = [];\n      if (group_id != '0') {\n        if (groups.length > 0) {\n          groups.forEach((element) => {\n            if (element.group_id == group_id) {\n              groupname.push(element.group_name);\n            }\n          });\n        } else {\n          groupname.push(get_name);\n        }\n\n        newChecked.push(group_id);\n        setChecked(newChecked);\n      } else if (member_id != '0') {\n        if (businessusers.length > 0) {\n          businessusers.forEach((element) => {\n            if (element.user_id == member_id) {\n              if (element.first_name !== '') {\n                membername.push(`${element.first_name} ${element.last_name}`);\n              } else {\n                membername.push(`${element.mobile_no}`);\n              }\n            }\n          });\n        } else {\n          membername.push(get_name);\n        }\n\n        newChecked.push(member_id);\n        setMemberchecked(newChecked);\n      }\n\n      setGroupname_membersname(groupname.concat(membername));\n    }\n    if (member_id == undefined && group_id == undefined) {\n      const membername = [];\n      const members = [];\n      membername.push('You');\n      members.push(user_id);\n      setMemberchecked(members);\n      setGroupname_membersname(membername);\n    }\n  }, [groups, businessusers]);\n  useMemo(() => {\n    error && enqueueSnackbar(error, { variant: 'error' });\n  }, [error]);\n\n  // useMemo(() => {\n  //   success_message && enqueueSnackbar(success_message, { variant: 'success' })\n  // }, [success_message])\n\n  const handleToopen = () => {\n    setOpen(true);\n  };\n\n  const deleteImage2 = (index, file) => {\n    files.splice(index, 1);\n    if (files.length == 0) {\n      setFiles([]);\n    } else {\n      setFiles([...files]);\n    }\n  };\n\n  const deleteImage = (index, file) => {\n    if (file && file.name) {\n      var removeIndex = files\n        .map(function (item) {\n          return item.name;\n        })\n        .indexOf(file.name);\n      files.splice(removeIndex, 1);\n    }\n    if (files.length == 0) {\n      setFiles([]);\n    } else {\n      setFiles([...files]);\n      console.log('files===', files);\n    }\n  };\n\n  const getFiles = (inputfile) => {\n    const file_Array = [...files];\n    inputfile.map((files1) => {\n      var extn = files1.name.split('.');\n      var etn = ['docx', 'doc', 'pdf', 'jpg', 'jpeg', 'png'];\n\n      var low = extn[1].toLowerCase();\n\n      files.push(files1);\n    });\n\n    setFiles([...files]);\n  };\n\n  const handleChangeEditor = (data) => {\n    setFormValidation(data);\n    setFormvalue({ ...formvalue, note: data });\n  };\n\n  // const { member_id, group_id, get_name } = useParams()\n  return (\n    <>\n      <MuiPickersUtilsProvider utils={MomentUtils}>\n        <ConfirmationDialogRaw open={open} onClose={handleClose} groupdata={groups} memberdata={businessusers}>\n          <Tabmenu\n            groupdata={groups}\n            memberdata={businessusers}\n            handleToggles={handleGroupToggle}\n            checked={checked}\n            handleMemberToggle={handleMemberToggle}\n            memberchecked={memberchecked}\n            handleAllMembersToggle={handleAllMembersToggle}\n            handleAllGroupMembersToggle={handleAllGroupMembersToggle}\n            handleToTagvalue={handleToTagvalue}\n          />\n        </ConfirmationDialogRaw>\n        <Grid className=\"main-wrap-head\" container style={{ marginBottom: 20 }} alignItems=\"center\">\n          <Grid item xs={7}>\n            <TypoHeadStyled variant=\"h4\">\n              Create <TypoHeadInnerStyled component=\"span\">Rymindr</TypoHeadInnerStyled>\n            </TypoHeadStyled>\n          </Grid>\n          <Grid item xs={5}>\n            <Box display=\"flex\" justifyContent=\"flex-end\">\n              <Button variant=\"contained\" color=\"primary\" onClick={handleReset} size=\"large\" startIcon={<Replay />}>\n                Reset\n              </Button>\n            </Box>\n          </Grid>\n        </Grid>\n\n        <PaperStyled className=\"main-wrap-body create-ray-cont\">\n          <Grid className=\"article-content\">\n            <div className=\"slideContainer\">\n              {categories.length > 0 && loaded ? (\n                <Slider ref={(slider) => setSlider(slider)} {...settings}>\n                  {categories.map((item, key) => {\n                    return item.is_message_center == 0 ? (\n                      <SlideBoxStyled key={key} data={item}>\n                        <img src={item.category_image} className=\"SlideIcon\" />\n                        <SlideType>{item.category_name}</SlideType>\n                      </SlideBoxStyled>\n                    ) : (\n                      ''\n                    );\n                  })}\n                </Slider>\n              ) : (\n                <div>Loading...</div>\n              )}\n            </div>\n\n            <GridStyled container spacing={5}>\n              <Grid item xs={4}>\n                <TextField\n                  id=\"outlined-select-currency\"\n                  select\n                  label=\"Sub Category\"\n                  value={formvalue.subcategory_id}\n                  fullWidth\n                  onChange={handleChange}\n                  name=\"rymindr_type\"\n                  variant=\"outlined\"\n                  error={!!formValidation.subcategory_id}\n                  helperText={formValidation.subcategory_id}\n                >\n                  {subcategories.length > 0\n                    ? subcategories.map((option, key) => (\n                        <MenuItem key={key} value={option.id}>\n                          {option.category_name}\n                        </MenuItem>\n                      ))\n                    : loading && <CircularSpinner />}\n                </TextField>\n              </Grid>\n              {console.log('formvalue', formvalue)}\n              <Grid item xs={4}>\n                <DatePicker\n                  label=\"Set Date\"\n                  inputVariant=\"outlined\"\n                  value={selectedDate}\n                  onChange={handleDateChange}\n                  animateYearScrolling\n                  format=\"DD/MM/YYYY\"\n                  fullWidth\n                  name=\"rymindr_date\"\n                  error={!!dateErr}\n                  helperText={dateErr}\n                  disablePast={true}\n                />\n              </Grid>\n              <Grid item xs={4}>\n                <TimePicker\n                  inputVariant=\"outlined\"\n                  label=\"Set Time\"\n                  value={selectedTime}\n                  onChange={handleTimeChange}\n                  fullWidth\n                  ampm={false}\n                  error={!!timeErr}\n                  helperText={timeErr}\n                />\n              </Grid>\n              <Grid item xs={4}>\n                <Autocomplete\n                  multiple\n                  limitTags={1}\n                  id=\"tags-filled\"\n                  filterSelectedOptions={false}\n                  options={groupname_membersname}\n                  freeSolo\n                  value={groupname_membersname}\n                  freeSolo\n                  onChange={(event, newValue) => {\n                    if (newValue.length) {\n                      const newVal = newValue.toString();\n                      const getArray = newVal.split(',');\n\n                      const user_id_arr = [];\n                      const group_id_arr = [];\n                      for (let i = 0; i < getArray.length; i++) {\n                        const getNewList = businessusers.find(\n                          (ele) => ele.first_name + ' ' + ele.last_name == getArray[i]\n                        );\n\n                        if (getNewList) {\n                          if (getNewList == undefined) {\n                          } else {\n                            user_id_arr.push(getNewList.user_id);\n                            setcheckOnSelectAllMembers(false);\n                          }\n\n                          break;\n                        } else {\n                          // FOR GROUPS\n                          const getNewGroupList = groups.find((ele) => ele.group_name == getArray[i]);\n                          if (getNewGroupList == undefined) {\n                          } else {\n                            group_id_arr.push(getNewGroupList.group_id);\n                            setcheckOnSelectAllGroup(false);\n                            break;\n                          }\n                        }\n                      }\n                      setGroupname_membersname(newValue);\n\n                      if (user_id_arr.length) {\n                        const data = user_id_arr[0];\n                        const index = memberchecked.indexOf(data);\n                        if (index > -1) {\n                          memberchecked.splice(index, 1);\n                        }\n                        // newChecked.push(group_id);\n                      } else if (group_id_arr.length) {\n                        const data = group_id_arr[0];\n                        const index = checked.indexOf(data);\n                        if (index > -1) {\n                          checked.splice(index, 1);\n                        }\n                      }\n                      setMemberchecked(memberchecked);\n                      setChecked(checked);\n                    }\n                  }}\n                  renderInput={(params) => (\n                    <TextField\n                      {...params}\n                      variant=\"outlined\"\n                      label=\"To\"\n                      onChange={handleToopen}\n                      onClick={handleToopen}\n                      error={!!toErr}\n                      helperText={toErr}\n                    />\n                  )}\n                />\n              </Grid>\n              {state.switchrecuring && (\n                <Grid item xs={4}>\n                  <TextField\n                    id=\"outlined-select-currency\"\n                    select\n                    label=\"Period\"\n                    value={formvalue.rymindr_recurring_type}\n                    fullWidth\n                    onChange={handleChange}\n                    variant=\"outlined\"\n                    name=\"rymindr_recurring_type\"\n                    error={!!formValidation.rymindr_recurring_type}\n                    helperText={formValidation.rymindr_recurring_type}\n                  >\n                    {Recurring.map((option) => (\n                      <MenuItem key={option} value={option}>\n                        {option}\n                      </MenuItem>\n                    ))}\n                  </TextField>\n                </Grid>\n              )}\n\n              <Grid item xs={4}>\n                {state.switchrecuring && (\n                  // <TextField\n                  //   id='outlined-select-currency'\n                  //   label='No. of Time'\n                  //   value={formvalue.rymindr_period_type}\n                  //   fullWidth\n                  //   name='rymindr_period_type'\n                  //   onChange={handleChange}\n                  //   variant='outlined'\n                  //   error={!!formValidation.rymindr_period_type}\n                  //   helperText={formValidation.rymindr_period_type}\n                  // />\n                  <DatePicker\n                    label=\"Set End Date\"\n                    inputVariant=\"outlined\"\n                    value={selectedEndDate}\n                    onChange={handleEndDateChange}\n                    animateYearScrolling\n                    format=\"DD/MM/YYYY\"\n                    fullWidth\n                    name=\"rymindr_end_date\"\n                    error={!!endDateErr}\n                    helperText={endDateErr}\n                    disablePast={true}\n                  />\n                )}\n                <FormControlLabel\n                  style={{ position: 'static', marginLeft: 6, marginTop: 8 }}\n                  control={\n                    <Switch\n                      checked={state.switchrecuring}\n                      onChange={handleSwitchChange}\n                      name=\"switchrecuring\"\n                      color=\"primary\"\n                    />\n                  }\n                  label=\"Recurring\"\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <CKEditor\n                  id=\"editor1\"\n                  config={ckEditorConfig}\n                  editor={Editor}\n                  data={formvalue.note}\n                  name=\"note\"\n                  onReady={(editor) => {\n                    console.log('Editor is ready to use!', editor);\n                  }}\n                  // onChange={ ( event, editor ) => {\n                  //     const data = editor.getData();\n                  //     handleChangeEditor(data)\n                  // }}\n                  onBlur={(event, editor) => {\n                    console.log('Blur.', editor);\n                    const data = editor.getData();\n                    handleChangeEditor(data);\n                  }}\n                  onFocus={(event, editor) => {\n                    console.log('Focus.', editor);\n                  }}\n                />\n                <p style={{ color: 'red', marginLeft: '1rem', fontSize: '12px', marginTop: '4px' }}>\n                  {formValidation.note}\n                </p>\n\n                {/* <TextField\n                id='outlined-multiline-static'\n                label='What’s the rymindr'\n                fullWidth\n                multiline\n                rows={4}\n                rowsMax={100}\n                variant='outlined'\n                name='note'\n                value={formvalue.note}\n                error={!!formValidation.note}\n                helperText={formValidation.note}\n                onChange={handleChange}\n              /> */}\n              </Grid>\n\n              <Grid item xs={12}>\n                <Box display=\"flex\">\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={state.is_qrcode}\n                        onChange={handleChangeCheck}\n                        name=\"is_qrcode\"\n                        color=\"primary\"\n                      />\n                    }\n                    label=\"Generate QR code\"\n                  />\n\n                  <FormControlLabel\n                    className=\"attachement\"\n                    control={\n                      <FileBase64\n                        multiple\n                        onDone={getFiles}\n                        onClick={(e) => (e.target.value = null)}\n                        className=\"displayNone\"\n                        style={{ display: 'none' }}\n                      />\n                    }\n                    label={\n                      <Typography variant=\"subtitle1\" component=\"span\" style={{ marginLeft: 50 }}>\n                        <Attachment style={{ marginBottom: -6, marginRight: 10 }} color=\"primary\" /> Attachments\n                      </Typography>\n                    }\n                  />\n                </Box>\n                <Box alignItems=\"center\" display=\"flex\">\n                  {files &&\n                    files.map((file, index) => {\n                      // alert(files.length+'----'+index+'----'+file);\n                      const extension_arr = file.name.split('.');\n                      const extension = extension_arr[1];\n\n                      if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n                        return (\n                          <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                            <img src={file.base64} width=\"32\" height=\"32\" className={classes.iconAttach} />{' '}\n                            <Box className={classes.fileName}>{file.name}</Box>{' '}\n                            <CancelIcon onClick={() => deleteImage(index, file)} />\n                          </TypoStyled>\n                        );\n                      } else if (extension == 'mp3') {\n                        return (\n                          <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                            <Headset className={classes.iconAttach} /> {file.name}{' '}\n                            <CancelIcon onClick={() => deleteImage(index, file)} />\n                          </TypoStyled>\n                        );\n                      } else if (extension == 'mp4') {\n                        return (\n                          <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                            <Videocam className={classes.iconAttach} /> {file.name}{' '}\n                            <CancelIcon onClick={() => deleteImage(index, file)} />\n                          </TypoStyled>\n                        );\n                      } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n                        return (\n                          <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                            <Description className={classes.iconAttach} /> {file.name}{' '}\n                            <CancelIcon onClick={() => deleteImage(index, file)} />\n                          </TypoStyled>\n                        );\n                      } else {\n                        return (\n                          <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                            <Description className={classes.iconAttach} /> {file.name}{' '}\n                            <CancelIcon onClick={() => deleteImage(index, file)} />\n                          </TypoStyled>\n                        );\n                      }\n                    })}\n                </Box>\n              </Grid>\n\n              <Grid item xs={5} />\n              <Grid item xs={7}>\n                <Box display=\"flex\" justifyContent=\"flex-end\">\n                  <ButtonStyled\n                    onClick={handleToSubmit}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"large\"\n                    startIcon={<Send />}\n                    disabled={loading}\n                  >\n                    {loading && <CircularSpinner />}\n                    Send Rymindr\n                  </ButtonStyled>\n                </Box>\n              </Grid>\n            </GridStyled>\n          </Grid>\n        </PaperStyled>\n      </MuiPickersUtilsProvider>\n    </>\n  );\n};\nconst mapStateToProps = (state) => {\n  console.log('State - ', state);\n  return {\n    loading: state.rymidr.loading,\n    error: state.rymidr.error,\n    categories: state.rymidr.categories,\n    subcategories: state.rymidr.subcategories,\n    groups: state.rymidr.groups,\n    businessusers: state.rymidr.businessusers,\n    matched_contact: state.rymidr.matched_contact,\n    success_message: state.rymidr.success_message,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getcategories: (data) => dispatch(getCategories(data)),\n    getSubCategories: (data) => dispatch(getSubCategories(data)),\n    getGroups: (data) => dispatch(getGroups(data)),\n    getBusinessUsers: (data) => dispatch(getBusinessUsers(data)),\n    createRymindr: (data, unmatch, history, sendAttachment) =>\n      dispatch(createRymindr(data, unmatch, history, sendAttachment)),\n    inviteAndAddMobile: (data) => dispatch(inviteAndAddMobile(data)),\n  };\n};\n\nCreateRymindr.propTypes = {\n  enqueueSnackbar: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  getcategories: PropTypes.func.isRequired,\n  error: PropTypes.string.isRequired,\n  categories: PropTypes.array.isRequired,\n  subcategories: PropTypes.array.isRequired,\n  getSubCategories: PropTypes.func.isRequired,\n  getGroups: PropTypes.func.isRequired,\n  groups: PropTypes.array.isRequired,\n  businessusers: PropTypes.array.isRequired,\n  getBusinessUsers: PropTypes.func.isRequired,\n  createRymindr: PropTypes.func.isRequired,\n  inviteAndAddMobile: PropTypes.func.isRequired,\n  matched_contact: PropTypes.any.isRequired,\n  success_message: PropTypes.any.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(CreateRymindr));\n"]},"metadata":{},"sourceType":"module"}