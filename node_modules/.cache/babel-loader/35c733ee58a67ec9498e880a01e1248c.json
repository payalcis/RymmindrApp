{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _beedle = _interopRequireDefault(require(\"beedle\"));\n\nvar _requests = require(\"./requests\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar _saveUrl;\n\nvar _onPost;\n\nvar _onLoad;\n\nvar store = new _beedle[\"default\"]({\n  actions: {\n    setData: function setData(context, data, saveData) {\n      context.commit('setData', data);\n      if (saveData) this.save(data);\n    },\n    load: function load(context, _ref) {\n      var _this = this;\n\n      var loadUrl = _ref.loadUrl,\n          saveUrl = _ref.saveUrl,\n          data = _ref.data;\n      _saveUrl = saveUrl;\n\n      if (_onLoad) {\n        _onLoad().then(function (x) {\n          if (data && data.length > 0 && x.length === 0) {\n            data.forEach(function (y) {\n              return x.push(y);\n            });\n          }\n\n          _this.setData(context, x);\n        });\n      } else if (loadUrl) {\n        (0, _requests.get)(loadUrl).then(function (x) {\n          if (data && data.length > 0 && x.length === 0) {\n            data.forEach(function (y) {\n              return x.push(y);\n            });\n          }\n\n          _this.setData(context, x);\n        });\n      } else {\n        this.setData(context, data);\n      }\n    },\n    create: function create(context, element) {\n      var data = context.state.data;\n      data.push(element);\n      this.setData(context, data, true);\n    },\n    \"delete\": function _delete(context, element) {\n      var data = context.state.data;\n      data.splice(data.indexOf(element), 1);\n      this.setData(context, data, true);\n    },\n    updateOrder: function updateOrder(context, elements) {\n      var newData = elements.filter(function (x) {\n        return x && !x.parentId;\n      });\n      elements.filter(function (x) {\n        return x && x.parentId;\n      }).forEach(function (x) {\n        return newData.push(x);\n      }); // console.log('setAsChild', newData);\n\n      this.setData(context, newData, true);\n    },\n    save: function save(data) {\n      if (_onPost) {\n        _onPost({\n          task_data: data\n        });\n      } else if (_saveUrl) {\n        (0, _requests.post)(_saveUrl, {\n          task_data: data\n        });\n      }\n    }\n  },\n  mutations: {\n    setData: function setData(state, payload) {\n      // eslint-disable-next-line no-param-reassign\n      state.data = payload;\n      return state;\n    }\n  },\n  initialState: {\n    data: []\n  }\n});\n\nstore.setExternalHandler = function (onLoad, onPost) {\n  _onLoad = onLoad;\n  _onPost = onPost;\n};\n\nvar _default = store;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/var/www/html/RymindrAppNew/node_modules/react-form-builder2/lib/stores/store.js"],"names":["Object","defineProperty","exports","value","_beedle","_interopRequireDefault","require","_requests","obj","__esModule","_saveUrl","_onPost","_onLoad","store","actions","setData","context","data","saveData","commit","save","load","_ref","_this","loadUrl","saveUrl","then","x","length","forEach","y","push","get","create","element","state","_delete","splice","indexOf","updateOrder","elements","newData","filter","parentId","task_data","post","mutations","payload","initialState","setExternalHandler","onLoad","onPost","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _beedle = _interopRequireDefault(require(\"beedle\"));\n\nvar _requests = require(\"./requests\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _saveUrl;\n\nvar _onPost;\n\nvar _onLoad;\n\nvar store = new _beedle[\"default\"]({\n  actions: {\n    setData: function setData(context, data, saveData) {\n      context.commit('setData', data);\n      if (saveData) this.save(data);\n    },\n    load: function load(context, _ref) {\n      var _this = this;\n\n      var loadUrl = _ref.loadUrl,\n          saveUrl = _ref.saveUrl,\n          data = _ref.data;\n      _saveUrl = saveUrl;\n\n      if (_onLoad) {\n        _onLoad().then(function (x) {\n          if (data && data.length > 0 && x.length === 0) {\n            data.forEach(function (y) {\n              return x.push(y);\n            });\n          }\n\n          _this.setData(context, x);\n        });\n      } else if (loadUrl) {\n        (0, _requests.get)(loadUrl).then(function (x) {\n          if (data && data.length > 0 && x.length === 0) {\n            data.forEach(function (y) {\n              return x.push(y);\n            });\n          }\n\n          _this.setData(context, x);\n        });\n      } else {\n        this.setData(context, data);\n      }\n    },\n    create: function create(context, element) {\n      var data = context.state.data;\n      data.push(element);\n      this.setData(context, data, true);\n    },\n    \"delete\": function _delete(context, element) {\n      var data = context.state.data;\n      data.splice(data.indexOf(element), 1);\n      this.setData(context, data, true);\n    },\n    updateOrder: function updateOrder(context, elements) {\n      var newData = elements.filter(function (x) {\n        return x && !x.parentId;\n      });\n      elements.filter(function (x) {\n        return x && x.parentId;\n      }).forEach(function (x) {\n        return newData.push(x);\n      }); // console.log('setAsChild', newData);\n\n      this.setData(context, newData, true);\n    },\n    save: function save(data) {\n      if (_onPost) {\n        _onPost({\n          task_data: data\n        });\n      } else if (_saveUrl) {\n        (0, _requests.post)(_saveUrl, {\n          task_data: data\n        });\n      }\n    }\n  },\n  mutations: {\n    setData: function setData(state, payload) {\n      // eslint-disable-next-line no-param-reassign\n      state.data = payload;\n      return state;\n    }\n  },\n  initialState: {\n    data: []\n  }\n});\n\nstore.setExternalHandler = function (onLoad, onPost) {\n  _onLoad = onLoad;\n  _onPost = onPost;\n};\n\nvar _default = store;\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}