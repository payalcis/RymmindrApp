{"ast":null,"code":"var _jsxFileName = \"/var/www/html/RymindrAppNew/src/container/MessageCenter/DirectMessage/DirectMessage.js\";\nimport { Visibility, Replay, Send, AddCircle, Cancel, Headset, Videocam, Image, Description, Attachment } from '@material-ui/icons';\nimport { Box, Button, Checkbox, FormControlLabel, Grid, MenuItem, Paper, Switch, TextField, Typography, Radio, RadioGroup, Divider, FormControl, FormLabel, IconButton } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { Link, useHistory, match, location, useParams } from 'react-router-dom';\nimport { DatePicker, MuiPickersUtilsProvider, TimePicker } from '@material-ui/pickers';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { // createRymindr,\ngetBusinessUsers, // getCategories,\ngetGroups, // getSubCategories,\ninviteAndAddMobile } from '../../../store/actions/rymidr';\nimport { createMessageCenter, updateMessageCenter, getCategories, getRymindrList, searchRymindrList, getMessageDetailsById } from '../../../store/actions/messageCenterAction';\nimport { makeStyles, styled } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CircularSpinner from '../../../component/CircularSpinner/index'; // import ConfirmationDialogRaw from './Modal'\n\nimport DialogRaw from './Modal/Rymindrindex';\nimport MomentUtils from '@date-io/moment';\nimport PropTypes from 'prop-types'; // import Tabmenu from './Modal/Memberlist'\n\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { withSnackbar } from 'notistack';\nimport FileBase64 from 'react-file-base64';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport Editor from 'ckeditor5-custom-build/build/ckeditor';\nimport ckEditorConfig from '../../../helper/ckEditorConfig';\nimport ConfirmationDialogRaw from '../../Bookings/EventBooking/Modal';\nimport Tabmenu from '../../Bookings/EventBooking/Modal/Memberlist';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n    position: 'relative'\n  },\n  iconAttach: {\n    color: theme.palette.primary.dark,\n    background: theme.palette.primary.light,\n    height: 32,\n    width: 32,\n    borderRadius: 60,\n    padding: 5,\n    float: 'left',\n    marginTop: -5,\n    marginRight: '10px'\n  },\n  categoryIon: {\n    height: 32,\n    margin: -10,\n    marginLeft: 0,\n    marginRight: 5\n  },\n  fileName: {\n    maxWidth: 140,\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    overflow: 'hidden'\n  },\n  verticalClass: {\n    marginLeft: 10,\n    verticalAlign: 'middle'\n  }\n}));\nconst TypoHeadStyled = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 24,\n  color: theme.palette.primary.main,\n  textTransform: 'uppercase',\n  fontWeight: 'bold'\n}));\nconst TypoHeadInnerStyled = styled(TypoHeadStyled)(({\n  theme\n}) => ({\n  color: theme.palette.text.primary\n}));\nconst PaperStyled = styled(Paper)({\n  padding: '10px 15px'\n});\nconst SlideBoxStyled = styled(Box)(() => ({\n  textAlign: 'center',\n  display: 'inline-block',\n  padding: '10px 15px',\n  borderRadius: 10,\n  '& img': {\n    display: 'inline-block',\n    height: 75,\n    width: 75\n  }\n}));\nconst SlideType = styled(Typography)(({\n  theme\n}) => ({\n  color: theme.palette.text.primary,\n  fontSize: 16\n}));\nconst GridStyled = styled(Grid)(({\n  theme\n}) => ({\n  paddingLeft: '10rem',\n  paddingRight: '10rem',\n  [theme.breakpoints.down('md')]: {\n    paddingLeft: '8rem',\n    paddingRight: '8rem'\n  },\n  [theme.breakpoints.down('sm')]: {\n    paddingLeft: '2rem'\n  }\n}));\nconst Recurring = ['Daily', 'Weekly', 'Monthly', 'Yearly'];\nconst FormFields = {\n  subject: '',\n  message: '',\n  message_group: '',\n  category: '',\n  to_group: '',\n  to_member: ''\n};\nconst ButtonColor = styled(Button)(({\n  theme\n}) => ({\n  background: theme.palette.props.main,\n  color: theme.palette.props.contrastText\n}));\nconst TypoStyled = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 16,\n  color: theme.palette.text.primary,\n  marginTop: 10,\n  marginBottom: 20,\n  cursor: 'pointer',\n  marginRight: 30\n}));\n\nconst DirectMessage = props => {\n  const classes = useStyles();\n  const {\n    enqueueSnackbar,\n    error,\n    success_message,\n    categories,\n    subcategories,\n    // getSubCategories,\n    getGroups,\n    groups,\n    businessusers,\n    getBusinessUsers,\n    userRymindrList,\n    getRymindrList,\n    // createRymindr,\n    createMessageCenter,\n    updateMessageCenter,\n    inviteAndAddMobile,\n    matched_contact,\n    messageDetailsById,\n    loading\n  } = props;\n  const {\n    user_id,\n    business_code,\n    first_name,\n    last_name\n  } = JSON.parse(localStorage.getItem('userData'));\n  const [state, setState] = useState({\n    checkedB: true,\n    switch: false\n  });\n  const history = useHistory();\n  const date = new Date();\n  const [selectedDate, sethandleDateChange] = useState(new Date());\n  const [selectedTime, sethandleTimeChange] = useState(date.getTime() + 5 * 60000);\n  const [subcategory, setSubCategory] = useState(0);\n  const [checked, setChecked] = useState([]);\n  const [memberchecked, setMemberchecked] = useState([]);\n  const [group_members, setGroup_members] = useState([]);\n  const [checkOnSelectAllMembers, setcheckOnSelectAllMembers] = useState(false);\n  const [checkOnSelectAllGroup, setcheckOnSelectAllGroup] = useState(false);\n  const [groupname_membersname, setGroupname_membersname] = useState([]);\n  const [formvalue, setFormvalue] = useState(FormFields);\n  const [formValidation, setFormValidation] = useState(FormFields);\n  const [open, setOpen] = useState(false);\n  const [timeErr, setTimeErr] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState([]);\n  const [subject, setSubject] = useState('');\n  const [message, setMessage] = useState('');\n  const [files, setFiles] = useState([]);\n  const [openRymindr, setOpenRymindr] = useState(false);\n  const [rymindrCount, setRymindrCount] = useState('');\n  const [rymindrLink, setRymindrLink] = useState([]);\n  const [rymindrId, setRymindrId] = useState([]);\n  const [messageDetailById, setMessageDetailById] = useState(messageDetailsById);\n  const [deleteFiles, setDeleteFiles] = useState([]);\n  let {\n    ID,\n    member_id,\n    group_id,\n    get_name\n  } = useParams();\n\n  const handleToopenRymindr = () => {\n    setOpenRymindr(true);\n  };\n\n  const updateRymindrCount = c => {\n    // alert(c);\n    // setFormvalue({ ...formvalue, ['linkRymindr']: setRymindrCount })\n    setRymindrCount(c);\n  };\n\n  const updateRymindrLink = c_id => {\n    setFormvalue({ ...formvalue,\n      linkRymindr: c_id\n    });\n    setRymindrLink(c_id);\n  };\n\n  const handleCloseRymindr = newValue => {\n    // alert('main'+newValue);\n    setOpenRymindr(newValue);\n  };\n\n  const handleChange = e => {\n    const formdata = { ...formvalue\n    };\n    const formvalidation = { ...formValidation\n    };\n    const value = e.target.value;\n    const name = e.target.name;\n\n    if (name === 'rymindr_type') {\n      const found = subcategories.find(element => element.id === value);\n      formdata.rymindr_type = found.category_name;\n      formdata.subcategory_id = value;\n      formvalidation.subcategory_id = '';\n      setFormValidation(formvalidation);\n    } else {\n      formdata[name] = value;\n    }\n\n    setFormvalue(formdata);\n  };\n\n  const handleDateChange = e => {\n    const date = new Date(e);\n    const selecteddate = moment(date).format('YYYY-MM-DD');\n    sethandleDateChange(selecteddate);\n    setFormvalue({ ...formvalue,\n      rymindr_date: selecteddate\n    });\n  };\n\n  const handleTimeChange = e => {\n    const date = new Date(e);\n    const selectedtime = moment(date).format('HH:mm');\n    var now = moment(new Date().getTime() + 5 * 60000).format('HH:mm');\n\n    if (now.toString() > selectedtime.toString()) {\n      setTimeErr('You can not choose a time before the current time.');\n    } else {\n      setTimeErr('');\n    }\n\n    sethandleTimeChange(new Date(e));\n    setFormvalue({ ...formvalue,\n      rymindr_time: selectedtime\n    });\n  };\n\n  const handleChangeCheck = event => {\n    setState({ ...state,\n      [event.target.name]: event.target.checked\n    });\n    setFormvalue({ ...formvalue,\n      [event.target.name]: event.target.checked\n    });\n  };\n\n  const handleSwitchChange = event => {\n    // alert('swicth',event.target.checked);\n    setState({ ...state,\n      [event.target.name]: event.target.checked\n    });\n    setFormvalue({ ...formvalue,\n      switch: !state.switch\n    });\n\n    if (event.target.checked == true) {\n      handleToopenRymindr();\n    }\n  };\n\n  const handleGroupToggle = value => {\n    setcheckOnSelectAllGroup(false);\n    const groupMembers = value.group_member_list;\n    console.log('checked=====', checked);\n    const currentIndex = checked.indexOf(value.group_id);\n    const newChecked = [...checked];\n    const selectedmember = [...group_members];\n\n    if (currentIndex === -1) {\n      newChecked.push(value.group_id);\n      groupMembers.forEach(element => {\n        selectedmember.push(element.user_id);\n      });\n    } else {\n      newChecked.splice(currentIndex, 1);\n      groupMembers.forEach(element => {\n        const remomeitem = selectedmember.indexOf(element.user_id);\n        selectedmember.splice(remomeitem, 1);\n      });\n    }\n\n    console.log('newChecked=====', newChecked);\n    setChecked(newChecked);\n    setGroup_members(selectedmember);\n    setFormvalue({ ...formvalue,\n      message_group: selectedmember\n    });\n  };\n\n  const handleMemberToggle = value => {\n    const currentIndex = memberchecked.indexOf(value.user_id);\n    const newChecked = [...memberchecked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value.user_id);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    } // alert('newChecked'+newChecked);\n\n\n    setMemberchecked(newChecked);\n    setFormvalue({ ...formvalue,\n      message_group: newChecked\n    }); // SELECT ALL\n\n    const groupname = [];\n    const membername = [];\n\n    if (value == 0) {\n      businessusers.forEach(element => {\n        membername.push(`${element.first_name} ${element.last_name}`);\n        newChecked.push(element.user_id);\n      });\n      setcheckOnSelectAllMembers(true);\n      setMemberchecked(newChecked);\n    } else if (value == 1) {\n      groups.forEach(element => {\n        groupname.push(element.group_name);\n        newChecked.push(element.group_id);\n      });\n      setcheckOnSelectAllGroup(true);\n      setChecked(newChecked);\n    } else if (value == 3) {\n      setcheckOnSelectAllMembers(false);\n      setMemberchecked([]);\n    } else if (value == 4) {\n      setcheckOnSelectAllGroup(false);\n      setChecked([]);\n    } else {\n      setcheckOnSelectAllMembers(false);\n    } //SELECT ALL\n\n  };\n\n  const handleAllMembersToggle = value => {\n    const newChecked = [...value];\n    const formvalidation = { ...formValidation\n    };\n    setFormvalue({ ...formvalue,\n      message_group: newChecked // to_member: '@'\n\n    });\n    formvalidation.to_member = '';\n    setFormValidation(formvalidation);\n    setMemberchecked(newChecked);\n  };\n\n  const handleAllGroupMembersToggle = value => {\n    const newChecked = [...value];\n    const selectedmember = [...newChecked];\n    const formvalidation = { ...formValidation\n    };\n    formvalidation.eventForm_to = '';\n    setFormValidation(formvalidation);\n    setFormvalue({ ...formvalue,\n      message_group: selectedmember // eventForm_to: '@'\n\n    });\n    setChecked(newChecked);\n    setGroup_members(selectedmember);\n  };\n\n  let currentPathname = history.location.pathname;\n  currentPathname = currentPathname.split('/');\n  const message_center_id = currentPathname[2] ? currentPathname[2] : '';\n  useEffect(() => {\n    // if (message_center_id && group_id != 0 && member_id != 0) {\n    if (message_center_id && group_id == undefined && member_id == undefined) {\n      const data = props.getMessageDetailsById({\n        user_id,\n        message_center_id\n      });\n      setMessageDetailById(messageDetailsById);\n    }\n\n    const dataToSend = {\n      user_id // category_id: ''\n\n    };\n    props.getcategories(dataToSend);\n    getGroups({\n      user_id\n    });\n    const SendToBusiness = {\n      user_id,\n      business_code\n    };\n    getBusinessUsers(SendToBusiness);\n    getRymindrList({\n      user_id\n    });\n  }, []);\n  useEffect(() => {\n    // if (message_center_id && group_id == 0 && member_id == 0) {\n    if (message_center_id && group_id == undefined && member_id == undefined) {\n      setMessageDetailById(messageDetailsById);\n      const formdata = { ...formvalue\n      };\n      const string_array = messageDetailsById.rymindr_array;\n\n      if (string_array && userRymindrList) {\n        const number_array = string_array.map(el => parseInt(el));\n        const rymindr_main_array = [];\n\n        for (let i = 0; i < number_array.length; i++) {\n          const isNumber = element => element.id == number_array[i];\n\n          const get_rymindr_index = userRymindrList.findIndex(isNumber);\n          rymindr_main_array.push({\n            key: get_rymindr_index,\n            id: number_array[i]\n          });\n        }\n\n        setRymindrId(rymindr_main_array);\n        formdata.linkRymindr = rymindr_main_array;\n        setFormvalue(formdata);\n      }\n\n      formdata.message_center_id = message_center_id;\n      setFormvalue(formdata);\n      console.warn('testing messageDetailsById', messageDetailsById);\n      setState({\n        switch: messageDetailsById.linked_to_rymindr != 0\n      });\n      formdata.switch = messageDetailsById.linked_to_rymindr != 0; // formdata.linkRymindr = rymindr_main_array ;\n\n      setFormvalue(formdata);\n      setMessage(messageDetailsById.message);\n      formdata.message = messageDetailsById.message;\n      setFormvalue(formdata);\n      setSubject(messageDetailsById.subject);\n      formdata.subject = messageDetailsById.subject;\n      setFormvalue(formdata);\n      setCurrency(messageDetailsById.category);\n      formdata.category = messageDetailsById.category;\n      setFormvalue(formdata);\n\n      if (messageDetailsById.group_array || messageDetailsById.member_array) {\n        if (messageDetailsById.group_array.length > 0) {\n          let arr = messageDetailsById.group_array.map(item => parseInt(item));\n          setChecked(arr);\n        } else {\n          setChecked([]);\n        }\n\n        setMemberchecked(messageDetailsById.member_array);\n        formdata.message_group = messageDetailsById.to_member ? messageDetailsById.to_member : messageDetailsById.to_group;\n        formdata.to_member = messageDetailsById.to_member;\n        formdata.to_group = messageDetailsById.to_group;\n        setFormvalue(formdata);\n        handleClose(false);\n      }\n\n      if (messageDetailsById.rymindr) {\n        const rymdrCount = messageDetailsById.rymindr.split(',').length;\n        setRymindrCount(rymdrCount);\n      } else {\n        setRymindrCount(0);\n      }\n\n      setRymindrLink(messageDetailsById.linked_to_rymindr);\n      const file_main_array = [];\n\n      if (messageDetailsById.attachment) {\n        // messageDetailsById.attachment.map((file_arr, file_index) => {\n        //   file_main_array.push(JSON.parse(file_arr.attachment_object));\n        // });\n        // console.log('messageDetailsById.attachment123=',messageDetailsById.attachment);\n        setFiles(messageDetailsById.attachment);\n      }\n    }\n  }, [messageDetailsById, userRymindrList]);\n\n  const handleClose = newValue => {\n    setOpen(newValue);\n    const membername = [];\n    const groupname = [];\n    groups.forEach(element => {\n      const checkvalue = checked.indexOf(element.group_id);\n\n      if (checkvalue !== -1) {\n        groupname.push(element.group_name);\n      }\n    });\n\n    if (businessusers.length > 0) {\n      businessusers.forEach(element => {\n        const checkvalue = memberchecked.indexOf(element.user_id);\n\n        if (checkvalue !== -1) {\n          membername.push(`${element.first_name} ${element.last_name}`);\n        }\n      });\n    }\n\n    setGroupname_membersname(groupname.concat(membername));\n    const dataToSend = {\n      mobile_no: phoneNumber.join()\n    };\n\n    if (phoneNumber.length > 0) {\n      inviteAndAddMobile(dataToSend);\n    }\n\n    if (newValue) {// setValue(newValue);\n    }\n  };\n\n  const validate = () => {\n    const formvalidation = { ...formValidation\n    }; // alert('subject'+formvalue.subject);\n\n    let isError = false;\n\n    if (!formvalue.subject) {\n      isError = true;\n      formvalidation.subject = 'Please input Subject!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.subject = '';\n      setFormValidation(formvalidation);\n    }\n\n    console.log('formvalue.category=========', formvalue.category);\n\n    if (!formvalue.category) {\n      isError = true;\n      formvalidation.category = 'Please select a Category!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.category = '';\n      setFormValidation(formvalidation);\n    }\n\n    if (!formvalue.message) {\n      isError = true;\n      formvalidation.message = 'Please input Message!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.message = '';\n      setFormValidation(formvalidation);\n    }\n\n    const value = formvalue.message_group;\n\n    if (value == '' || value == [] || value == undefined) {\n      isError = true;\n      formvalidation.message_group = 'Please select Contacts!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.message_group = '';\n      setFormValidation(formvalidation);\n    }\n\n    return isError;\n  };\n\n  const handleToTagvalue = value => {\n    setPhoneNumber(value);\n  };\n\n  const handleToSubmit = () => {\n    console.log('memberchecked22222', memberchecked);\n    console.warn('matched_contact44444', group_members);\n    console.warn('checked12121212', checked); // console.log('files====',files);\n    // return false;\n\n    if (validate()) return false;\n    const FormFields11 = { ...formvalue\n    };\n    FormFields11.rymindr_to_group = checked.join();\n    FormFields11.to_group = checked.join();\n    FormFields11.rymindr_group_members_to = [...new Set(group_members)].join();\n    FormFields11.user_id = user_id;\n    FormFields11.user_name = first_name;\n    FormFields11.category = currency;\n    FormFields11.rymindr_to = matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join();\n    FormFields11.to_member = matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join();\n    const sendAttachment = files;\n    const deleteAttachment = deleteFiles;\n    const unmatch = matched_contact ? matched_contact.mobile_no : '';\n\n    if (message_center_id && group_id == undefined && member_id == undefined) {\n      updateMessageCenter(FormFields11, unmatch, history, sendAttachment, deleteAttachment);\n    } else {\n      createMessageCenter(FormFields11, unmatch, history, sendAttachment);\n    }\n  }; // useMemo(() => {\n  //   success_message && enqueueSnackbar(success_message, { variant: 'success' })\n  // }, [success_message])\n\n\n  useMemo(() => {\n    error && enqueueSnackbar(error, {\n      variant: 'error'\n    });\n  }, [error]);\n\n  const handleToopen = () => {\n    setOpen(true);\n  };\n\n  const getBase64 = (file, cb) => {\n    //, cb\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = function () {\n      cb(reader.result); // console.log('cccccc', reader.result);\n    };\n\n    reader.onerror = function (error) {\n      console.log('Error: ', error);\n    };\n  };\n\n  const getFiles = e => {\n    const fileObj = [];\n    const fileArray = []; // alert('fileee-target'+ e.target.files);\n\n    fileObj.push(e.target.files);\n\n    for (let i = 0; i < fileObj[0].length; i++) {\n      if (files.length > 0) {\n        getBase64(fileObj[0][i], result => {\n          const fileInfo = {\n            name: fileObj[0][i].name,\n            type: fileObj[0][i].type,\n            size: Math.round(fileObj[0][i].size / 1000) + ' kB',\n            base64: fileObj[0][i].type == 'video/mp4' ? result.replace('data:video/mp4;base64,', '') : result,\n            file: fileObj[0][i]\n          };\n          files.push(fileInfo); // files.push({'base64': result, 'name': fileObj[0][i].name})\n\n          setFiles([...files]);\n        });\n      } else {\n        getBase64(fileObj[0][i], result => {\n          // idCardBase64 = result;\n          // Make a fileInfo Object\n          const fileInfo = {\n            name: fileObj[0][i].name,\n            type: fileObj[0][i].type,\n            size: Math.round(fileObj[0][i].size / 1000) + ' kB',\n            base64: fileObj[0][i].type == 'video/mp4' ? result.replace('data:video/mp4;base64,', '') : result,\n            file: fileObj[0][i]\n          };\n          fileArray.push(fileInfo);\n          setFiles([...fileArray]);\n        });\n      }\n    }\n  };\n\n  const getFiles11 = files => {\n    // files.map((file, index) => {\n    // var extn = file.name.split('.')\n    var etn = ['docx', 'doc', 'pdf', 'jpg', 'jpeg', 'png', 'mp4', 'mp3']; // var low = extn[1].toLowerCase()\n    // if (etn.includes(low)) {\n\n    setFiles(files); // } else {\n    // error\n    // }\n    // })\n  };\n\n  const deleteImage = (index, file) => {\n    if (file && file.attachment_object) {\n      let deleteThat = files.filter(a => a.attachment_object == file.attachment_object);\n      setDeleteFiles([...deleteFiles, ...deleteThat]);\n      var removeIndex = files.map(function (item) {\n        return item.attachment_object;\n      }).indexOf(file.attachment_object);\n      files.splice(removeIndex, 1);\n    } else if (file && file.name) {\n      var removeIndex = files.map(function (item) {\n        return item.name;\n      }).indexOf(file.name);\n      files.splice(removeIndex, 1);\n    }\n\n    if (files.length == 0) {\n      setFiles([]);\n    } else {\n      setFiles([...files]);\n    }\n  };\n\n  const deleteImage2 = (index, file) => {// if (file && file.attachment_object) {\n    //   var removeIndex = files\n    //     .map(function (item) {\n    //       return item.attachment_object;\n    //     })\n    //     .indexOf(file.attachment_object);\n    //   files.splice(removeIndex, 1);\n    // } else if (file && file.name) {\n    //   var removeIndex = files\n    //     .map(function (item) {\n    //       return item.name;\n    //     })\n    //     .indexOf(file.name);\n    //   files.splice(removeIndex, 1);\n    // }\n    // if (files.length == 0) {\n    //   setFiles([]);\n    // } else {\n    //   setFiles([...files]);\n    //   console.log('files===', files);\n    // }\n  };\n\n  const category = [{\n    value: 'USD',\n    label: '$'\n  }, {\n    value: 'EUR',\n    label: 'Parents Evening'\n  }];\n  const [currency, setCurrency] = React.useState('');\n\n  const handleCategoryChange = event => {\n    setCurrency(event.target.value);\n    setFormvalue({ ...formvalue,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleMessage = event => {\n    setFormvalue({ ...formvalue,\n      [event.target.name]: event.target.value\n    });\n    setMessage(event.target.value);\n  };\n\n  const handleSubject = event => {\n    setSubject(event.target.value);\n    setFormvalue({ ...formvalue,\n      [event.target.name]: event.target.value.trim()\n    });\n  }; // If member or group is selected via parameter.\n\n\n  useMemo(() => {\n    if (!ID) {\n      const newChecked = [...checked];\n\n      if (member_id != 0 || group_id != 0) {\n        const groupname = [];\n        const membername = [];\n\n        if (group_id != '0') {\n          if (groups.length > 0) {\n            groups.forEach(element => {\n              if (element.group_id == group_id) {\n                groupname.push(element.group_name);\n              }\n            });\n          } else {\n            groupname.push(get_name);\n          } // if(newChecked.indexOf(group_id) > -1 ){\n          //   newChecked.push(group_id)\n          // }\n\n\n          if (group_id) {\n            newChecked.push(group_id);\n          }\n\n          setChecked(newChecked);\n          setFormvalue({ ...formvalue,\n            message_group: group_id\n          });\n        } else if (member_id != '0') {\n          if (businessusers.length > 0) {\n            businessusers.forEach(element => {\n              if (element.user_id == member_id) {\n                membername.push(`${element.first_name} ${element.last_name}`);\n              }\n            });\n          } else {\n            membername.push(get_name);\n          }\n\n          newChecked.push(member_id);\n          setMemberchecked(newChecked);\n          setFormvalue({ ...formvalue,\n            message_group: member_id\n          });\n        }\n\n        setGroupname_membersname(groupname.concat(membername));\n      }\n\n      if (member_id == undefined && group_id == undefined) {\n        const membername = [];\n        const members = [];\n        setMemberchecked(members);\n        setGroupname_membersname(membername);\n      }\n    }\n  }, [groups, businessusers]);\n\n  const resetForm = () => {\n    setCurrency('');\n    setGroupname_membersname('');\n    setFormvalue(FormFields);\n    setFormValidation(FormFields);\n    setOpen(false);\n    setTimeErr('');\n    setPhoneNumber('');\n    setFiles([]);\n    setSubject('');\n    setMessage('');\n    setRymindrCount('');\n    setcheckOnSelectAllMembers(false);\n    setcheckOnSelectAllGroup(false);\n    setMemberchecked([]);\n    setChecked([]);\n  };\n\n  const rymindr_text = 'Rymindr linked';\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n    utils: MomentUtils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 850,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogRaw, {\n    getSelectedRymindr: rymindrId,\n    open: openRymindr,\n    onClose: handleCloseRymindr,\n    getRymindrListData: userRymindrList,\n    onRymindrUpdate: updateRymindrCount,\n    onRymindrUpdateLink: updateRymindrLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 852,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(ConfirmationDialogRaw, {\n    open: open,\n    onClose: handleClose,\n    groupdata: groups,\n    memberdata: businessusers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 875,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tabmenu, {\n    groupdata: groups,\n    memberdata: businessusers,\n    handleToggles: handleGroupToggle,\n    checked: checked,\n    handleMemberToggle: handleMemberToggle,\n    handleAllMembersToggle: handleAllMembersToggle,\n    handleAllGroupMembersToggle: handleAllGroupMembersToggle,\n    memberchecked: memberchecked,\n    handleToTagvalue: handleToTagvalue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 880,\n      columnNumber: 9\n    }\n  }), \" \"), \" \", /*#__PURE__*/React.createElement(Grid, {\n    className: \"main-wrap-head\",\n    container: true,\n    style: {\n      marginBottom: 20\n    },\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 891,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 896,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TypoHeadStyled, {\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 898,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n    onClick: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 900,\n      columnNumber: 9\n    }\n  }), \" Direct\", ' ', \" \", /*#__PURE__*/React.createElement(TypoHeadInnerStyled, {\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 903,\n      columnNumber: 24\n    }\n  }, \" message \"), \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 906,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 908,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    startIcon: /*#__PURE__*/React.createElement(Replay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 915,\n        columnNumber: 23\n      }\n    }),\n    onClick: resetForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 911,\n      columnNumber: 9\n    }\n  }, \"Reset \"), \" \"), \" \"), \" \"), /*#__PURE__*/React.createElement(PaperStyled, {\n    className: \"main-wrap-body create-msg-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 923,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GridStyled, {\n    container: true,\n    className: \"article-content\",\n    spacing: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 925,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 928,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Autocomplete, {\n    multiple: true,\n    limitTags: 1,\n    id: \"tags-filled\",\n    filterSelectedOptions: false,\n    options: [],\n    freeSolo: true,\n    onChange: (event, newValue) => {\n      const newVal = newValue.toString();\n      const getArray = newVal.split(',');\n      const user_id_arr = [];\n      const group_id_arr = [];\n\n      for (let i = 0; i < getArray.length; i++) {\n        const getNewList = businessusers.find(ele => ele.first_name + ' ' + ele.last_name == getArray[i]);\n\n        if (getNewList) {\n          user_id_arr.push(getNewList.user_id);\n        } else {\n          // FOR GROUPS\n          const getNewGroupList = groups.find(ele => ele.group_name == getArray[i]);\n\n          if (getNewGroupList) {\n            group_id_arr.push(getNewGroupList.group_id);\n          }\n        }\n      }\n\n      setGroup_members(group_id_arr);\n      setGroupname_membersname(newValue);\n      const formdata = { ...formvalue\n      };\n      setChecked(group_id_arr);\n      setMemberchecked(user_id_arr);\n      formdata.message_group = user_id_arr.join() ? user_id_arr.join() : group_id_arr.join();\n      formdata.to_member = user_id_arr.join();\n      formdata.to_group = group_id_arr.join();\n      setFormvalue(formdata);\n    },\n    value: groupname_membersname,\n    renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      placeholder: \"Type Number and Enter to Add\",\n      variant: \"outlined\",\n      margin: \"normal\",\n      label: \"To\",\n      onChange: handleToopen,\n      onClick: handleToopen,\n      error: !!formValidation.message_group,\n      helperText: formValidation.message_group,\n      name: \"message_group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 970,\n        columnNumber: 27\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 930,\n      columnNumber: 9\n    }\n  }), \" \"), \" \", /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 985,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Subject\",\n    fullWidth: true,\n    variant: \"outlined\",\n    value: subject,\n    onClick: handleSubject,\n    onChange: handleSubject,\n    error: !!formValidation.subject,\n    helperText: formValidation.subject,\n    name: \"subject\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 987,\n      columnNumber: 9\n    }\n  })), \" \", /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 998,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    select: true,\n    label: \"Category\",\n    value: currency,\n    fullWidth: true,\n    onChange: handleCategoryChange,\n    error: !!formValidation.category,\n    helperText: formValidation.category,\n    variant: \"outlined\",\n    name: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1000,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    key: \"\",\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1008,\n      columnNumber: 9\n    }\n  }, \"Select \"), \" \", categories.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n    key: option.id,\n    value: option.category_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1013,\n      columnNumber: 42\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: option.category_image,\n    className: classes.categoryIon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1016,\n      columnNumber: 17\n    }\n  }), \" \", option.category_name, \" \")), \" \"), \" \"), \" \", /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1024,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(CKEditor, {\n    config: ckEditorConfig,\n    editor: Editor,\n    data: messageDetailById ? messageDetailById.message : message,\n    name: \"message\",\n    onReady: editor => {\n      console.log('Editor is ready to use!', editor);\n    },\n    onChange: (event, editor) => {\n      const data = editor.getData();\n      setFormvalue({ ...formvalue,\n        message: data\n      });\n      setMessage(data);\n    },\n    onBlur: (event, editor) => {\n      console.log('Blur.', editor);\n    },\n    onFocus: (event, editor) => {\n      console.log('Focus.', editor);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1026,\n      columnNumber: 9\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red',\n      marginLeft: '1rem',\n      fontSize: '12px',\n      marginTop: '4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1053,\n      columnNumber: 12\n    }\n  }, \" \", formValidation.message, \" \"), \" \", \" \"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1069,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1071,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    style: {\n      marginTop: 8\n    },\n    control: /*#__PURE__*/React.createElement(Switch, {\n      checked: state.switch,\n      onChange: handleSwitchChange,\n      name: \"switch\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1076,\n        columnNumber: 21\n      }\n    }),\n    label: \"Link\\xA0Rymindr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1073,\n      columnNumber: 9\n    }\n  }), state.switch && /*#__PURE__*/React.createElement(TextField, {\n    label: \"Rymindr\",\n    fullWidth: true,\n    variant: \"outlined\",\n    onChange: handleToopenRymindr,\n    onClick: handleToopenRymindr,\n    value: rymindrCount ? `${rymindrCount} ${rymindr_text}` : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1086,\n      columnNumber: 31\n    }\n  }), \" \"), \" \"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1098,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    className: \"attach-files\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1100,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(FormControlLabel, {\n    className: \"attachement\",\n    control: /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      multiple: true,\n      onChange: getFiles,\n      onClick: e => e.target.value = null,\n      className: \"displayNone\",\n      style: {\n        display: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1122,\n        columnNumber: 21\n      }\n    }),\n    label: /*#__PURE__*/React.createElement(Typography, {\n      variant: \"subtitle1\",\n      component: \"p\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1134,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Attachment, {\n      style: {\n        marginBottom: -6,\n        marginRight: 15\n      },\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1137,\n        columnNumber: 13\n      }\n    }), \" Attachment \"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1120,\n      columnNumber: 9\n    }\n  }), \" \"), \" \", /*#__PURE__*/React.createElement(Box, {\n    alignItems: \"center\",\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1144,\n      columnNumber: 15\n    }\n  }, \" \", // files && files.map((file, index) => {\n  //   const extension_arr = file && file.name ? file.name.split('.') : file.split('.')\n  //   const extension = extension_arr[1]\n  //   if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         {/* <img src={file.base64} width='32' height='32' className={classes.iconAttach} /> <Box className={classes.fileName}>{file.name}</Box> <CancelIcon onClick={() => deleteImage(index, file)} /> */}\n  //         <img src={file.base64} className={classes.iconAttach} /> {file.name}<CancelIcon onClick={() => deleteImage(index, file)} className={classes.verticalClass} />\n  //       </TypoStyled>\n  //     )\n  //   } else if (extension == 'mp3') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Headset className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass} onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   } else if (extension == 'mp4') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Videocam className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass} onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass}  onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   } else if (extension == 'mp4') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Videocam className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   } else if (extension == 'doc' || extension == 'docx') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   }  else {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   }\n  // })\n  files && files.map((file, index) => {\n    if (file.attachment_object != undefined) {\n      const extension_arr = file.attachment_object.split('.');\n      const extension = extension_arr[1];\n\n      if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1204,\n            columnNumber: 34\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: file.file_name,\n          width: \"32\",\n          height: \"32\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1208,\n            columnNumber: 29\n          }\n        }), \" \", ' ', \" \", /*#__PURE__*/React.createElement(Box, {\n          className: classes.fileName,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1211,\n            columnNumber: 55\n          }\n        }, \" \", file.attachment_object, \" \"), ' ', \" \", /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 108\n          }\n        }), \" \");\n      } else if (extension == 'mp3') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1219,\n            columnNumber: 34\n          }\n        }, /*#__PURE__*/React.createElement(Headset, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 29\n          }\n        }), \" \", file.attachment_object, ' ', \" \", /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1225,\n            columnNumber: 62\n          }\n        }), \" \");\n      } else if (extension == 'mp4') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1232,\n            columnNumber: 34\n          }\n        }, /*#__PURE__*/React.createElement(Videocam, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1236,\n            columnNumber: 29\n          }\n        }), \" \", file.attachment_object, ' ', \" \", /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1238,\n            columnNumber: 62\n          }\n        }), \" \");\n      } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1245,\n            columnNumber: 34\n          }\n        }, /*#__PURE__*/React.createElement(Description, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1249,\n            columnNumber: 29\n          }\n        }), \" \", file.attachment_object, ' ', \" \", /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1251,\n            columnNumber: 62\n          }\n        }), \" \");\n      } else {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1258,\n            columnNumber: 34\n          }\n        }, /*#__PURE__*/React.createElement(Description, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1262,\n            columnNumber: 29\n          }\n        }), \" \", file.attachment_object, ' ', \" \", /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1264,\n            columnNumber: 62\n          }\n        }), \" \");\n      }\n    } else {\n      const extension_arr = file.name.split('.');\n      const extension = extension_arr[1];\n\n      if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n        return (\n          /*#__PURE__*/\n          // <TypoStyled variant='subtitle1' component='p' key={index}>\n          //   <img src={file.base64} width='32' height='32' className={classes.iconAttach} /> <Box className={classes.fileName}>{file.name}</Box> <CancelIcon onClick={() => deleteImage(index, file)} />\n          // </TypoStyled>\n          React.createElement(TypoStyled, {\n            variant: \"subtitle1\",\n            component: \"p\",\n            key: index,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1280,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: file.base64,\n            className: classes.iconAttach,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1284,\n              columnNumber: 29\n            }\n          }), \" \", file.name, \" \", /*#__PURE__*/React.createElement(CancelIcon, {\n            onClick: () => deleteImage(index, file),\n            className: classes.verticalClass,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1287,\n              columnNumber: 44\n            }\n          }), \" \")\n        );\n      } else if (extension == 'mp3') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1295,\n            columnNumber: 34\n          }\n        }, /*#__PURE__*/React.createElement(Headset, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1299,\n            columnNumber: 29\n          }\n        }), \" \", file.name, ' ', \" \", /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1301,\n            columnNumber: 49\n          }\n        }), \" \");\n      } else if (extension == 'mp4') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1308,\n            columnNumber: 34\n          }\n        }, /*#__PURE__*/React.createElement(Videocam, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1312,\n            columnNumber: 29\n          }\n        }), \" \", file.name, ' ', \" \", /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1314,\n            columnNumber: 49\n          }\n        }), \" \");\n      } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1321,\n            columnNumber: 34\n          }\n        }, /*#__PURE__*/React.createElement(Description, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1325,\n            columnNumber: 29\n          }\n        }), \" \", file.name, ' ', \" \", /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1327,\n            columnNumber: 49\n          }\n        }), \" \");\n      } else {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1334,\n            columnNumber: 34\n          }\n        }, /*#__PURE__*/React.createElement(Description, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1338,\n            columnNumber: 29\n          }\n        }), \" \", file.name, ' ', \" \", /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1340,\n            columnNumber: 49\n          }\n        }), \" \");\n      }\n    }\n  }), \" \"), \" \", \" \"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1371,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1373,\n      columnNumber: 9\n    }\n  }, \" \", \" \", /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    size: \"large\",\n    className: \"width180\",\n    startIcon: /*#__PURE__*/React.createElement(Cancel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1383,\n        columnNumber: 23\n      }\n    }),\n    onClick: () => history.goBack(),\n    style: {\n      marginRight: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1379,\n      columnNumber: 11\n    }\n  }, \"Cancel \"), \" \", /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    className: \"width180\",\n    startIcon: /*#__PURE__*/React.createElement(Send, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1394,\n        columnNumber: 23\n      }\n    }),\n    onClick: handleToSubmit,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1389,\n      columnNumber: 18\n    }\n  }, loading && /*#__PURE__*/React.createElement(CircularSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1397,\n      columnNumber: 22\n    }\n  }), \"Send Now \"), \" \"), \" \"), \" \"), \" \"), \" \"), \" \");\n};\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.rymidr.loading,\n    error: state.rymidr.error,\n    success_message: state.messageCenterReducer.success_message,\n    categories: state.messageCenterReducer.categories,\n    userRymindrList: state.messageCenterReducer.userRymindrList,\n    // categories: state.rymidr.categories,\n    // subcategories: state.rymidr.subcategories,\n    groups: state.rymidr.groups,\n    businessusers: state.rymidr.businessusers,\n    matched_contact: state.rymidr.matched_contact,\n    messageDetailsById: state.messageCenterReducer.messageDetailById\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getcategories: data => dispatch(getCategories(data)),\n    // getSubCategories: (data) => dispatch(getSubCategories(data)),\n    getGroups: data => dispatch(getGroups(data)),\n    getBusinessUsers: data => dispatch(getBusinessUsers(data)),\n    getRymindrList: data => dispatch(getRymindrList(data)),\n    createMessageCenter: (data, unmatch, history, sendAttachment) => dispatch(createMessageCenter(data, unmatch, history, sendAttachment)),\n    updateMessageCenter: (data, unmatch, history, sendAttachment, deleteAttachment) => dispatch(updateMessageCenter(data, unmatch, history, sendAttachment, deleteAttachment)),\n    inviteAndAddMobile: data => dispatch(inviteAndAddMobile(data)),\n    getMessageDetailsById: data => dispatch(getMessageDetailsById(data))\n  };\n};\n\nDirectMessage.propTypes = {\n  enqueueSnackbar: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  getcategories: PropTypes.func.isRequired,\n  getMessageDetailsById: PropTypes.func.isRequired,\n  error: PropTypes.string.isRequired,\n  success_message: PropTypes.any.isRequired,\n  categories: PropTypes.array.isRequired,\n  subcategories: PropTypes.array.isRequired,\n  getSubCategories: PropTypes.func.isRequired,\n  getGroups: PropTypes.func.isRequired,\n  groups: PropTypes.array.isRequired,\n  businessusers: PropTypes.array.isRequired,\n  getBusinessUsers: PropTypes.func.isRequired,\n  userRymindrList: PropTypes.array.isRequired,\n  getRymindrList: PropTypes.func.isRequired,\n  createMessageCenter: PropTypes.func.isRequired,\n  updateMessageCenter: PropTypes.func.isRequired,\n  inviteAndAddMobile: PropTypes.func.isRequired,\n  matched_contact: PropTypes.any.isRequired\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(DirectMessage));","map":{"version":3,"sources":["/var/www/html/RymindrAppNew/src/container/MessageCenter/DirectMessage/DirectMessage.js"],"names":["Visibility","Replay","Send","AddCircle","Cancel","Headset","Videocam","Image","Description","Attachment","Box","Button","Checkbox","FormControlLabel","Grid","MenuItem","Paper","Switch","TextField","Typography","Radio","RadioGroup","Divider","FormControl","FormLabel","IconButton","ArrowBackIcon","CancelIcon","Link","useHistory","match","location","useParams","DatePicker","MuiPickersUtilsProvider","TimePicker","React","useEffect","useMemo","useState","getBusinessUsers","getGroups","inviteAndAddMobile","createMessageCenter","updateMessageCenter","getCategories","getRymindrList","searchRymindrList","getMessageDetailsById","makeStyles","styled","Autocomplete","CircularSpinner","DialogRaw","MomentUtils","PropTypes","connect","moment","withSnackbar","FileBase64","CKEditor","Editor","ckEditorConfig","ConfirmationDialogRaw","Tabmenu","useStyles","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","position","iconAttach","primary","dark","background","light","height","width","borderRadius","float","marginTop","marginRight","categoryIon","margin","marginLeft","fileName","maxWidth","whiteSpace","textOverflow","overflow","verticalClass","verticalAlign","TypoHeadStyled","fontSize","main","textTransform","fontWeight","TypoHeadInnerStyled","PaperStyled","SlideBoxStyled","display","SlideType","GridStyled","paddingLeft","paddingRight","breakpoints","down","Recurring","FormFields","subject","message","message_group","category","to_group","to_member","ButtonColor","props","contrastText","TypoStyled","marginBottom","cursor","DirectMessage","classes","enqueueSnackbar","error","success_message","categories","subcategories","groups","businessusers","userRymindrList","matched_contact","messageDetailsById","loading","user_id","business_code","first_name","last_name","JSON","parse","localStorage","getItem","state","setState","checkedB","switch","history","date","Date","selectedDate","sethandleDateChange","selectedTime","sethandleTimeChange","getTime","subcategory","setSubCategory","checked","setChecked","memberchecked","setMemberchecked","group_members","setGroup_members","checkOnSelectAllMembers","setcheckOnSelectAllMembers","checkOnSelectAllGroup","setcheckOnSelectAllGroup","groupname_membersname","setGroupname_membersname","formvalue","setFormvalue","formValidation","setFormValidation","open","setOpen","timeErr","setTimeErr","phoneNumber","setPhoneNumber","setSubject","setMessage","files","setFiles","openRymindr","setOpenRymindr","rymindrCount","setRymindrCount","rymindrLink","setRymindrLink","rymindrId","setRymindrId","messageDetailById","setMessageDetailById","deleteFiles","setDeleteFiles","ID","member_id","group_id","get_name","handleToopenRymindr","updateRymindrCount","c","updateRymindrLink","c_id","linkRymindr","handleCloseRymindr","newValue","handleChange","e","formdata","formvalidation","value","target","name","found","find","element","id","rymindr_type","category_name","subcategory_id","handleDateChange","selecteddate","format","rymindr_date","handleTimeChange","selectedtime","now","toString","rymindr_time","handleChangeCheck","event","handleSwitchChange","handleGroupToggle","groupMembers","group_member_list","console","log","currentIndex","indexOf","newChecked","selectedmember","push","forEach","splice","remomeitem","handleMemberToggle","groupname","membername","group_name","handleAllMembersToggle","handleAllGroupMembersToggle","eventForm_to","currentPathname","pathname","split","message_center_id","undefined","data","dataToSend","getcategories","SendToBusiness","string_array","rymindr_array","number_array","map","el","parseInt","rymindr_main_array","i","length","isNumber","get_rymindr_index","findIndex","key","warn","linked_to_rymindr","setCurrency","group_array","member_array","arr","item","handleClose","rymindr","rymdrCount","file_main_array","attachment","checkvalue","concat","mobile_no","join","validate","isError","handleToTagvalue","handleToSubmit","FormFields11","rymindr_to_group","rymindr_group_members_to","Set","user_name","currency","rymindr_to","sendAttachment","deleteAttachment","unmatch","variant","handleToopen","getBase64","file","cb","reader","FileReader","readAsDataURL","onload","result","onerror","getFiles","fileObj","fileArray","fileInfo","type","size","Math","round","base64","replace","getFiles11","etn","deleteImage","index","attachment_object","deleteThat","filter","a","removeIndex","deleteImage2","label","handleCategoryChange","handleMessage","handleSubject","trim","members","resetForm","rymindr_text","goBack","newVal","getArray","user_id_arr","group_id_arr","getNewList","ele","getNewGroupList","params","option","category_image","editor","getData","extension_arr","extension","file_name","mapStateToProps","rymidr","messageCenterReducer","mapDispatchToProps","dispatch","propTypes","func","isRequired","bool","string","any","array","getSubCategories"],"mappings":"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","sourcesContent":["import {\n    Visibility,\n    Replay,\n    Send,\n    AddCircle,\n    Cancel,\n    Headset,\n    Videocam,\n    Image,\n    Description,\n    Attachment,\n} from '@material-ui/icons';\nimport {\n    Box,\n    Button,\n    Checkbox,\n    FormControlLabel,\n    Grid,\n    MenuItem,\n    Paper,\n    Switch,\n    TextField,\n    Typography,\n    Radio,\n    RadioGroup,\n    Divider,\n    FormControl,\n    FormLabel,\n    IconButton,\n} from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { Link, useHistory, match, location, useParams } from 'react-router-dom';\nimport { DatePicker, MuiPickersUtilsProvider, TimePicker } from '@material-ui/pickers';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport {\n    // createRymindr,\n    getBusinessUsers,\n    // getCategories,\n    getGroups,\n    // getSubCategories,\n    inviteAndAddMobile,\n} from '../../../store/actions/rymidr';\nimport {\n    createMessageCenter,\n    updateMessageCenter,\n    getCategories,\n    getRymindrList,\n    searchRymindrList,\n    getMessageDetailsById,\n} from '../../../store/actions/messageCenterAction';\nimport { makeStyles, styled } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CircularSpinner from '../../../component/CircularSpinner/index';\n// import ConfirmationDialogRaw from './Modal'\nimport DialogRaw from './Modal/Rymindrindex';\nimport MomentUtils from '@date-io/moment';\nimport PropTypes from 'prop-types';\n// import Tabmenu from './Modal/Memberlist'\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { withSnackbar } from 'notistack';\nimport FileBase64 from 'react-file-base64';\n\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport Editor from 'ckeditor5-custom-build/build/ckeditor';\nimport ckEditorConfig from '../../../helper/ckEditorConfig';\n\nimport ConfirmationDialogRaw from '../../Bookings/EventBooking/Modal';\nimport Tabmenu from '../../Bookings/EventBooking/Modal/Memberlist';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n        position: 'relative',\n    },\n    iconAttach: {\n        color: theme.palette.primary.dark,\n        background: theme.palette.primary.light,\n        height: 32,\n        width: 32,\n        borderRadius: 60,\n        padding: 5,\n        float: 'left',\n        marginTop: -5,\n        marginRight: '10px',\n    },\n    categoryIon: {\n        height: 32,\n        margin: -10,\n        marginLeft: 0,\n        marginRight: 5,\n    },\n    fileName: {\n        maxWidth: 140,\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis',\n        overflow: 'hidden',\n    },\n    verticalClass: {\n        marginLeft: 10,\n        verticalAlign: 'middle',\n    },\n}));\nconst TypoHeadStyled = styled(Typography)(({ theme }) => ({\n    fontSize: 24,\n    color: theme.palette.primary.main,\n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n}));\n\nconst TypoHeadInnerStyled = styled(TypoHeadStyled)(({ theme }) => ({\n    color: theme.palette.text.primary,\n}));\n\nconst PaperStyled = styled(Paper)({\n    padding: '10px 15px',\n});\nconst SlideBoxStyled = styled(Box)(() => ({\n    textAlign: 'center',\n    display: 'inline-block',\n\n    padding: '10px 15px',\n    borderRadius: 10,\n    '& img': {\n        display: 'inline-block',\n        height: 75,\n        width: 75,\n    },\n}));\n\nconst SlideType = styled(Typography)(({ theme }) => ({\n    color: theme.palette.text.primary,\n    fontSize: 16,\n}));\n\nconst GridStyled = styled(Grid)(({ theme }) => ({\n    paddingLeft: '10rem',\n    paddingRight: '10rem',\n    [theme.breakpoints.down('md')]: {\n        paddingLeft: '8rem',\n        paddingRight: '8rem',\n    },\n\n    [theme.breakpoints.down('sm')]: {\n        paddingLeft: '2rem',\n    },\n}));\n\nconst Recurring = ['Daily', 'Weekly', 'Monthly', 'Yearly'];\n\nconst FormFields = {\n    subject: '',\n    message: '',\n    message_group: '',\n    category: '',\n    to_group: '',\n    to_member: '',\n};\n\nconst ButtonColor = styled(Button)(({ theme }) => ({\n    background: theme.palette.props.main,\n    color: theme.palette.props.contrastText,\n}));\n\nconst TypoStyled = styled(Typography)(({ theme }) => ({\n    fontSize: 16,\n    color: theme.palette.text.primary,\n    marginTop: 10,\n    marginBottom: 20,\n    cursor: 'pointer',\n    marginRight: 30,\n}));\n\nconst DirectMessage = (props) => {\n    const classes = useStyles();\n    const {\n        enqueueSnackbar,\n        error,\n        success_message,\n        categories,\n        subcategories,\n        // getSubCategories,\n        getGroups,\n        groups,\n        businessusers,\n        getBusinessUsers,\n        userRymindrList,\n        getRymindrList,\n        // createRymindr,\n        createMessageCenter,\n        updateMessageCenter,\n        inviteAndAddMobile,\n        matched_contact,\n        messageDetailsById,\n        loading,\n    } = props;\n    const { user_id, business_code, first_name, last_name } = JSON.parse(localStorage.getItem('userData'));\n    const [state, setState] = useState({\n        checkedB: true,\n        switch: false,\n    });\n    const history = useHistory();\n    const date = new Date();\n    const [selectedDate, sethandleDateChange] = useState(new Date());\n    const [selectedTime, sethandleTimeChange] = useState(date.getTime() + 5 * 60000);\n    const [subcategory, setSubCategory] = useState(0);\n    const [checked, setChecked] = useState([]);\n    const [memberchecked, setMemberchecked] = useState([]);\n    const [group_members, setGroup_members] = useState([]);\n\n    const [checkOnSelectAllMembers, setcheckOnSelectAllMembers] = useState(false);\n    const [checkOnSelectAllGroup, setcheckOnSelectAllGroup] = useState(false);\n\n    const [groupname_membersname, setGroupname_membersname] = useState([]);\n    const [formvalue, setFormvalue] = useState(FormFields);\n    const [formValidation, setFormValidation] = useState(FormFields);\n    const [open, setOpen] = useState(false);\n    const [timeErr, setTimeErr] = useState('');\n    const [phoneNumber, setPhoneNumber] = useState([]);\n    const [subject, setSubject] = useState('');\n    const [message, setMessage] = useState('');\n    const [files, setFiles] = useState([]);\n    const [openRymindr, setOpenRymindr] = useState(false);\n    const [rymindrCount, setRymindrCount] = useState('');\n    const [rymindrLink, setRymindrLink] = useState([]);\n    const [rymindrId, setRymindrId] = useState([]);\n    const [messageDetailById, setMessageDetailById] = useState(messageDetailsById);\n\n    const [deleteFiles, setDeleteFiles] = useState([])\n\n\n    let { ID, member_id, group_id, get_name } = useParams();\n\n    const handleToopenRymindr = () => {\n        setOpenRymindr(true);\n    };\n\n    const updateRymindrCount = (c) => {\n        // alert(c);\n        // setFormvalue({ ...formvalue, ['linkRymindr']: setRymindrCount })\n        setRymindrCount(c);\n    };\n\n    const updateRymindrLink = (c_id) => {\n        setFormvalue({...formvalue, linkRymindr: c_id });\n        setRymindrLink(c_id);\n    };\n\n    const handleCloseRymindr = (newValue) => {\n        // alert('main'+newValue);\n        setOpenRymindr(newValue);\n    };\n\n    const handleChange = (e) => {\n        const formdata = {...formvalue };\n        const formvalidation = {...formValidation };\n        const value = e.target.value;\n        const name = e.target.name;\n\n        if (name === 'rymindr_type') {\n            const found = subcategories.find((element) => element.id === value);\n            formdata.rymindr_type = found.category_name;\n            formdata.subcategory_id = value;\n            formvalidation.subcategory_id = '';\n            setFormValidation(formvalidation);\n        } else {\n            formdata[name] = value;\n        }\n        setFormvalue(formdata);\n    };\n\n    const handleDateChange = (e) => {\n        const date = new Date(e);\n        const selecteddate = moment(date).format('YYYY-MM-DD');\n        sethandleDateChange(selecteddate);\n        setFormvalue({...formvalue, rymindr_date: selecteddate });\n    };\n\n    const handleTimeChange = (e) => {\n        const date = new Date(e);\n        const selectedtime = moment(date).format('HH:mm');\n\n        var now = moment(new Date().getTime() + 5 * 60000).format('HH:mm');\n        if (now.toString() > selectedtime.toString()) {\n            setTimeErr('You can not choose a time before the current time.');\n        } else {\n            setTimeErr('');\n        }\n        sethandleTimeChange(new Date(e));\n        setFormvalue({...formvalue, rymindr_time: selectedtime });\n    };\n\n    const handleChangeCheck = (event) => {\n        setState({...state, [event.target.name]: event.target.checked });\n        setFormvalue({...formvalue, [event.target.name]: event.target.checked });\n    };\n\n    const handleSwitchChange = (event) => {\n        // alert('swicth',event.target.checked);\n        setState({...state, [event.target.name]: event.target.checked });\n        setFormvalue({...formvalue, switch: !state.switch });\n        if (event.target.checked == true) {\n            handleToopenRymindr();\n        }\n    };\n\n    const handleGroupToggle = (value) => {\n        setcheckOnSelectAllGroup(false);\n        const groupMembers = value.group_member_list;\n        console.log('checked=====', checked);\n        const currentIndex = checked.indexOf(value.group_id);\n        const newChecked = [...checked];\n        const selectedmember = [...group_members];\n\n        if (currentIndex === -1) {\n            newChecked.push(value.group_id);\n            groupMembers.forEach((element) => {\n                selectedmember.push(element.user_id);\n            });\n        } else {\n            newChecked.splice(currentIndex, 1);\n            groupMembers.forEach((element) => {\n                const remomeitem = selectedmember.indexOf(element.user_id);\n                selectedmember.splice(remomeitem, 1);\n            });\n        }\n\n        console.log('newChecked=====', newChecked);\n        setChecked(newChecked);\n        setGroup_members(selectedmember);\n        setFormvalue({...formvalue, message_group: selectedmember });\n    };\n\n    const handleMemberToggle = (value) => {\n        const currentIndex = memberchecked.indexOf(value.user_id);\n        const newChecked = [...memberchecked];\n        if (currentIndex === -1) {\n            newChecked.push(value.user_id);\n        } else {\n            newChecked.splice(currentIndex, 1);\n        }\n        // alert('newChecked'+newChecked);\n        setMemberchecked(newChecked);\n        setFormvalue({...formvalue, message_group: newChecked });\n\n        // SELECT ALL\n        const groupname = [];\n        const membername = [];\n        if (value == 0) {\n            businessusers.forEach((element) => {\n                membername.push(`${element.first_name} ${element.last_name}`);\n\n                newChecked.push(element.user_id);\n            });\n            setcheckOnSelectAllMembers(true);\n            setMemberchecked(newChecked);\n        } else if (value == 1) {\n            groups.forEach((element) => {\n                groupname.push(element.group_name);\n                newChecked.push(element.group_id);\n            });\n            setcheckOnSelectAllGroup(true);\n            setChecked(newChecked);\n        } else if (value == 3) {\n            setcheckOnSelectAllMembers(false);\n            setMemberchecked([]);\n        } else if (value == 4) {\n            setcheckOnSelectAllGroup(false);\n            setChecked([]);\n        } else {\n            setcheckOnSelectAllMembers(false);\n        }\n        //SELECT ALL\n    };\n\n    const handleAllMembersToggle = (value) => {\n        const newChecked = [...value];\n        const formvalidation = {...formValidation };\n\n        setFormvalue({\n            ...formvalue,\n            message_group: newChecked,\n            // to_member: '@'\n        });\n        formvalidation.to_member = '';\n        setFormValidation(formvalidation);\n\n        setMemberchecked(newChecked);\n    };\n\n    const handleAllGroupMembersToggle = (value) => {\n        const newChecked = [...value];\n        const selectedmember = [...newChecked];\n        const formvalidation = {...formValidation };\n        formvalidation.eventForm_to = '';\n        setFormValidation(formvalidation);\n        setFormvalue({\n            ...formvalue,\n            message_group: selectedmember,\n            // eventForm_to: '@'\n        });\n        setChecked(newChecked);\n        setGroup_members(selectedmember);\n    }\n\n    let currentPathname = history.location.pathname;\n    currentPathname = currentPathname.split('/');\n    const message_center_id = currentPathname[2] ? currentPathname[2] : '';\n\n    useEffect(() => {\n        // if (message_center_id && group_id != 0 && member_id != 0) {\n        if (message_center_id && group_id == undefined && member_id == undefined) {\n            const data = props.getMessageDetailsById({ user_id, message_center_id });\n\n            setMessageDetailById(messageDetailsById);\n        }\n        const dataToSend = {\n            user_id,\n            // category_id: ''\n        };\n        props.getcategories(dataToSend);\n        getGroups({ user_id });\n        const SendToBusiness = {\n            user_id,\n            business_code,\n        };\n        getBusinessUsers(SendToBusiness);\n        getRymindrList({ user_id });\n    }, []);\n\n    useEffect(() => {\n        // if (message_center_id && group_id == 0 && member_id == 0) {\n        if (message_center_id && group_id == undefined && member_id == undefined) {\n            setMessageDetailById(messageDetailsById);\n            const formdata = {...formvalue };\n            const string_array = messageDetailsById.rymindr_array;\n            if (string_array && userRymindrList) {\n                const number_array = string_array.map((el) => parseInt(el));\n\n                const rymindr_main_array = [];\n\n                for (let i = 0; i < number_array.length; i++) {\n                    const isNumber = (element) => element.id == number_array[i];\n                    const get_rymindr_index = userRymindrList.findIndex(isNumber);\n                    rymindr_main_array.push({ key: get_rymindr_index, id: number_array[i] });\n                }\n                setRymindrId(rymindr_main_array);\n                formdata.linkRymindr = rymindr_main_array;\n                setFormvalue(formdata);\n            }\n\n            formdata.message_center_id = message_center_id;\n            setFormvalue(formdata);\n\n            console.warn('testing messageDetailsById', messageDetailsById);\n\n            setState({ switch: messageDetailsById.linked_to_rymindr != 0 });\n            formdata.switch = messageDetailsById.linked_to_rymindr != 0;\n            // formdata.linkRymindr = rymindr_main_array ;\n            setFormvalue(formdata);\n            setMessage(messageDetailsById.message)\n            formdata.message = messageDetailsById.message;\n            setFormvalue(formdata);\n\n            setSubject(messageDetailsById.subject);\n            formdata.subject = messageDetailsById.subject;\n            setFormvalue(formdata);\n\n            setCurrency(messageDetailsById.category);\n\n            formdata.category = messageDetailsById.category;\n            setFormvalue(formdata);\n\n            if (messageDetailsById.group_array || messageDetailsById.member_array) {\n                if (messageDetailsById.group_array.length > 0) {\n                    let arr = messageDetailsById.group_array.map((item) => parseInt(item));\n                    setChecked(arr);\n                } else {\n                    setChecked([]);\n                }\n\n                setMemberchecked(messageDetailsById.member_array);\n                formdata.message_group = messageDetailsById.to_member ?\n                    messageDetailsById.to_member :\n                    messageDetailsById.to_group;\n                formdata.to_member = messageDetailsById.to_member;\n                formdata.to_group = messageDetailsById.to_group;\n                setFormvalue(formdata);\n                handleClose(false);\n            }\n\n            if (messageDetailsById.rymindr) {\n                const rymdrCount = messageDetailsById.rymindr.split(',').length;\n                setRymindrCount(rymdrCount);\n            } else {\n                setRymindrCount(0);\n            }\n            setRymindrLink(messageDetailsById.linked_to_rymindr);\n\n            const file_main_array = [];\n            if (messageDetailsById.attachment) {\n                // messageDetailsById.attachment.map((file_arr, file_index) => {\n                //   file_main_array.push(JSON.parse(file_arr.attachment_object));\n                // });\n                // console.log('messageDetailsById.attachment123=',messageDetailsById.attachment);\n                setFiles(messageDetailsById.attachment);\n            }\n        }\n    }, [messageDetailsById, userRymindrList]);\n\n    const handleClose = (newValue) => {\n        setOpen(newValue);\n        const membername = [];\n        const groupname = [];\n        groups.forEach((element) => {\n            const checkvalue = checked.indexOf(element.group_id);\n            if (checkvalue !== -1) {\n                groupname.push(element.group_name);\n            }\n        });\n        if (businessusers.length > 0) {\n            businessusers.forEach((element) => {\n                const checkvalue = memberchecked.indexOf(element.user_id);\n                if (checkvalue !== -1) {\n                    membername.push(`${element.first_name} ${element.last_name}`);\n                }\n            });\n        }\n\n        setGroupname_membersname(groupname.concat(membername));\n        const dataToSend = {\n            mobile_no: phoneNumber.join(),\n        };\n        if (phoneNumber.length > 0) {\n            inviteAndAddMobile(dataToSend);\n        }\n\n        if (newValue) {\n            // setValue(newValue);\n        }\n    };\n\n    const validate = () => {\n        const formvalidation = {...formValidation };\n        // alert('subject'+formvalue.subject);\n        let isError = false;\n        if (!formvalue.subject) {\n            isError = true;\n            formvalidation.subject = 'Please input Subject!';\n            setFormValidation(formvalidation);\n        } else {\n            formvalidation.subject = '';\n            setFormValidation(formvalidation);\n        }\n        console.log('formvalue.category=========', formvalue.category);\n        if (!formvalue.category) {\n            isError = true;\n            formvalidation.category = 'Please select a Category!';\n            setFormValidation(formvalidation);\n        } else {\n            formvalidation.category = '';\n            setFormValidation(formvalidation);\n        }\n\n        if (!formvalue.message) {\n            isError = true;\n            formvalidation.message = 'Please input Message!';\n            setFormValidation(formvalidation);\n        } else {\n            formvalidation.message = '';\n            setFormValidation(formvalidation);\n        }\n\n        const value = formvalue.message_group;\n        if (value == '' || value == [] || value == undefined) {\n            isError = true;\n            formvalidation.message_group = 'Please select Contacts!';\n            setFormValidation(formvalidation);\n        } else {\n            formvalidation.message_group = '';\n            setFormValidation(formvalidation);\n        }\n        return isError;\n    };\n\n    const handleToTagvalue = (value) => {\n        setPhoneNumber(value);\n    };\n\n    const handleToSubmit = () => {\n        console.log('memberchecked22222', memberchecked);\n        console.warn('matched_contact44444', group_members);\n        console.warn('checked12121212', checked);\n\n        // console.log('files====',files);\n        // return false;\n        if (validate()) return false;\n        const FormFields11 = {...formvalue };\n        FormFields11.rymindr_to_group = checked.join();\n        FormFields11.to_group = checked.join();\n        FormFields11.rymindr_group_members_to = [...new Set(group_members)].join();\n\n        FormFields11.user_id = user_id;\n        FormFields11.user_name = first_name;\n        FormFields11.category = currency;\n        FormFields11.rymindr_to =\n            matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join();\n        FormFields11.to_member =\n            matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join();\n\n        const sendAttachment = files;\n        const deleteAttachment = deleteFiles;\n        const unmatch = matched_contact ? matched_contact.mobile_no : '';\n\n        if (message_center_id && group_id == undefined && member_id == undefined) {\n            updateMessageCenter(FormFields11, unmatch, history, sendAttachment, deleteAttachment)\n        } else {\n            createMessageCenter(FormFields11, unmatch, history, sendAttachment)\n        }\n    };\n\n    // useMemo(() => {\n    //   success_message && enqueueSnackbar(success_message, { variant: 'success' })\n    // }, [success_message])\n\n    useMemo(() => {\n        error && enqueueSnackbar(error, { variant: 'error' });\n    }, [error]);\n\n    const handleToopen = () => {\n        setOpen(true);\n    };\n\n    const getBase64 = (file, cb) => {\n        //, cb\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = function() {\n            cb(reader.result);\n            // console.log('cccccc', reader.result);\n        };\n        reader.onerror = function(error) {\n            console.log('Error: ', error);\n        };\n    };\n\n    const getFiles = (e) => {\n        const fileObj = [];\n        const fileArray = [];\n        // alert('fileee-target'+ e.target.files);\n        fileObj.push(e.target.files);\n\n        for (let i = 0; i < fileObj[0].length; i++) {\n            if (files.length > 0) {\n                getBase64(fileObj[0][i], (result) => {\n                    const fileInfo = {\n                        name: fileObj[0][i].name,\n                        type: fileObj[0][i].type,\n                        size: Math.round(fileObj[0][i].size / 1000) + ' kB',\n                        base64: fileObj[0][i].type == 'video/mp4' ? result.replace('data:video/mp4;base64,', '') : result,\n                        file: fileObj[0][i],\n                    };\n                    files.push(fileInfo);\n                    // files.push({'base64': result, 'name': fileObj[0][i].name})\n                    setFiles([...files]);\n                });\n            } else {\n                getBase64(fileObj[0][i], (result) => {\n                    // idCardBase64 = result;\n                    // Make a fileInfo Object\n                    const fileInfo = {\n                        name: fileObj[0][i].name,\n                        type: fileObj[0][i].type,\n                        size: Math.round(fileObj[0][i].size / 1000) + ' kB',\n                        base64: fileObj[0][i].type == 'video/mp4' ? result.replace('data:video/mp4;base64,', '') : result,\n                        file: fileObj[0][i],\n                    };\n                    fileArray.push(fileInfo);\n                    setFiles([...fileArray]);\n                });\n            }\n        }\n    };\n\n    const getFiles11 = (files) => {\n        // files.map((file, index) => {\n        // var extn = file.name.split('.')\n        var etn = ['docx', 'doc', 'pdf', 'jpg', 'jpeg', 'png', 'mp4', 'mp3'];\n        // var low = extn[1].toLowerCase()\n        // if (etn.includes(low)) {\n        setFiles(files);\n        // } else {\n        // error\n        // }\n        // })\n    };\n\n\n    const deleteImage = (index, file) => {\n        if (file && file.attachment_object) {\n            let deleteThat = files.filter(a => a.attachment_object == file.attachment_object);\n            setDeleteFiles([...deleteFiles, ...deleteThat])\n            var removeIndex = files.map(function(item) { return item.attachment_object; }).indexOf(file.attachment_object);\n            files.splice(removeIndex, 1);\n        } else if (file && file.name) {\n            var removeIndex = files.map(function(item) { return item.name; }).indexOf(file.name);\n            files.splice(removeIndex, 1);\n        }\n        if (files.length == 0) {\n            setFiles([])\n        } else {\n            setFiles([...files])\n        }\n    }\n\n\n    const deleteImage2 = (index, file) => {\n\n        // if (file && file.attachment_object) {\n        //   var removeIndex = files\n        //     .map(function (item) {\n        //       return item.attachment_object;\n        //     })\n        //     .indexOf(file.attachment_object);\n        //   files.splice(removeIndex, 1);\n        // } else if (file && file.name) {\n        //   var removeIndex = files\n        //     .map(function (item) {\n        //       return item.name;\n        //     })\n        //     .indexOf(file.name);\n        //   files.splice(removeIndex, 1);\n        // }\n        // if (files.length == 0) {\n        //   setFiles([]);\n        // } else {\n        //   setFiles([...files]);\n        //   console.log('files===', files);\n        // }\n    };\n\n    const category = [{\n            value: 'USD',\n            label: '$',\n        },\n        {\n            value: 'EUR',\n            label: 'Parents Evening',\n        },\n    ];\n\n    const [currency, setCurrency] = React.useState('');\n\n    const handleCategoryChange = (event) => {\n        setCurrency(event.target.value);\n\n        setFormvalue({...formvalue, [event.target.name]: event.target.value });\n    };\n\n    const handleMessage = (event) => {\n        setFormvalue({...formvalue, [event.target.name]: event.target.value });\n        setMessage(event.target.value);\n    };\n\n    const handleSubject = (event) => {\n        setSubject(event.target.value);\n        setFormvalue({...formvalue, [event.target.name]: (event.target.value).trim() });\n    };\n\n    // If member or group is selected via parameter.\n    useMemo(() => {\n        if (!ID) {\n            const newChecked = [...checked];\n\n            if (member_id != 0 || group_id != 0) {\n                const groupname = [];\n                const membername = [];\n                if (group_id != '0') {\n                    if (groups.length > 0) {\n                        groups.forEach((element) => {\n                            if (element.group_id == group_id) {\n                                groupname.push(element.group_name);\n                            }\n                        });\n                    } else {\n                        groupname.push(get_name);\n                    }\n                    // if(newChecked.indexOf(group_id) > -1 ){\n                    //   newChecked.push(group_id)\n                    // }\n\n                    if (group_id) {\n                        newChecked.push(group_id);\n                    }\n                    setChecked(newChecked);\n                    setFormvalue({...formvalue, message_group: group_id });\n                } else if (member_id != '0') {\n                    if (businessusers.length > 0) {\n                        businessusers.forEach((element) => {\n                            if (element.user_id == member_id) {\n                                membername.push(`${element.first_name} ${element.last_name}`);\n                            }\n                        });\n                    } else {\n                        membername.push(get_name);\n                    }\n\n                    newChecked.push(member_id);\n                    setMemberchecked(newChecked);\n                    setFormvalue({...formvalue, message_group: member_id });\n                }\n\n                setGroupname_membersname(groupname.concat(membername));\n            }\n            if (member_id == undefined && group_id == undefined) {\n                const membername = [];\n                const members = [];\n                setMemberchecked(members);\n                setGroupname_membersname(membername);\n            }\n        }\n    }, [groups, businessusers]);\n\n    const resetForm = () => {\n        setCurrency('');\n        setGroupname_membersname('');\n        setFormvalue(FormFields);\n        setFormValidation(FormFields);\n        setOpen(false);\n        setTimeErr('');\n        setPhoneNumber('');\n        setFiles([]);\n        setSubject('');\n        setMessage('');\n        setRymindrCount('');\n        setcheckOnSelectAllMembers(false);\n        setcheckOnSelectAllGroup(false);\n        setMemberchecked([]);\n        setChecked([]);\n    };\n    const rymindr_text = 'Rymindr linked';\n    return ( <\n        >\n        <\n        MuiPickersUtilsProvider utils = { MomentUtils } >\n        <\n        DialogRaw getSelectedRymindr = { rymindrId }\n        open = { openRymindr }\n        onClose = { handleCloseRymindr }\n        getRymindrListData = { userRymindrList }\n        onRymindrUpdate = { updateRymindrCount }\n        onRymindrUpdateLink = { updateRymindrLink }\n        /> {\n            /* <ConfirmationDialogRaw open={open} onClose={handleClose} groupdata={groups} memberdata={businessusers}>\n                      <Tabmenu\n                        groupdata={groups}\n                        memberdata={businessusers}\n                        handleToggles={handleGroupToggle}\n                        checked={checked}\n                        handleMemberToggle={handleMemberToggle}\n                        memberchecked={memberchecked}\n                        handleToTagvalue={handleToTagvalue}\n                        checkOnSelectAllMembers={checkOnSelectAllMembers}\n                        checkOnSelectAllGroup={checkOnSelectAllGroup}\n                      />\n                    </ConfirmationDialogRaw>*/\n        }\n\n        <\n        ConfirmationDialogRaw open = { open }\n        onClose = { handleClose }\n        groupdata = { groups }\n        memberdata = { businessusers } >\n        <\n        Tabmenu groupdata = { groups }\n        memberdata = { businessusers }\n        handleToggles = { handleGroupToggle }\n        checked = { checked }\n        handleMemberToggle = { handleMemberToggle }\n        handleAllMembersToggle = { handleAllMembersToggle }\n        handleAllGroupMembersToggle = { handleAllGroupMembersToggle }\n        memberchecked = { memberchecked }\n        handleToTagvalue = { handleToTagvalue }\n        /> <\n        /ConfirmationDialogRaw> <\n        Grid className = \"main-wrap-head\"\n        container style = {\n            { marginBottom: 20 } }\n        alignItems = \"center\" >\n        <\n        Grid item xs = { 7 } >\n        <\n        TypoHeadStyled variant = \"h4\" >\n        <\n        ArrowBackIcon onClick = {\n            () => history.goBack() }\n        /> Direct{' '} <\n        TypoHeadInnerStyled component = \"span\" > message < /TypoHeadInnerStyled> <\n        /TypoHeadStyled> <\n        /Grid> <\n        Grid item xs = { 5 } >\n        <\n        Box display = \"flex\"\n        justifyContent = \"flex-end\" >\n        <\n        Button variant = \"contained\"\n        color = \"primary\"\n        size = \"large\"\n        startIcon = { < Replay / > }\n        onClick = { resetForm } >\n        Reset <\n        /Button> <\n        /Box> <\n        /Grid> <\n        /Grid>\n\n        <\n        PaperStyled className = \"main-wrap-body create-msg-wrap\" >\n        <\n        GridStyled container className = \"article-content\"\n        spacing = { 5 } >\n        <\n        Grid item xs = { 12 } >\n        <\n        Autocomplete multiple limitTags = { 1 }\n        id = \"tags-filled\"\n        filterSelectedOptions = { false }\n        options = {\n            [] }\n        freeSolo onChange = {\n            (event, newValue) => {\n                const newVal = newValue.toString();\n                const getArray = newVal.split(',');\n                const user_id_arr = [];\n                const group_id_arr = [];\n                for (let i = 0; i < getArray.length; i++) {\n                    const getNewList = businessusers.find((ele) => ele.first_name + ' ' + ele.last_name == getArray[i]);\n                    if (getNewList) {\n                        user_id_arr.push(getNewList.user_id);\n                    } else {\n                        // FOR GROUPS\n                        const getNewGroupList = groups.find((ele) => ele.group_name == getArray[i]);\n                        if (getNewGroupList) {\n                            group_id_arr.push(getNewGroupList.group_id);\n                        }\n                    }\n                }\n\n                setGroup_members(group_id_arr);\n                setGroupname_membersname(newValue);\n\n                const formdata = {...formvalue };\n                setChecked(group_id_arr);\n                setMemberchecked(user_id_arr);\n\n                formdata.message_group = user_id_arr.join() ? user_id_arr.join() : group_id_arr.join();\n                formdata.to_member = user_id_arr.join();\n                formdata.to_group = group_id_arr.join();\n                setFormvalue(formdata);\n            }\n        }\n        value = { groupname_membersname }\n        renderInput = {\n            (params) => ( <\n                TextField {...params }\n                placeholder = \"Type Number and Enter to Add\"\n                variant = \"outlined\"\n                margin = \"normal\"\n                label = \"To\"\n                onChange = { handleToopen }\n                onClick = { handleToopen }\n                error = {!!formValidation.message_group }\n                helperText = { formValidation.message_group }\n                name = \"message_group\" /\n                >\n            )\n        }\n        /> <\n        /Grid> <\n        Grid item xs = { 6 } >\n        <\n        TextField label = \"Subject\"\n        fullWidth variant = \"outlined\"\n        value = { subject }\n        onClick = { handleSubject }\n        onChange = { handleSubject }\n        error = {!!formValidation.subject }\n        helperText = { formValidation.subject }\n        name = \"subject\" /\n        >\n        <\n        /Grid> <\n        Grid item xs = { 6 } >\n        <\n        TextField select label = \"Category\"\n        value = { currency }\n        fullWidth onChange = { handleCategoryChange }\n        error = {!!formValidation.category }\n        helperText = { formValidation.category }\n        variant = \"outlined\"\n        name = \"category\" >\n        <\n        MenuItem key = \"\"\n        value = \"\" >\n        Select <\n        /MenuItem> {\n            categories.map((option) => ( <\n                MenuItem key = { option.id }\n                value = { option.category_name } >\n                <\n                img src = { option.category_image }\n                className = { classes.categoryIon }\n                /> {option.category_name} <\n                /MenuItem>\n            ))\n        } <\n        /TextField> <\n        /Grid> <\n        Grid item xs = { 12 } >\n        <\n        CKEditor config = { ckEditorConfig }\n        editor = { Editor }\n        data = { messageDetailById ? messageDetailById.message : message }\n        name = \"message\"\n        onReady = {\n            (editor) => {\n                console.log('Editor is ready to use!', editor);\n            }\n        }\n        onChange = {\n            (event, editor) => {\n                const data = editor.getData()\n                setFormvalue({...formvalue, message: data });\n                setMessage(data);\n            }\n        }\n        onBlur = {\n            (event, editor) => {\n                console.log('Blur.', editor);\n            }\n        }\n        onFocus = {\n            (event, editor) => {\n                console.log('Focus.', editor);\n            }\n        }\n        /> <\n        p style = {\n            { color: 'red', marginLeft: '1rem', fontSize: '12px', marginTop: '4px' } } > { formValidation.message } < /p> {\n            /* <TextField\n                            rows={4}\n                            rowsMax={100}\n                            multiline\n                            label='Message' fullWidth variant='outlined' value={message}\n                            onClick={handleMessage} onChange={handleMessage}\n                            error={!!formValidation.message}\n                            helperText={formValidation.message}\n                            name='message'\n                          /> */\n        } <\n        /Grid>\n\n        <\n        Grid item xs = { 12 } >\n        <\n        Box display = \"flex\" >\n        <\n        FormControlLabel style = {\n            { marginTop: 8 } }\n        control = { <\n            Switch checked = { state.switch }\n            onChange = { handleSwitchChange }\n            name = \"switch\"\n            color = \"primary\" / >\n        }\n        label = \"Link&nbsp;Rymindr\" /\n        >\n\n        {\n            state.switch && ( <\n                TextField label = \"Rymindr\"\n                fullWidth variant = \"outlined\"\n                onChange = { handleToopenRymindr }\n                onClick = { handleToopenRymindr }\n                value = { rymindrCount ? `${rymindrCount} ${rymindr_text}` : '' }\n                />\n            )\n        } <\n        /Box> <\n        /Grid>\n\n        <\n        Grid item xs = { 12 } >\n        <\n        Box display = \"flex\"\n        className = \"attach-files\" > {\n            /* <FormControlLabel\n                              className='attachement'\n                              control={\n                                <FileBase64\n                                  multiple={true}\n                                  onDone={getFiles11}\n                                  className='displayNone'\n                                  style={{ display: 'none' }}\n                                />\n                              }\n\n                              label={<Typography variant='subtitle1' component='p'>\n                                <Attachment style={{ marginBottom: -6, marginRight: 15 }} color='primary' /> Attachment\n                                </Typography>}\n                            /> */\n        }\n\n        <\n        FormControlLabel className = \"attachement\"\n        control = { <\n            input\n            type = \"file\"\n            multiple\n            onChange = { getFiles }\n            onClick = {\n                (e) => (e.target.value = null) }\n            className = \"displayNone\"\n            style = {\n                { display: 'none' } }\n            />\n        }\n        label = { <\n            Typography variant = \"subtitle1\"\n            component = \"p\" >\n            <\n            Attachment style = {\n                { marginBottom: -6, marginRight: 15 } }\n            color = \"primary\" / > Attachment <\n            /Typography>\n        }\n        /> <\n        /Box> <\n        Box alignItems = \"center\"\n        display = \"flex\" > {\n            // files && files.map((file, index) => {\n            //   const extension_arr = file && file.name ? file.name.split('.') : file.split('.')\n            //   const extension = extension_arr[1]\n            //   if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n            //     return (\n            //       <TypoStyled variant='subtitle1' component='p' key={index}>\n            //         {/* <img src={file.base64} width='32' height='32' className={classes.iconAttach} /> <Box className={classes.fileName}>{file.name}</Box> <CancelIcon onClick={() => deleteImage(index, file)} /> */}\n            //         <img src={file.base64} className={classes.iconAttach} /> {file.name}<CancelIcon onClick={() => deleteImage(index, file)} className={classes.verticalClass} />\n            //       </TypoStyled>\n            //     )\n            //   } else if (extension == 'mp3') {\n            //     return (\n            //       <TypoStyled variant='subtitle1' component='p' key={index}>\n            //         <Headset className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass} onClick={() => deleteImage(index, file)} />\n            //       </TypoStyled>\n            //     )\n            //   } else if (extension == 'mp4') {\n            //     return (\n            //       <TypoStyled variant='subtitle1' component='p' key={index}>\n            //         <Videocam className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass} onClick={() => deleteImage(index, file)} />\n            //       </TypoStyled>\n            //     )\n            //   } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n            //     return (\n            //       <TypoStyled variant='subtitle1' component='p' key={index}>\n            //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass}  onClick={() => deleteImage(index, file)} />\n            //       </TypoStyled>\n            //     )\n            //   } else if (extension == 'mp4') {\n            //     return (\n            //       <TypoStyled variant='subtitle1' component='p' key={index}>\n            //         <Videocam className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n            //       </TypoStyled>\n            //     )\n            //   } else if (extension == 'doc' || extension == 'docx') {\n            //     return (\n            //       <TypoStyled variant='subtitle1' component='p' key={index}>\n            //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n            //       </TypoStyled>\n            //     )\n            //   }  else {\n            //     return (\n            //       <TypoStyled variant='subtitle1' component='p' key={index}>\n            //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n            //       </TypoStyled>\n            //     )\n            //   }\n            // })\n\n            files &&\n            files.map((file, index) => {\n\n                if (file.attachment_object != undefined) {\n                    const extension_arr = file.attachment_object.split('.');\n                    const extension = extension_arr[1];\n\n                    if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n                        return ( <\n                            TypoStyled variant = \"subtitle1\"\n                            component = \"p\"\n                            key = { index } >\n                            <\n                            img src = { file.file_name }\n                            width = \"32\"\n                            height = \"32\" / > { ' ' } <\n                            Box className = { classes.fileName } > { file.attachment_object } < /Box>{' '} <\n                            CancelIcon onClick = {\n                                () => deleteImage(index, file) }\n                            /> <\n                            /TypoStyled>\n                        );\n                    } else if (extension == 'mp3') {\n                        return ( <\n                            TypoStyled variant = \"subtitle1\"\n                            component = \"p\"\n                            key = { index } >\n                            <\n                            Headset className = { classes.iconAttach }\n                            /> {file.attachment_object}{' '} <\n                            CancelIcon onClick = {\n                                () => deleteImage(index, file) }\n                            /> <\n                            /TypoStyled>\n                        );\n                    } else if (extension == 'mp4') {\n                        return ( <\n                            TypoStyled variant = \"subtitle1\"\n                            component = \"p\"\n                            key = { index } >\n                            <\n                            Videocam className = { classes.iconAttach }\n                            /> {file.attachment_object}{' '} <\n                            CancelIcon onClick = {\n                                () => deleteImage(index, file) }\n                            /> <\n                            /TypoStyled>\n                        );\n                    } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n                        return ( <\n                            TypoStyled variant = \"subtitle1\"\n                            component = \"p\"\n                            key = { index } >\n                            <\n                            Description className = { classes.iconAttach }\n                            /> {file.attachment_object}{' '} <\n                            CancelIcon onClick = {\n                                () => deleteImage(index, file) }\n                            /> <\n                            /TypoStyled>\n                        );\n                    } else {\n                        return ( <\n                            TypoStyled variant = \"subtitle1\"\n                            component = \"p\"\n                            key = { index } >\n                            <\n                            Description className = { classes.iconAttach }\n                            /> {file.attachment_object}{' '} <\n                            CancelIcon onClick = {\n                                () => deleteImage(index, file) }\n                            /> <\n                            /TypoStyled>\n                        );\n                    }\n                } else {\n                    const extension_arr = file.name.split('.');\n                    const extension = extension_arr[1];\n                    if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n                        return (\n                            // <TypoStyled variant='subtitle1' component='p' key={index}>\n                            //   <img src={file.base64} width='32' height='32' className={classes.iconAttach} /> <Box className={classes.fileName}>{file.name}</Box> <CancelIcon onClick={() => deleteImage(index, file)} />\n                            // </TypoStyled>\n\n                            <\n                            TypoStyled variant = \"subtitle1\"\n                            component = \"p\"\n                            key = { index } >\n                            <\n                            img src = { file.base64 }\n                            className = { classes.iconAttach }\n                            /> {file.name} <\n                            CancelIcon onClick = {\n                                () => deleteImage(index, file) }\n                            className = { classes.verticalClass }\n                            /> <\n                            /TypoStyled>\n                        );\n                    } else if (extension == 'mp3') {\n                        return ( <\n                            TypoStyled variant = \"subtitle1\"\n                            component = \"p\"\n                            key = { index } >\n                            <\n                            Headset className = { classes.iconAttach }\n                            /> {file.name}{' '} <\n                            CancelIcon onClick = {\n                                () => deleteImage(index, file) }\n                            /> <\n                            /TypoStyled>\n                        );\n                    } else if (extension == 'mp4') {\n                        return ( <\n                            TypoStyled variant = \"subtitle1\"\n                            component = \"p\"\n                            key = { index } >\n                            <\n                            Videocam className = { classes.iconAttach }\n                            /> {file.name}{' '} <\n                            CancelIcon onClick = {\n                                () => deleteImage(index, file) }\n                            /> <\n                            /TypoStyled>\n                        );\n                    } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n                        return ( <\n                            TypoStyled variant = \"subtitle1\"\n                            component = \"p\"\n                            key = { index } >\n                            <\n                            Description className = { classes.iconAttach }\n                            /> {file.name}{' '} <\n                            CancelIcon onClick = {\n                                () => deleteImage(index, file) }\n                            /> <\n                            /TypoStyled>\n                        );\n                    } else {\n                        return ( <\n                            TypoStyled variant = \"subtitle1\"\n                            component = \"p\"\n                            key = { index } >\n                            <\n                            Description className = { classes.iconAttach }\n                            /> {file.name}{' '} <\n                            CancelIcon onClick = {\n                                () => deleteImage(index, file) }\n                            /> <\n                            /TypoStyled>\n                        );\n                    }\n                }\n            })\n        } <\n        /Box> {\n            /* <Box alignItems='center' display='flex'>\n                            <TypoStyled variant='subtitle1' component='p'>\n                              <Headset className={classes.iconAttach} /> Audio Name.mp3\n                            </TypoStyled>\n\n                            <TypoStyled variant='subtitle1' component='p'>\n                              <Image className={classes.iconAttach} /> Image Name.jpeg\n                            </TypoStyled>\n\n                            <TypoStyled variant='subtitle1' component='p'>\n                              <Videocam className={classes.iconAttach} /> Video Name.mp4\n                            </TypoStyled>\n\n                            <TypoStyled variant='subtitle1' component='p'>\n                              <Description className={classes.iconAttach} /> Document Name.doc\n                            </TypoStyled>\n                        </Box> */\n        } <\n        /Grid>\n\n        <\n        Grid item xs = { 12 } >\n        <\n        Box display = \"flex\"\n        justifyContent = \"flex-end\" > {\n            /* <ButtonColor variant='contained' color='primary' size='large' className='mr-30 width180' startIcon={<Visibility />}>\n                              Preview\n                      </ButtonColor> */\n        } <\n        Button variant = \"contained\"\n        size = \"large\"\n        className = \"width180\"\n        startIcon = { < Cancel / > }\n        onClick = {\n            () => history.goBack() }\n        style = {\n            { marginRight: 20 } } >\n        Cancel <\n        /Button> <\n        Button variant = \"contained\"\n        color = \"primary\"\n        size = \"large\"\n        className = \"width180\"\n        startIcon = { < Send / > }\n        onClick = { handleToSubmit }\n        disabled = { loading } >\n        { loading && < CircularSpinner / > }\n        Send Now <\n        /Button> <\n        /Box> <\n        /Grid> <\n        /GridStyled> <\n        /PaperStyled> <\n        /MuiPickersUtilsProvider> <\n        />\n    );\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        loading: state.rymidr.loading,\n        error: state.rymidr.error,\n        success_message: state.messageCenterReducer.success_message,\n        categories: state.messageCenterReducer.categories,\n        userRymindrList: state.messageCenterReducer.userRymindrList,\n        // categories: state.rymidr.categories,\n        // subcategories: state.rymidr.subcategories,\n        groups: state.rymidr.groups,\n        businessusers: state.rymidr.businessusers,\n        matched_contact: state.rymidr.matched_contact,\n        messageDetailsById: state.messageCenterReducer.messageDetailById,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getcategories: (data) => dispatch(getCategories(data)),\n        // getSubCategories: (data) => dispatch(getSubCategories(data)),\n        getGroups: (data) => dispatch(getGroups(data)),\n        getBusinessUsers: (data) => dispatch(getBusinessUsers(data)),\n        getRymindrList: (data) => dispatch(getRymindrList(data)),\n        createMessageCenter: (data, unmatch, history, sendAttachment) =>\n            dispatch(createMessageCenter(data, unmatch, history, sendAttachment)),\n        updateMessageCenter: (data, unmatch, history, sendAttachment, deleteAttachment) =>\n            dispatch(updateMessageCenter(data, unmatch, history, sendAttachment, deleteAttachment)),\n        inviteAndAddMobile: (data) => dispatch(inviteAndAddMobile(data)),\n        getMessageDetailsById: (data) => dispatch(getMessageDetailsById(data)),\n    };\n};\n\nDirectMessage.propTypes = {\n    enqueueSnackbar: PropTypes.func.isRequired,\n    loading: PropTypes.bool.isRequired,\n    getcategories: PropTypes.func.isRequired,\n    getMessageDetailsById: PropTypes.func.isRequired,\n    error: PropTypes.string.isRequired,\n    success_message: PropTypes.any.isRequired,\n    categories: PropTypes.array.isRequired,\n    subcategories: PropTypes.array.isRequired,\n    getSubCategories: PropTypes.func.isRequired,\n    getGroups: PropTypes.func.isRequired,\n    groups: PropTypes.array.isRequired,\n    businessusers: PropTypes.array.isRequired,\n    getBusinessUsers: PropTypes.func.isRequired,\n    userRymindrList: PropTypes.array.isRequired,\n    getRymindrList: PropTypes.func.isRequired,\n    createMessageCenter: PropTypes.func.isRequired,\n    updateMessageCenter: PropTypes.func.isRequired,\n    inviteAndAddMobile: PropTypes.func.isRequired,\n    matched_contact: PropTypes.any.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(DirectMessage));"]},"metadata":{},"sourceType":"module"}