{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDnd = require(\"react-dnd\");\n\nvar _formElements = _interopRequireDefault(require(\"../form-elements\"));\n\nvar _ItemTypes = _interopRequireDefault(require(\"../ItemTypes\"));\n\nvar _customElement = _interopRequireDefault(require(\"../form-elements/custom-element\"));\n\nvar _registry = _interopRequireDefault(require(\"../stores/registry\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction getCustomElement(item, props) {\n  if (!item.component || typeof item.component !== 'function') {\n    item.component = _registry[\"default\"].get(item.key);\n\n    if (!item.component) {\n      console.error(\"\".concat(item.element, \" was not registered\"));\n    }\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_customElement[\"default\"], _extends({}, props, {\n    mutable: false,\n    key: \"form_\".concat(item.id),\n    data: item\n  }));\n}\n\nfunction getElement(item, props) {\n  if (!item) return null;\n  var Element = item.custom ? function () {\n    return getCustomElement(item, props);\n  } : _formElements[\"default\"][item.element || item.key];\n  return /*#__PURE__*/_react[\"default\"].createElement(_react.Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(Element, _extends({}, props, {\n    key: \"form_\".concat(item.id),\n    data: item\n  })));\n}\n\nfunction getStyle(backgroundColor) {\n  return {\n    border: '1px solid rgba(0,0,0,0.2)',\n    minHeight: '2rem',\n    minWidth: '12rem',\n    width: '100%',\n    backgroundColor: backgroundColor,\n    padding: 0,\n    \"float\": 'left'\n  };\n}\n\nfunction isContainer(item) {\n  if (item.itemType !== _ItemTypes[\"default\"].CARD) {\n    var data = item.data;\n\n    if (data) {\n      if (data.isContainer) {\n        return true;\n      }\n\n      if (data.field_name) {\n        return data.field_name.indexOf('_col_row') > -1;\n      }\n    }\n  }\n\n  return false;\n}\n\nvar Dustbin = /*#__PURE__*/_react[\"default\"].forwardRef(function (_ref, ref) {\n  var greedy = _ref.greedy,\n      isOver = _ref.isOver,\n      isOverCurrent = _ref.isOverCurrent,\n      connectDropTarget = _ref.connectDropTarget,\n      items = _ref.items,\n      col = _ref.col,\n      getDataById = _ref.getDataById,\n      rest = _objectWithoutProperties(_ref, [\"greedy\", \"isOver\", \"isOverCurrent\", \"connectDropTarget\", \"items\", \"col\", \"getDataById\"]);\n\n  var item = getDataById(items[col]);\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      onDrop: function onDrop()\n      /* dropped */\n      {// const { data } = dropped;\n        // console.log('onDrop', data);\n      }\n    };\n  }, []);\n  var backgroundColor = 'rgba(0, 0, 0, .03)';\n\n  if (isOverCurrent || isOver && greedy) {\n    backgroundColor = 'darkgreen';\n  }\n\n  var element = getElement(item, rest); // console.log('accepts, canDrop', accepts, canDrop);\n\n  return connectDropTarget( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: getStyle(backgroundColor)\n  }, element));\n});\n\nvar _default = (0, _reactDnd.DropTarget)(function (props) {\n  return props.accepts;\n}, {\n  drop: function drop(props, monitor, component) {\n    if (!component) {\n      return;\n    }\n\n    var item = monitor.getItem();\n\n    if (!isContainer(item)) {\n      component.onDrop(item);\n\n      if (item.data && typeof props.setAsChild === 'function') {\n        var isNew = !item.data.id;\n        var data = isNew ? item.onCreate(item.data) : item.data;\n        props.setAsChild(props.data, data, props.col);\n      }\n    }\n  }\n}, function (connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    isOverCurrent: monitor.isOver({\n      shallow: true\n    }),\n    canDrop: monitor.canDrop()\n  };\n})(Dustbin);\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/var/www/html/RymindrAppNew/node_modules/react-form-builder2/lib/multi-column/dustbin.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","_react","_interopRequireWildcard","require","_reactDnd","_formElements","_interopRequireDefault","_ItemTypes","_customElement","_registry","__esModule","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","i","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","propertyIsEnumerable","sourceKeys","keys","_extends","assign","arguments","apply","getCustomElement","item","props","component","console","error","concat","element","createElement","mutable","id","data","getElement","Element","custom","Fragment","getStyle","backgroundColor","border","minHeight","minWidth","width","padding","isContainer","itemType","CARD","field_name","Dustbin","forwardRef","_ref","ref","greedy","isOver","isOverCurrent","connectDropTarget","items","col","getDataById","rest","useImperativeHandle","onDrop","style","_default","DropTarget","accepts","drop","monitor","getItem","setAsChild","isNew","onCreate","connect","dropTarget","shallow","canDrop"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDnd = require(\"react-dnd\");\n\nvar _formElements = _interopRequireDefault(require(\"../form-elements\"));\n\nvar _ItemTypes = _interopRequireDefault(require(\"../ItemTypes\"));\n\nvar _customElement = _interopRequireDefault(require(\"../form-elements/custom-element\"));\n\nvar _registry = _interopRequireDefault(require(\"../stores/registry\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction getCustomElement(item, props) {\n  if (!item.component || typeof item.component !== 'function') {\n    item.component = _registry[\"default\"].get(item.key);\n\n    if (!item.component) {\n      console.error(\"\".concat(item.element, \" was not registered\"));\n    }\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_customElement[\"default\"], _extends({}, props, {\n    mutable: false,\n    key: \"form_\".concat(item.id),\n    data: item\n  }));\n}\n\nfunction getElement(item, props) {\n  if (!item) return null;\n  var Element = item.custom ? function () {\n    return getCustomElement(item, props);\n  } : _formElements[\"default\"][item.element || item.key];\n  return /*#__PURE__*/_react[\"default\"].createElement(_react.Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(Element, _extends({}, props, {\n    key: \"form_\".concat(item.id),\n    data: item\n  })));\n}\n\nfunction getStyle(backgroundColor) {\n  return {\n    border: '1px solid rgba(0,0,0,0.2)',\n    minHeight: '2rem',\n    minWidth: '12rem',\n    width: '100%',\n    backgroundColor: backgroundColor,\n    padding: 0,\n    \"float\": 'left'\n  };\n}\n\nfunction isContainer(item) {\n  if (item.itemType !== _ItemTypes[\"default\"].CARD) {\n    var data = item.data;\n\n    if (data) {\n      if (data.isContainer) {\n        return true;\n      }\n\n      if (data.field_name) {\n        return data.field_name.indexOf('_col_row') > -1;\n      }\n    }\n  }\n\n  return false;\n}\n\nvar Dustbin = /*#__PURE__*/_react[\"default\"].forwardRef(function (_ref, ref) {\n  var greedy = _ref.greedy,\n      isOver = _ref.isOver,\n      isOverCurrent = _ref.isOverCurrent,\n      connectDropTarget = _ref.connectDropTarget,\n      items = _ref.items,\n      col = _ref.col,\n      getDataById = _ref.getDataById,\n      rest = _objectWithoutProperties(_ref, [\"greedy\", \"isOver\", \"isOverCurrent\", \"connectDropTarget\", \"items\", \"col\", \"getDataById\"]);\n\n  var item = getDataById(items[col]);\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      onDrop: function onDrop()\n      /* dropped */\n      {// const { data } = dropped;\n        // console.log('onDrop', data);\n      }\n    };\n  }, []);\n  var backgroundColor = 'rgba(0, 0, 0, .03)';\n\n  if (isOverCurrent || isOver && greedy) {\n    backgroundColor = 'darkgreen';\n  }\n\n  var element = getElement(item, rest); // console.log('accepts, canDrop', accepts, canDrop);\n\n  return connectDropTarget( /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: getStyle(backgroundColor)\n  }, element));\n});\n\nvar _default = (0, _reactDnd.DropTarget)(function (props) {\n  return props.accepts;\n}, {\n  drop: function drop(props, monitor, component) {\n    if (!component) {\n      return;\n    }\n\n    var item = monitor.getItem();\n\n    if (!isContainer(item)) {\n      component.onDrop(item);\n\n      if (item.data && typeof props.setAsChild === 'function') {\n        var isNew = !item.data.id;\n        var data = isNew ? item.onCreate(item.data) : item.data;\n        props.setAsChild(props.data, data, props.col);\n      }\n    }\n  }\n}, function (connect, monitor) {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    isOverCurrent: monitor.isOver({\n      shallow: true\n    }),\n    canDrop: monitor.canDrop()\n  };\n})(Dustbin);\n\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}