{"ast":null,"code":"var _jsxFileName = \"/var/www/html/RymindrAppNew/src/container/Bookings/ManageBooking/ManageBookingView.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Axios from '../../../helper/axios';\nimport { makeStyles, styled, withStyles } from '@material-ui/core/styles';\nimport { Link, Route, BrowserRouter as Router, Switch, useParams, useHistory } from 'react-router-dom';\nimport { Box, Button, Divider, InputAdornment, TextField, IconButton, Hidden, MenuItem, Badge, Menu, Dialog, DialogTitle, DialogContent } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { Comment, Delete, Edit, Search, ArrowBack, Chat, Send, BeachAccess, Flag, MoreVert, ThumbUp, Message, Close } from '@material-ui/icons';\nimport { getBookListDetail } from '../../../store/actions/booklist';\nimport clsx from 'clsx';\nimport { PDFDownloadLink, Image } from '@react-pdf/renderer';\nimport { PdfDocument } from './userList';\nimport parse from 'html-react-parser';\nimport el from 'date-fns/esm/locale/el/index.js';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n    position: 'relative',\n    height: 100 + '%'\n  },\n  rightPanel: {\n    [theme.breakpoints.up('md')]: {\n      display: 'block !important'\n    }\n  }\n}));\nconst AvatarStyled = styled(Avatar)({\n  height: 25,\n  width: 25,\n  '& img': {\n    height: 'auto'\n  }\n});\nconst TypoTitleStyled = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 14,\n  color: theme.palette.secondary.contrastText,\n  marginBottom: 10\n}));\nconst TypoContentStyled = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 16,\n  color: theme.palette.text.primary\n}));\nconst AvatarShareStyled = styled(Avatar)({\n  height: 50,\n  width: 50\n});\nconst BoxStyled = styled(Box)({\n  display: 'flex',\n  '&>span': {\n    marginRight: 10\n  }\n});\nconst TypoHeadStyled = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 24,\n  color: theme.palette.primary.main,\n  textTransform: 'uppercase',\n  fontWeight: 'bold'\n}));\nconst TypoHeadInnerStyled = styled(TypoHeadStyled)(({\n  theme\n}) => ({\n  color: theme.palette.text.primary\n}));\nconst TypoListSubtext = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 14,\n  color: theme.palette.secondary.contrastText\n}));\nconst ListStyled = styled(List)(({\n  theme\n}) => ({\n  paddingLeft: 20\n}));\nconst GridStyled = styled(Grid)({\n  padding: '15px 15px 15px 30px'\n});\nconst DialogTitleStyled = styled(DialogTitle)({\n  borderBottom: '1px solid #e0e0e0',\n  padding: '10px 24px',\n  marginBottom: 20\n});\nconst TypoPopHeadStyled = styled(Typography)(({\n  theme\n}) => ({\n  color: theme.palette.secondary.contrastText,\n  fontSize: 18,\n  fontWeight: '600'\n}));\nconst ButtonDanger = styled(Button)(({\n  theme\n}) => ({\n  background: theme.palette.error.main,\n  color: theme.palette.warning.contrastText\n}));\n\nfunction Bookings(props) {\n  const history = useHistory();\n\n  if (!props.location.customNameData) {\n    history.push(`/bookings`);\n  }\n\n  const classes = useStyles();\n  let {\n    ID\n  } = useParams();\n  const [open, setOpen] = React.useState(false);\n  const [open2, setOpen2] = React.useState(false);\n  const [tempBookedSlotArr, setTempBookedSlotArr] = React.useState([]);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n    setAnchorEl(null);\n  };\n\n  const [bookedSlotDetails, setBookedSlotDetails] = useState({\n    id: null,\n    event_id: null,\n    meeting_id: null,\n    personName: null\n  });\n\n  const handleClickOpen2 = async () => {\n    await Axios().post('bookevent/geteventslotdetails', {\n      eventId: ID,\n      meetingId: meetingDetails.meetingId,\n      slotTime: meetingDetails.meetingTime\n    }).then(response => {\n      setBookedSlotDetails({\n        id: response.data.data.id,\n        event_id: response.data.data.event_id,\n        meeting_id: response.data.data.meeting_id,\n        personName: response.data.data.name\n      });\n      setAnchorEl(null);\n      setOpen2(true);\n    });\n  };\n\n  const handleCloseModal = () => {\n    setOpen(false);\n  };\n\n  const handleCloseModal2 = () => {\n    setOpen2(false);\n  };\n\n  const [currency, setCurrency] = React.useState('all');\n\n  const handleChange = event => {\n    setCurrency(event.target.value);\n  };\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [hideMenuBtn, updatehideMenuBtn] = useState(true);\n  const [hideUnreserveMenuBtn, updateHideUnreserveMenuBtn] = useState(false);\n  const [meetingDetails, updateMeetingDetails] = useState({\n    meetingId: null,\n    meetingDate: null,\n    meetingDay: null,\n    meetingTime: null,\n    slotDuration: null,\n    slotIndex: null\n  });\n  const showButtonMenu = Boolean(anchorEl);\n\n  const handleClick = (event, btnType, meetingId, meetingDate, meetingDay, meetingTime, slotDuration, slotIndex) => {\n    if (btnType == 'available') {\n      updatehideMenuBtn(true);\n      updateHideUnreserveMenuBtn(false);\n      updateMeetingDetails({\n        meetingId: meetingId,\n        meetingDate: meetingDate,\n        meetingDay: meetingDay,\n        meetingTime: meetingTime,\n        slotDuration: slotDuration,\n        slotIndex: slotIndex\n      });\n      setAnchorEl(event.currentTarget);\n    } else if (btnType == 'reserved') {\n      updatehideMenuBtn(false);\n      updateHideUnreserveMenuBtn(true);\n      updateMeetingDetails({\n        meetingId: meetingId,\n        meetingDate: meetingDate,\n        meetingDay: meetingDay,\n        meetingTime: meetingTime,\n        slotDuration: slotDuration,\n        slotIndex: slotIndex\n      });\n      setAnchorEl(event.currentTarget);\n    } else {\n      updatehideMenuBtn(false);\n      updateHideUnreserveMenuBtn(false);\n      updateMeetingDetails({\n        meetingId: meetingId,\n        meetingDate: meetingDate,\n        meetingDay: meetingDay,\n        meetingTime: meetingTime,\n        slotDuration: slotDuration,\n        slotIndex: slotIndex\n      });\n      setAnchorEl(event.currentTarget);\n    }\n  };\n\n  const handleClose1 = () => {\n    setAnchorEl(null);\n  };\n\n  const {\n    user_id,\n    business_code,\n    first_name,\n    last_name,\n    sc_bessi_name,\n    profile_image\n  } = JSON.parse(localStorage.getItem('userData'));\n  const {\n    getBookListDetail,\n    bookdetails\n  } = props;\n  useEffect(() => {\n    if (ID != undefined) {\n      getBookListDetail({\n        ID,\n        user_id\n      });\n    }\n  }, []);\n  const [eventSlots, setEventSlots] = useState({});\n  const [bookingStatus, setBookingStatus] = useState('');\n  const [isSlotBooked, setIsSlotBooked] = useState(false);\n  const [isSlotReleased, setIsSlotReleased] = useState(false);\n  const [isSlotReserved, setIsSlotReserved] = useState(false);\n  const [userStatus, setUserStatus] = useState([]);\n  const [downloadThisData, setDownloadThisData] = useState(null);\n  const [state, setState] = useState({\n    name: 'Param',\n    email: 'param@gmail.com'\n  });\n  useEffect(() => {\n    async function fetchEventSlots() {\n      const result = await Axios().post('bookevent/geteventslots', {\n        event_id: ID\n      });\n      setEventSlots(result.data.data);\n      let tempSlotArr = [];\n      console.log('result.data.data.slots=-=====', result.data.data.slots);\n\n      if (result.data.data.slots && result.data.data.slots.length > 0) {\n        result.data.data.slots.map((slots, index) => {\n          slots.booked_slots.map((booked_slots, i) => {\n            tempSlotArr.push({\n              [slots.meeting_id]: booked_slots.slot\n            });\n          });\n          setTempBookedSlotArr(tempSlotArr);\n        });\n      } else {\n        setTempBookedSlotArr([]);\n      }\n    }\n\n    fetchEventSlots();\n\n    async function fetchUserStatus() {\n      const result = await Axios().post('bookevent/userslot', {\n        event_id: ID\n      });\n      setUserStatus(result.data.data);\n      setState({\n        name: 'Vennila',\n        email: 'vennila@gmail.com'\n      });\n    }\n\n    fetchUserStatus();\n  }, []);\n  useEffect(() => {\n    if (bookdetails && bookdetails.length > 0 && userStatus && userStatus.slots) {\n      let meeting_data = [];\n      const bookingDetails = bookdetails[0];\n      bookingDetails.meeting_data.map(function (meeting) {\n        let getD = userStatus.slots.filter(a => a.meeting_id == meeting.meet_id);\n\n        if (getD && getD.length > 0) {\n          meeting.slotsDetail = getD[0];\n        }\n      });\n      bookingDetails.school_name = sc_bessi_name; // bookingDetails.category\n\n      let cat_img = '/assets/images/school_images/parent.png';\n\n      if (bookingDetails.category == '157') {\n        cat_img = '/assets/images/school_images/event_blue.png';\n      } else if (bookingDetails.category == '158') {\n        cat_img = '/assets/images/school_images/event.png';\n      } else {\n        cat_img = '/assets/images/school_images/parent.png';\n      }\n\n      bookingDetails.cat_img = cat_img;\n      setDownloadThisData(bookingDetails);\n      console.log('bookingDetails---------', bookingDetails);\n    } //const bookingDetails = ( bookdetails != null && bookdetails.length ) ? bookdetails[0]: null;\n\n\n    console.log('userStatus---------', userStatus);\n  }, [bookdetails, userStatus]);\n  useEffect(() => {\n    if (eventSlots && eventSlots.slots && eventSlots.slots.length > 0) {\n      let allCount = 0;\n      eventSlots.slots.map((slots, index) => {\n        if (slots.all_slots && slots.all_slots.length > 0) {\n          allCount = allCount + slots.all_slots.length;\n        }\n      });\n      let remainingBooked = allCount - tempBookedSlotArr.length;\n      setBookingStatus(tempBookedSlotArr.length + ' slots booked and ' + remainingBooked + ' slots available');\n    }\n  }, [tempBookedSlotArr]);\n  useEffect(() => {\n    if (isSlotBooked) {\n      // Get the existing slots\n      let existingSlots = { ...eventSlots\n      }; // Update the specific slot\n\n      existingSlots.slots[meetingDetails.slotIndex].booked_slots.push(meetingDetails.meetingTime); // Call the function to update state\n\n      setEventSlots(existingSlots); // Set the flag to its initial value\n\n      setIsSlotBooked(false);\n    }\n\n    if (isSlotReleased) {\n      // Get the existing slots\n      let existingSlots = { ...eventSlots\n      };\n      let elemIndex = existingSlots.slots[meetingDetails.slotIndex].booked_slots.indexOf(meetingDetails.meetingTime);\n\n      if (elemIndex) {\n        // Remove the specific slot\n        existingSlots.slots[meetingDetails.slotIndex].reserved_slots.splice(elemIndex, 1);\n      } // Remove the specific slot\n\n\n      existingSlots.slots[meetingDetails.slotIndex].booked_slots.splice(elemIndex, 1); // Call the function to update state\n\n      setEventSlots(existingSlots); // Set the flag to its initial value\n\n      setIsSlotReleased(false);\n    }\n\n    if (isSlotReserved) {\n      // Get the existing slots\n      let existingSlots = { ...eventSlots\n      }; // Update the specific slot\n\n      existingSlots.slots[meetingDetails.slotIndex].reserved_slots.push(meetingDetails.meetingTime); // Call the function to update state\n\n      setEventSlots(existingSlots); // Set the flag to its initial value\n\n      setIsSlotBooked(false);\n      setIsSlotReserved(false);\n    }\n  }, [isSlotBooked, isSlotReleased, isSlotReserved]);\n\n  if (bookdetails && bookdetails.length > 0 && bookdetails[0]) {\n    bookdetails[0].meeting_data.sort(function compare(a, b) {\n      var dateA = new Date(a.meeting_date);\n      var dateB = new Date(b.meeting_date);\n      return dateA - dateB;\n    });\n  }\n\n  const bookingDetails = bookdetails != null && bookdetails.length ? bookdetails[0] : null; // From validation & hold the form values in state\n\n  const FormFields = {\n    message: ''\n  };\n  const [bookSlotFormValues, setBookSlotFormValues] = useState({\n    fullname: '',\n    contact: '',\n    notes: ''\n  });\n  const [formValidation, setFormValidation] = useState(FormFields);\n\n  const handleSlotBookingChange = event => {\n    const formdata = { ...bookSlotFormValues\n    };\n    const {\n      name,\n      value\n    } = event.target;\n    const formvalidation = { ...formValidation\n    };\n\n    if (name === 'fullname') {\n      formdata.message = value;\n      formvalidation.message = '';\n      setFormValidation(formvalidation);\n    }\n\n    let formValues = { ...bookSlotFormValues,\n      [event.target.name]: event.target.value\n    };\n    setBookSlotFormValues(formValues);\n  };\n\n  const validate = () => {\n    const formvalidation = { ...formValidation\n    };\n    let isError = false;\n\n    if (!bookSlotFormValues.fullname) {\n      isError = true;\n      formvalidation.message = 'Please enter name';\n      setFormValidation(formvalidation);\n    }\n\n    return isError;\n  };\n\n  const handleSlotBooking = async () => {\n    if (validate()) return false;\n    await Axios().post('bookevent/bookeventslot', {\n      eventId: ID,\n      meetingId: meetingDetails.meetingId,\n      fullname: bookSlotFormValues.fullname,\n      contact: bookSlotFormValues.contact,\n      notes: bookSlotFormValues.notes,\n      slotTime: meetingDetails.meetingTime,\n      slotDuration: meetingDetails.slotDuration\n    }).then(() => {\n      // Close the modal\n      setOpen(false);\n      setIsSlotBooked(true);\n    });\n  };\n\n  const [releaseReason, setReleaseReason] = useState('');\n\n  const handleEventSlotRelease = async (slotId, time, event_id) => {\n    await Axios().post('bookevent/releaseeventslot', {\n      slotId: slotId,\n      time: time,\n      event_id: event_id,\n      reason: releaseReason\n    }).then(() => {\n      // Close the modal\n      setOpen2(false);\n      setIsSlotReleased(true);\n    });\n  };\n\n  const handleReserveSlot = async () => {\n    await Axios().post('bookevent/reserveeventslot', {\n      eventId: ID,\n      meetingId: meetingDetails.meetingId,\n      slotTime: meetingDetails.meetingTime,\n      slotDuration: meetingDetails.slotDuration\n    }).then(() => {\n      // Hide the btn menu\n      setAnchorEl(null);\n      setIsSlotReserved(true);\n    });\n  };\n\n  const [movieDetails, setDetails] = useState([]);\n  const [show, setHide] = useState(false);\n  const category = [{\n    value: 'Parents Evening',\n    label: 'Parents Evening'\n  }, {\n    value: 'Event',\n    label: 'Event'\n  }, {\n    value: 'Appointment',\n    label: 'Appointment'\n  }];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    className: \"main-wrap-head\",\n    container: true,\n    style: {\n      marginBottom: 20\n    },\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TypoHeadStyled, {\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 13\n    }\n  }, \"Manage \", /*#__PURE__*/React.createElement(TypoHeadInnerStyled, {\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 22\n    }\n  }, \"Booking\"))))), /*#__PURE__*/React.createElement(Grid, {\n    className: \"main-wrap-body mng-book-wrap\",\n    container: true,\n    alignItems: \"stretch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    className: \"mng-book-cont\",\n    item: true,\n    xs: 12,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: clsx(classes.paper, 'mng-book-inrCont'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GridStyled, {\n    container: true,\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(BoxStyled, {\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AvatarShareStyled, {\n    alt: \"semy Sharp\",\n    className: \"mr-0\",\n    src: require('../../../assets/images/event_rymindr.png'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 554,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    noWrap: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    fontWeight: \"fontWeightBold\",\n    m: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 21\n    }\n  }, bookingDetails != null ? bookingDetails.category : null, \" |\", ' ', bookingDetails != null ? bookingDetails.subject : null))))), /*#__PURE__*/React.createElement(ListStyled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 13\n    }\n  }, bookingDetails != null ? bookingDetails.meeting_data.map((booking, bookingIndex) => {\n    var meeting_time_start = booking.meeting_time_start;\n    var H = +meeting_time_start.substr(0, 2);\n    var h = H % 12 || 12;\n    var ampm = H < 12 ? 'AM' : 'PM';\n    meeting_time_start = h + meeting_time_start.substr(2, 3) + ampm;\n    var meeting_time_start1 = booking.meeting_time_start1;\n    var H = +meeting_time_start1.substr(0, 2);\n    var h = H % 12 || 12;\n    var ampm = H < 12 ? 'AM' : 'PM';\n    meeting_time_start1 = h + meeting_time_start1.substr(2, 3) + ampm;\n    var meeting_time_end = booking.meeting_time_end;\n    var H = +meeting_time_end.substr(0, 2);\n    var h = H % 12 || 12;\n    var ampm = H < 12 ? 'AM' : 'PM';\n    meeting_time_end = h + meeting_time_end.substr(2, 3) + ampm;\n    var meeting_time_end1 = booking.meeting_time_end1;\n    var H = +meeting_time_end1.substr(0, 2);\n    var h = H % 12 || 12;\n    var ampm = H < 12 ? 'AM' : 'PM';\n    meeting_time_end1 = h + meeting_time_end1.substr(2, 3) + ampm;\n    return /*#__PURE__*/React.createElement(ListItem, {\n      alignItems: \"flex-start\",\n      key: bookingIndex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(AvatarStyled, {\n      alt: \"semy Sharp\",\n      variant: \"square\",\n      src: require('../../../assets/images/calendar_icon.png'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 27\n      }\n    })), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: /*#__PURE__*/React.createElement(Box, {\n        display: \"flex\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Box, {\n        width: \"30%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(TypoTitleStyled, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 33\n        }\n      }, \"Meeting Date\"), /*#__PURE__*/React.createElement(TypoContentStyled, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 33\n        }\n      }, booking.meeting_date)), /*#__PURE__*/React.createElement(Box, {\n        width: \"17%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(TypoTitleStyled, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 33\n        }\n      }, \"Start Time\"), /*#__PURE__*/React.createElement(TypoContentStyled, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 33\n        }\n      }, meeting_time_start)), /*#__PURE__*/React.createElement(Box, {\n        width: \"17%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(TypoTitleStyled, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 33\n        }\n      }, \"End Time\"), /*#__PURE__*/React.createElement(TypoContentStyled, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 33\n        }\n      }, meeting_time_end)), /*#__PURE__*/React.createElement(Box, {\n        width: \"18%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(TypoTitleStyled, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 33\n        }\n      }, \"Break Start Time\"), /*#__PURE__*/React.createElement(TypoContentStyled, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 33\n        }\n      }, meeting_time_start1)), /*#__PURE__*/React.createElement(Box, {\n        width: \"18%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(TypoTitleStyled, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 33\n        }\n      }, \"Break End Time\"), /*#__PURE__*/React.createElement(TypoContentStyled, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 33\n        }\n      }, meeting_time_end1))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 25\n      }\n    }));\n  }) : null, /*#__PURE__*/React.createElement(Divider, {\n    variant: \"inset\",\n    component: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 635,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    alignItems: \"flex-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 636,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AvatarStyled, {\n    alt: \"semy Sharp\",\n    variant: \"square\",\n    src: require('../../../assets/images/email.png'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: /*#__PURE__*/React.createElement(TypoTitleStyled, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 641,\n        columnNumber: 28\n      }\n    }, \"Message\"),\n    secondary: /*#__PURE__*/React.createElement(TypoContentStyled, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 21\n      }\n    }, bookingDetails != null ? parse(bookingDetails.message) : null),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 640,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    variant: \"inset\",\n    component: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ListItem, {\n    alignItems: \"flex-start participants-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 652,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ListItemText, {\n    secondary: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      className: \"mt-20 participants-status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      className: \"partic-status\",\n      width: \"40%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(TypoContentStyled, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 27\n      }\n    }, \"Status:\", ' ', /*#__PURE__*/React.createElement(Box, {\n      fontWeight: \"bold\",\n      component: \"span\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 660,\n        columnNumber: 29\n      }\n    }, bookingStatus))), /*#__PURE__*/React.createElement(Box, {\n      className: \"partic-deadline\",\n      width: \"40%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(TypoContentStyled, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 27\n      }\n    }, \"Deadline:\", ' ', /*#__PURE__*/React.createElement(Box, {\n      fontWeight: \"bold\",\n      component: \"span\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 29\n      }\n    }, eventSlots != null ? eventSlots.remaining_days : null, ' ', eventSlots.remaining_days === '1' ? 'day' : 'days'))), /*#__PURE__*/React.createElement(Box, {\n      className: \"download-pdf\",\n      width: \"20%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 25\n      }\n    }, downloadThisData ? /*#__PURE__*/React.createElement(PDFDownloadLink, {\n      document: /*#__PURE__*/React.createElement(PdfDocument, {\n        eventData: downloadThisData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 41\n        }\n      }),\n      fileName: \"event_data.pdf\",\n      className: \"MuiButtonBase-root MuiButton-root MuiButton-contained btn-download MuiButton-containedPrimary MuiButton-containedSizeLarge MuiButton-sizeLarge\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 29\n      }\n    }, \"Download Pdf\") : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-head-ttl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 23\n      }\n    }, \"Participants List\"), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      className: \"mt-30 participants-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 23\n      }\n    }, userStatus.hasOwnProperty('slots') ? userStatus.slots.map((slot, slotIndex) => {\n      return /*#__PURE__*/React.createElement(Grid, {\n        className: \"table-wrap\",\n        item: true,\n        xs: 4,\n        key: slotIndex,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(TypoContentStyled, {\n        className: \"table-head\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 35\n        }\n      }, slot.day, \" \", slot.date), /*#__PURE__*/React.createElement(Box, {\n        className: \"table-wrap-blk\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"app-tblWrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 37\n        }\n      }, slot.hasOwnProperty('all_slots') ? slot.all_slots.map((meetingSlot, meetingSlotIndex) => /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 47\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 49\n        }\n      }, meetingSlotIndex + 1), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 49\n        }\n      }, meetingSlot.name !== '' ? meetingSlot.name : '--'), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 49\n        }\n      }, meetingSlot.time)))) : null)));\n    }) : null)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 17\n    }\n  })))))));\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.bookevent.loading,\n    error: state.bookevent.error,\n    bookdetails: state.booklist.bookdetails\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getBookListDetail: data => dispatch(getBookListDetail(data))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Bookings);","map":{"version":3,"sources":["/var/www/html/RymindrAppNew/src/container/Bookings/ManageBooking/ManageBookingView.js"],"names":["React","useState","useEffect","connect","axios","Axios","makeStyles","styled","withStyles","Link","Route","BrowserRouter","Router","Switch","useParams","useHistory","Box","Button","Divider","InputAdornment","TextField","IconButton","Hidden","MenuItem","Badge","Menu","Dialog","DialogTitle","DialogContent","Paper","Grid","List","ListItem","ListItemText","ListItemAvatar","Avatar","Typography","Comment","Delete","Edit","Search","ArrowBack","Chat","Send","BeachAccess","Flag","MoreVert","ThumbUp","Message","Close","getBookListDetail","clsx","PDFDownloadLink","Image","PdfDocument","parse","el","useStyles","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","position","height","rightPanel","breakpoints","up","display","AvatarStyled","width","TypoTitleStyled","fontSize","contrastText","marginBottom","TypoContentStyled","primary","AvatarShareStyled","BoxStyled","marginRight","TypoHeadStyled","main","textTransform","fontWeight","TypoHeadInnerStyled","TypoListSubtext","ListStyled","paddingLeft","GridStyled","DialogTitleStyled","borderBottom","TypoPopHeadStyled","ButtonDanger","background","error","warning","Bookings","props","history","location","customNameData","push","classes","ID","open","setOpen","open2","setOpen2","tempBookedSlotArr","setTempBookedSlotArr","handleClickOpen","setAnchorEl","bookedSlotDetails","setBookedSlotDetails","id","event_id","meeting_id","personName","handleClickOpen2","post","eventId","meetingId","meetingDetails","slotTime","meetingTime","then","response","data","name","handleCloseModal","handleCloseModal2","currency","setCurrency","handleChange","event","target","value","anchorEl","hideMenuBtn","updatehideMenuBtn","hideUnreserveMenuBtn","updateHideUnreserveMenuBtn","updateMeetingDetails","meetingDate","meetingDay","slotDuration","slotIndex","showButtonMenu","Boolean","handleClick","btnType","currentTarget","handleClose1","user_id","business_code","first_name","last_name","sc_bessi_name","profile_image","JSON","localStorage","getItem","bookdetails","undefined","eventSlots","setEventSlots","bookingStatus","setBookingStatus","isSlotBooked","setIsSlotBooked","isSlotReleased","setIsSlotReleased","isSlotReserved","setIsSlotReserved","userStatus","setUserStatus","downloadThisData","setDownloadThisData","state","setState","email","fetchEventSlots","result","tempSlotArr","console","log","slots","length","map","index","booked_slots","i","slot","fetchUserStatus","meeting_data","bookingDetails","meeting","getD","filter","a","meet_id","slotsDetail","school_name","cat_img","category","allCount","all_slots","remainingBooked","existingSlots","elemIndex","indexOf","reserved_slots","splice","sort","compare","b","dateA","Date","meeting_date","dateB","FormFields","message","bookSlotFormValues","setBookSlotFormValues","fullname","contact","notes","formValidation","setFormValidation","handleSlotBookingChange","formdata","formvalidation","formValues","validate","isError","handleSlotBooking","releaseReason","setReleaseReason","handleEventSlotRelease","slotId","time","reason","handleReserveSlot","movieDetails","setDetails","show","setHide","label","require","subject","booking","bookingIndex","meeting_time_start","H","substr","h","ampm","meeting_time_start1","meeting_time_end","meeting_time_end1","remaining_days","hasOwnProperty","day","date","meetingSlot","meetingSlotIndex","mapStateToProps","loading","bookevent","booklist","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Axios from '../../../helper/axios';\n\nimport { makeStyles, styled, withStyles } from '@material-ui/core/styles';\nimport { Link, Route, BrowserRouter as Router, Switch, useParams, useHistory } from 'react-router-dom';\n\nimport {\n  Box,\n  Button,\n  Divider,\n  InputAdornment,\n  TextField,\n  IconButton,\n  Hidden,\n  MenuItem,\n  Badge,\n  Menu,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n} from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport {\n  Comment,\n  Delete,\n  Edit,\n  Search,\n  ArrowBack,\n  Chat,\n  Send,\n  BeachAccess,\n  Flag,\n  MoreVert,\n  ThumbUp,\n  Message,\n  Close,\n} from '@material-ui/icons';\n\nimport { getBookListDetail } from '../../../store/actions/booklist';\nimport clsx from 'clsx';\n\nimport { PDFDownloadLink, Image } from '@react-pdf/renderer';\nimport { PdfDocument } from './userList';\n\nimport parse from 'html-react-parser';\nimport el from 'date-fns/esm/locale/el/index.js';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n    position: 'relative',\n    height: 100 + '%',\n  },\n  rightPanel: {\n    [theme.breakpoints.up('md')]: {\n      display: 'block !important',\n    },\n  },\n}));\n\nconst AvatarStyled = styled(Avatar)({\n  height: 25,\n  width: 25,\n  '& img': {\n    height: 'auto',\n  },\n});\n\nconst TypoTitleStyled = styled(Typography)(({ theme }) => ({\n  fontSize: 14,\n  color: theme.palette.secondary.contrastText,\n  marginBottom: 10,\n}));\n\nconst TypoContentStyled = styled(Typography)(({ theme }) => ({\n  fontSize: 16,\n  color: theme.palette.text.primary,\n}));\n\nconst AvatarShareStyled = styled(Avatar)({\n  height: 50,\n  width: 50,\n});\n\nconst BoxStyled = styled(Box)({\n  display: 'flex',\n  '&>span': { marginRight: 10 },\n});\n\nconst TypoHeadStyled = styled(Typography)(({ theme }) => ({\n  fontSize: 24,\n  color: theme.palette.primary.main,\n  textTransform: 'uppercase',\n  fontWeight: 'bold',\n}));\n\nconst TypoHeadInnerStyled = styled(TypoHeadStyled)(({ theme }) => ({\n  color: theme.palette.text.primary,\n}));\n\nconst TypoListSubtext = styled(Typography)(({ theme }) => ({\n  fontSize: 14,\n  color: theme.palette.secondary.contrastText,\n}));\n\nconst ListStyled = styled(List)(({ theme }) => ({\n  paddingLeft: 20,\n}));\n\nconst GridStyled = styled(Grid)({\n  padding: '15px 15px 15px 30px',\n});\n\nconst DialogTitleStyled = styled(DialogTitle)({\n  borderBottom: '1px solid #e0e0e0',\n  padding: '10px 24px',\n  marginBottom: 20,\n});\n\nconst TypoPopHeadStyled = styled(Typography)(({ theme }) => ({\n  color: theme.palette.secondary.contrastText,\n  fontSize: 18,\n  fontWeight: '600',\n}));\n\nconst ButtonDanger = styled(Button)(({ theme }) => ({\n  background: theme.palette.error.main,\n  color: theme.palette.warning.contrastText,\n}));\n\nfunction Bookings(props) {\n  const history = useHistory();\n  if (!props.location.customNameData) {\n    history.push(`/bookings`);\n  }\n  const classes = useStyles();\n\n  let { ID } = useParams();\n\n  const [open, setOpen] = React.useState(false);\n  const [open2, setOpen2] = React.useState(false);\n  const [tempBookedSlotArr, setTempBookedSlotArr] = React.useState([]);\n  const handleClickOpen = () => {\n    setOpen(true);\n    setAnchorEl(null);\n  };\n\n  const [bookedSlotDetails, setBookedSlotDetails] = useState({\n    id: null,\n    event_id: null,\n    meeting_id: null,\n    personName: null,\n  });\n  const handleClickOpen2 = async () => {\n    await Axios()\n      .post('bookevent/geteventslotdetails', {\n        eventId: ID,\n        meetingId: meetingDetails.meetingId,\n        slotTime: meetingDetails.meetingTime,\n      })\n      .then((response) => {\n        setBookedSlotDetails({\n          id: response.data.data.id,\n          event_id: response.data.data.event_id,\n          meeting_id: response.data.data.meeting_id,\n          personName: response.data.data.name,\n        });\n\n        setAnchorEl(null);\n        setOpen2(true);\n      });\n  };\n\n  const handleCloseModal = () => {\n    setOpen(false);\n  };\n\n  const handleCloseModal2 = () => {\n    setOpen2(false);\n  };\n\n  const [currency, setCurrency] = React.useState('all');\n\n  const handleChange = (event) => {\n    setCurrency(event.target.value);\n  };\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const [hideMenuBtn, updatehideMenuBtn] = useState(true);\n  const [hideUnreserveMenuBtn, updateHideUnreserveMenuBtn] = useState(false);\n\n  const [meetingDetails, updateMeetingDetails] = useState({\n    meetingId: null,\n    meetingDate: null,\n    meetingDay: null,\n    meetingTime: null,\n    slotDuration: null,\n    slotIndex: null,\n  });\n\n  const showButtonMenu = Boolean(anchorEl);\n\n  const handleClick = (event, btnType, meetingId, meetingDate, meetingDay, meetingTime, slotDuration, slotIndex) => {\n    if (btnType == 'available') {\n      updatehideMenuBtn(true);\n      updateHideUnreserveMenuBtn(false);\n\n      updateMeetingDetails({\n        meetingId: meetingId,\n        meetingDate: meetingDate,\n        meetingDay: meetingDay,\n        meetingTime: meetingTime,\n        slotDuration: slotDuration,\n        slotIndex: slotIndex,\n      });\n\n      setAnchorEl(event.currentTarget);\n    } else if (btnType == 'reserved') {\n      updatehideMenuBtn(false);\n      updateHideUnreserveMenuBtn(true);\n\n      updateMeetingDetails({\n        meetingId: meetingId,\n        meetingDate: meetingDate,\n        meetingDay: meetingDay,\n        meetingTime: meetingTime,\n        slotDuration: slotDuration,\n        slotIndex: slotIndex,\n      });\n\n      setAnchorEl(event.currentTarget);\n    } else {\n      updatehideMenuBtn(false);\n      updateHideUnreserveMenuBtn(false);\n\n      updateMeetingDetails({\n        meetingId: meetingId,\n        meetingDate: meetingDate,\n        meetingDay: meetingDay,\n        meetingTime: meetingTime,\n        slotDuration: slotDuration,\n        slotIndex: slotIndex,\n      });\n\n      setAnchorEl(event.currentTarget);\n    }\n  };\n\n  const handleClose1 = () => {\n    setAnchorEl(null);\n  };\n\n  const { user_id, business_code, first_name, last_name,sc_bessi_name,profile_image } = JSON.parse(localStorage.getItem('userData'));\n\n  const { getBookListDetail, bookdetails } = props;\n\n  useEffect(() => {\n    if (ID != undefined) {\n      getBookListDetail({ ID, user_id });\n    }\n  }, []);\n\n  const [eventSlots, setEventSlots] = useState({});\n  const [bookingStatus, setBookingStatus] = useState('');\n  const [isSlotBooked, setIsSlotBooked] = useState(false);\n  const [isSlotReleased, setIsSlotReleased] = useState(false);\n  const [isSlotReserved, setIsSlotReserved] = useState(false);\n\n  const [userStatus, setUserStatus] = useState([]);\n\n  const [downloadThisData, setDownloadThisData] = useState(null);\n\n  const [state, setState] = useState({\n    name: 'Param',\n    email: 'param@gmail.com',\n  });\n\n  useEffect(() => {\n    async function fetchEventSlots() {\n      const result = await Axios().post('bookevent/geteventslots', { event_id: ID });\n      setEventSlots(result.data.data);\n      let tempSlotArr = [];\n\n      console.log('result.data.data.slots=-=====', result.data.data.slots);\n\n      if (result.data.data.slots && result.data.data.slots.length > 0) {\n        result.data.data.slots.map((slots, index) => {\n          slots.booked_slots.map((booked_slots, i) => {\n            tempSlotArr.push({ [slots.meeting_id]: booked_slots.slot });\n          });\n          setTempBookedSlotArr(tempSlotArr);\n        });\n      } else {\n        setTempBookedSlotArr([]);\n      }\n    }\n    fetchEventSlots();\n    async function fetchUserStatus() {\n      const result = await Axios().post('bookevent/userslot', { event_id: ID });\n\n      setUserStatus(result.data.data);\n      setState({\n        name: 'Vennila',\n        email: 'vennila@gmail.com',\n      });\n    }\n    fetchUserStatus();\n  }, []);\n\n  useEffect(() => {\n    if (bookdetails && bookdetails.length > 0 && userStatus && userStatus.slots) {\n      let meeting_data = [];\n      const bookingDetails = bookdetails[0];\n      bookingDetails.meeting_data.map(function (meeting) {\n        let getD = userStatus.slots.filter((a) => a.meeting_id == meeting.meet_id);\n        if (getD && getD.length > 0) {\n          meeting.slotsDetail = getD[0];\n        } \n      });\n      bookingDetails.school_name = sc_bessi_name;\n\n      // bookingDetails.category\n      let cat_img = '/assets/images/school_images/parent.png';\n      if(bookingDetails.category == '157'){\n        cat_img = '/assets/images/school_images/event_blue.png';\n      } else if(bookingDetails.category == '158'){\n        cat_img = '/assets/images/school_images/event.png';\n      } else {\n        cat_img = '/assets/images/school_images/parent.png';\n      }\n      bookingDetails.cat_img = cat_img;\n      setDownloadThisData(bookingDetails);\n      console.log('bookingDetails---------', bookingDetails);\n    }\n\n    //const bookingDetails = ( bookdetails != null && bookdetails.length ) ? bookdetails[0]: null;\n    console.log('userStatus---------', userStatus);\n  }, [bookdetails, userStatus]);\n\n  useEffect(() => {\n    if (eventSlots && eventSlots.slots && eventSlots.slots.length > 0) {\n      let allCount = 0;\n      eventSlots.slots.map((slots, index) => {\n        if (slots.all_slots && slots.all_slots.length > 0) {\n          allCount = allCount + slots.all_slots.length;\n        }\n      });\n\n      let remainingBooked = allCount - tempBookedSlotArr.length;\n      setBookingStatus(tempBookedSlotArr.length + ' slots booked and ' + remainingBooked + ' slots available');\n    }\n  }, [tempBookedSlotArr]);\n\n  useEffect(() => {\n    if (isSlotBooked) {\n      // Get the existing slots\n      let existingSlots = { ...eventSlots };\n\n      // Update the specific slot\n      existingSlots.slots[meetingDetails.slotIndex].booked_slots.push(meetingDetails.meetingTime);\n\n      // Call the function to update state\n      setEventSlots(existingSlots);\n\n      // Set the flag to its initial value\n      setIsSlotBooked(false);\n    }\n\n    if (isSlotReleased) {\n      // Get the existing slots\n      let existingSlots = { ...eventSlots };\n\n      let elemIndex = existingSlots.slots[meetingDetails.slotIndex].booked_slots.indexOf(meetingDetails.meetingTime);\n\n      if (elemIndex) {\n        // Remove the specific slot\n        existingSlots.slots[meetingDetails.slotIndex].reserved_slots.splice(elemIndex, 1);\n      }\n\n      // Remove the specific slot\n      existingSlots.slots[meetingDetails.slotIndex].booked_slots.splice(elemIndex, 1);\n      // Call the function to update state\n      setEventSlots(existingSlots);\n\n      // Set the flag to its initial value\n      setIsSlotReleased(false);\n    }\n\n    if (isSlotReserved) {\n      // Get the existing slots\n      let existingSlots = { ...eventSlots };\n\n      // Update the specific slot\n      existingSlots.slots[meetingDetails.slotIndex].reserved_slots.push(meetingDetails.meetingTime);\n\n      // Call the function to update state\n      setEventSlots(existingSlots);\n\n      // Set the flag to its initial value\n      setIsSlotBooked(false);\n\n      setIsSlotReserved(false);\n    }\n  }, [isSlotBooked, isSlotReleased, isSlotReserved]);\n\n  if (bookdetails && bookdetails.length > 0 && bookdetails[0]) {\n    bookdetails[0].meeting_data.sort(function compare(a, b) {\n      var dateA = new Date(a.meeting_date);\n      var dateB = new Date(b.meeting_date);\n      return dateA - dateB;\n    });\n  }\n\n  const bookingDetails = bookdetails != null && bookdetails.length ? bookdetails[0] : null;\n\n  // From validation & hold the form values in state\n  const FormFields = { message: '' };\n  const [bookSlotFormValues, setBookSlotFormValues] = useState({ fullname: '', contact: '', notes: '' });\n  const [formValidation, setFormValidation] = useState(FormFields);\n\n  const handleSlotBookingChange = (event) => {\n    const formdata = { ...bookSlotFormValues };\n    const { name, value } = event.target;\n    const formvalidation = { ...formValidation };\n\n    if (name === 'fullname') {\n      formdata.message = value;\n      formvalidation.message = '';\n      setFormValidation(formvalidation);\n    }\n\n    let formValues = { ...bookSlotFormValues, [event.target.name]: event.target.value };\n    setBookSlotFormValues(formValues);\n  };\n\n  const validate = () => {\n    const formvalidation = { ...formValidation };\n    let isError = false;\n\n    if (!bookSlotFormValues.fullname) {\n      isError = true;\n      formvalidation.message = 'Please enter name';\n      setFormValidation(formvalidation);\n    }\n\n    return isError;\n  };\n\n  const handleSlotBooking = async () => {\n    if (validate()) return false;\n\n    await Axios()\n      .post('bookevent/bookeventslot', {\n        eventId: ID,\n        meetingId: meetingDetails.meetingId,\n        fullname: bookSlotFormValues.fullname,\n        contact: bookSlotFormValues.contact,\n        notes: bookSlotFormValues.notes,\n        slotTime: meetingDetails.meetingTime,\n        slotDuration: meetingDetails.slotDuration,\n      })\n      .then(() => {\n        // Close the modal\n        setOpen(false);\n        setIsSlotBooked(true);\n      });\n  };\n\n  const [releaseReason, setReleaseReason] = useState('');\n\n  const handleEventSlotRelease = async (slotId, time, event_id) => {\n    await Axios()\n      .post('bookevent/releaseeventslot', {\n        slotId: slotId,\n        time: time,\n        event_id: event_id,\n        reason: releaseReason,\n      })\n      .then(() => {\n        // Close the modal\n        setOpen2(false);\n\n        setIsSlotReleased(true);\n      });\n  };\n\n  const handleReserveSlot = async () => {\n    await Axios()\n      .post('bookevent/reserveeventslot', {\n        eventId: ID,\n        meetingId: meetingDetails.meetingId,\n        slotTime: meetingDetails.meetingTime,\n        slotDuration: meetingDetails.slotDuration,\n      })\n      .then(() => {\n        // Hide the btn menu\n        setAnchorEl(null);\n\n        setIsSlotReserved(true);\n      });\n  };\n\n  const [movieDetails, setDetails] = useState([]);\n  const [show, setHide] = useState(false);\n\n  const category = [\n    {\n      value: 'Parents Evening',\n      label: 'Parents Evening',\n    },\n    {\n      value: 'Event',\n      label: 'Event',\n    },\n    {\n      value: 'Appointment',\n      label: 'Appointment',\n    },\n  ];\n\n  return (\n    <>\n      <Grid className=\"main-wrap-head\" container style={{ marginBottom: 20 }} alignItems=\"center\">\n        <Grid item xs={5}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <TypoHeadStyled variant=\"h4\">\n              Manage <TypoHeadInnerStyled component=\"span\">Booking</TypoHeadInnerStyled>\n            </TypoHeadStyled>\n          </Box>\n        </Grid>\n      </Grid>\n\n      <Grid className=\"main-wrap-body mng-book-wrap\" container alignItems=\"stretch\">\n        <Grid className=\"mng-book-cont\" item xs={12} md={12}>\n          <Paper className={clsx(classes.paper, 'mng-book-inrCont')}>\n            <GridStyled container alignItems=\"center\">\n              <Grid xs={12}>\n                <BoxStyled alignItems=\"center\">\n                  <AvatarShareStyled\n                    alt=\"semy Sharp\"\n                    className=\"mr-0\"\n                    src={require('../../../assets/images/event_rymindr.png')}\n                  />\n                  <Typography noWrap>\n                    <Box fontWeight=\"fontWeightBold\" m={1}>\n                      {bookingDetails != null ? bookingDetails.category : null} |{' '}\n                      {bookingDetails != null ? bookingDetails.subject : null}\n                    </Box>\n                  </Typography>\n                </BoxStyled>\n              </Grid>\n            </GridStyled>\n            <ListStyled>\n              {bookingDetails != null\n                ? bookingDetails.meeting_data.map((booking, bookingIndex) => {\n                    var meeting_time_start = booking.meeting_time_start;\n                    var H = +meeting_time_start.substr(0, 2);\n                    var h = H % 12 || 12;\n                    var ampm = H < 12 ? 'AM' : 'PM';\n                    meeting_time_start = h + meeting_time_start.substr(2, 3) + ampm;\n\n                    var meeting_time_start1 = booking.meeting_time_start1;\n                    var H = +meeting_time_start1.substr(0, 2);\n                    var h = H % 12 || 12;\n                    var ampm = H < 12 ? 'AM' : 'PM';\n                    meeting_time_start1 = h + meeting_time_start1.substr(2, 3) + ampm;\n\n                    var meeting_time_end = booking.meeting_time_end;\n                    var H = +meeting_time_end.substr(0, 2);\n                    var h = H % 12 || 12;\n                    var ampm = H < 12 ? 'AM' : 'PM';\n                    meeting_time_end = h + meeting_time_end.substr(2, 3) + ampm;\n\n                    var meeting_time_end1 = booking.meeting_time_end1;\n                    var H = +meeting_time_end1.substr(0, 2);\n                    var h = H % 12 || 12;\n                    var ampm = H < 12 ? 'AM' : 'PM';\n                    meeting_time_end1 = h + meeting_time_end1.substr(2, 3) + ampm;\n\n                    return (\n                      <ListItem alignItems=\"flex-start\" key={bookingIndex}>\n                        <ListItemAvatar>\n                          <AvatarStyled\n                            alt=\"semy Sharp\"\n                            variant=\"square\"\n                            src={require('../../../assets/images/calendar_icon.png')}\n                          />\n                        </ListItemAvatar>\n                        <ListItemText\n                          primary={\n                            <Box display=\"flex\">\n                              <Box width=\"30%\">\n                                <TypoTitleStyled>Meeting Date</TypoTitleStyled>\n                                <TypoContentStyled>{booking.meeting_date}</TypoContentStyled>\n                              </Box>\n                              <Box width=\"17%\">\n                                <TypoTitleStyled>Start Time</TypoTitleStyled>\n                                <TypoContentStyled>{meeting_time_start}</TypoContentStyled>\n                              </Box>\n                              <Box width=\"17%\">\n                                <TypoTitleStyled>End Time</TypoTitleStyled>\n                                <TypoContentStyled>{meeting_time_end}</TypoContentStyled>\n                              </Box>\n                              <Box width=\"18%\">\n                                <TypoTitleStyled>Break Start Time</TypoTitleStyled>\n                                <TypoContentStyled>{meeting_time_start1}</TypoContentStyled>\n                              </Box>\n                              <Box width=\"18%\">\n                                <TypoTitleStyled>Break End Time</TypoTitleStyled>\n                                <TypoContentStyled>{meeting_time_end1}</TypoContentStyled>\n                              </Box>\n                            </Box>\n                          }\n                        />\n                      </ListItem>\n                    );\n                  })\n                : null}\n\n              <Divider variant=\"inset\" component=\"li\" />\n              <ListItem alignItems=\"flex-start\">\n                <ListItemAvatar>\n                  <AvatarStyled alt=\"semy Sharp\" variant=\"square\" src={require('../../../assets/images/email.png')} />\n                </ListItemAvatar>\n                <ListItemText\n                  primary={<TypoTitleStyled>Message</TypoTitleStyled>}\n                  secondary={\n                    <TypoContentStyled>\n                      {bookingDetails != null ? parse(bookingDetails.message) : null}\n                    </TypoContentStyled>\n                  }\n                />\n              </ListItem>\n              <Divider variant=\"inset\" component=\"li\" />\n\n              <ListItem alignItems=\"flex-start participants-sec\">\n                <ListItemAvatar />\n                <ListItemText\n                  secondary={\n                    <>\n                      <Box display=\"flex\" className=\"mt-20 participants-status\">\n                        <Box className=\"partic-status\" width=\"40%\">\n                          <TypoContentStyled>\n                            Status:{' '}\n                            <Box fontWeight=\"bold\" component=\"span\">\n                              {bookingStatus}\n                            </Box>\n                          </TypoContentStyled>\n                        </Box>\n                        <Box className=\"partic-deadline\" width=\"40%\">\n                          <TypoContentStyled>\n                            Deadline:{' '}\n                            <Box fontWeight=\"bold\" component=\"span\">\n                              {eventSlots != null ? eventSlots.remaining_days : null}{' '}\n                              {eventSlots.remaining_days === '1' ? 'day' : 'days'}\n                            </Box>\n                          </TypoContentStyled>\n                        </Box>\n                        <Box className=\"download-pdf\" width=\"20%\">\n                          {downloadThisData ? (\n                            <PDFDownloadLink\n                              document={<PdfDocument eventData={downloadThisData} />}\n                              fileName=\"event_data.pdf\"\n                              className=\"MuiButtonBase-root MuiButton-root MuiButton-contained btn-download MuiButton-containedPrimary MuiButton-containedSizeLarge MuiButton-sizeLarge\"\n                            >\n                              Download Pdf\n                            </PDFDownloadLink>\n                          ) : null}\n                          {/* <PDFDownloadLink\n                              document={<PdfDocument  eventData={bookingDetails} />}\n                              fileName=\"event_data.pdf\"\n                              className='MuiButtonBase-root MuiButton-root MuiButton-contained btn-download MuiButton-containedPrimary MuiButton-containedSizeLarge MuiButton-sizeLarge'\n                              >\n                              Download Pdf\n                            </PDFDownloadLink> */}\n                        </Box>\n                      </Box>\n\n                      <div className=\"main-head-ttl\">Participants List</div>\n                      <Grid container className=\"mt-30 participants-list\">\n                        {userStatus.hasOwnProperty('slots')\n                          ? userStatus.slots.map((slot, slotIndex) => {\n                              return (\n                                <Grid className=\"table-wrap\" item xs={4} key={slotIndex}>\n                                  <TypoContentStyled className=\"table-head\">\n                                    {slot.day} {slot.date}\n                                  </TypoContentStyled>\n                                  <Box className=\"table-wrap-blk\">\n                                    <table className=\"app-tblWrap\">\n                                      {slot.hasOwnProperty('all_slots')\n                                        ? slot.all_slots.map((meetingSlot, meetingSlotIndex) => (\n                                            <tbody>\n                                              <tr>\n                                                <td>{meetingSlotIndex + 1}</td>\n                                                <td>{meetingSlot.name !== '' ? meetingSlot.name : '--'}</td>\n                                                <td>{meetingSlot.time}</td>\n                                              </tr>\n                                            </tbody>\n                                          ))\n                                        : null}\n                                    </table>\n                                  </Box>\n                                </Grid>\n                              );\n                            })\n                          : null}\n                      </Grid>\n                    </>\n                  }\n                />\n              </ListItem>\n            </ListStyled>\n          </Paper>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loading: state.bookevent.loading,\n    error: state.bookevent.error,\n    bookdetails: state.booklist.bookdetails,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getBookListDetail: (data) => dispatch(getBookListDetail(data)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Bookings);\n"]},"metadata":{},"sourceType":"module"}