{"ast":null,"code":"var _jsxFileName = \"/var/www/html/RymindrAppNew/src/container/MessageCenter/DirectMessage/DirectMessage.js\";\nimport { Visibility, Replay, Send, AddCircle, Cancel, Headset, Videocam, Image, Description, Attachment } from '@material-ui/icons';\nimport { Box, Button, Checkbox, DialogContent, FormControlLabel, Grid, MenuItem, Paper, Switch, TextField, Typography, Radio, RadioGroup, Divider, FormControl, FormLabel, IconButton } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { Link, useHistory, match, location, useParams } from 'react-router-dom';\nimport { DatePicker, MuiPickersUtilsProvider, TimePicker } from '@material-ui/pickers';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { // createRymindr,\ngetBusinessUsers, // getCategories,\ngetGroups, // getSubCategories,\ninviteAndAddMobile } from '../../../store/actions/rymidr';\nimport { createMessageCenter, updateMessageCenter, getCategories, getRymindrList, searchRymindrList, getMessageDetailsById } from '../../../store/actions/messageCenterAction';\nimport { makeStyles, styled } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CircularSpinner from '../../../component/CircularSpinner/index'; // import ConfirmationDialogRaw from './Modal'\n\nimport DialogRaw from './Modal/Rymindrindex';\nimport MomentUtils from '@date-io/moment';\nimport PropTypes from 'prop-types'; // import Tabmenu from './Modal/Memberlist'\n\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { withSnackbar } from 'notistack';\nimport FileBase64 from 'react-file-base64';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport Editor from 'ckeditor5-custom-build/build/ckeditor';\nimport ckEditorConfig from '../../../helper/ckEditorConfig';\nimport ConfirmationDialogRaw from '../../Bookings/EventBooking/Modal';\nimport Tabmenu from '../../Bookings/EventBooking/Modal/Memberlist';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n    position: 'relative'\n  },\n  iconAttach: {\n    color: theme.palette.primary.dark,\n    background: theme.palette.primary.light,\n    height: 32,\n    width: 32,\n    borderRadius: 60,\n    padding: 5,\n    float: 'left',\n    marginTop: -5,\n    marginRight: '10px'\n  },\n  categoryIon: {\n    height: 32,\n    margin: -10,\n    marginLeft: 0,\n    marginRight: 5\n  },\n  fileName: {\n    maxWidth: 140,\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    overflow: 'hidden'\n  },\n  verticalClass: {\n    marginLeft: 10,\n    verticalAlign: 'middle'\n  }\n}));\nconst TypoHeadStyled = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 24,\n  color: theme.palette.primary.main,\n  textTransform: 'uppercase',\n  fontWeight: 'bold'\n}));\nconst TypoHeadInnerStyled = styled(TypoHeadStyled)(({\n  theme\n}) => ({\n  color: theme.palette.text.primary\n}));\nconst PaperStyled = styled(Paper)({\n  padding: '10px 15px'\n});\nconst SlideBoxStyled = styled(Box)(() => ({\n  textAlign: 'center',\n  display: 'inline-block',\n  padding: '10px 15px',\n  borderRadius: 10,\n  '& img': {\n    display: 'inline-block',\n    height: 75,\n    width: 75\n  }\n}));\nconst SlideType = styled(Typography)(({\n  theme\n}) => ({\n  color: theme.palette.text.primary,\n  fontSize: 16\n}));\nconst GridStyled = styled(Grid)(({\n  theme\n}) => ({\n  paddingLeft: '10rem',\n  paddingRight: '10rem',\n  [theme.breakpoints.down('md')]: {\n    paddingLeft: '8rem',\n    paddingRight: '8rem'\n  },\n  [theme.breakpoints.down('sm')]: {\n    paddingLeft: '2rem'\n  }\n}));\nconst Recurring = ['Daily', 'Weekly', 'Monthly', 'Yearly'];\nconst FormFields = {\n  subject: '',\n  message: '',\n  message_group: '',\n  category: '',\n  to_group: '',\n  to_member: ''\n};\nconst ButtonColor = styled(Button)(({\n  theme\n}) => ({\n  background: theme.palette.props.main,\n  color: theme.palette.props.contrastText\n}));\nconst TypoStyled = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 16,\n  color: theme.palette.text.primary,\n  marginTop: 10,\n  marginBottom: 20,\n  cursor: 'pointer',\n  marginRight: 30\n}));\n\nconst DirectMessage = props => {\n  const classes = useStyles();\n  const {\n    enqueueSnackbar,\n    error,\n    success_message,\n    categories,\n    subcategories,\n    // getSubCategories,\n    getGroups,\n    groups,\n    businessusers,\n    getBusinessUsers,\n    userRymindrList,\n    getRymindrList,\n    // createRymindr,\n    createMessageCenter,\n    updateMessageCenter,\n    inviteAndAddMobile,\n    matched_contact,\n    messageDetailsById,\n    loading\n  } = props;\n  const {\n    user_id,\n    business_code,\n    first_name,\n    last_name\n  } = JSON.parse(localStorage.getItem('userData'));\n  const [state, setState] = useState({\n    checkedB: true,\n    switch: false\n  });\n  const history = useHistory();\n  const date = new Date();\n  const [selectedDate, sethandleDateChange] = useState(new Date());\n  const [selectedTime, sethandleTimeChange] = useState(date.getTime() + 5 * 60000);\n  const [subcategory, setSubCategory] = useState(0);\n  const [checked, setChecked] = useState([]);\n  const [memberchecked, setMemberchecked] = useState([]);\n  const [group_members, setGroup_members] = useState([]);\n  const [loading1, setLoading1] = useState(true);\n  const [checkOnSelectAllMembers, setcheckOnSelectAllMembers] = useState(false);\n  const [checkOnSelectAllGroup, setcheckOnSelectAllGroup] = useState(false);\n  const [groupname_membersname, setGroupname_membersname] = useState([]);\n  const [formvalue, setFormvalue] = useState(FormFields);\n  const [formValidation, setFormValidation] = useState(FormFields);\n  const [open, setOpen] = useState(false);\n  const [timeErr, setTimeErr] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState([]);\n  const [subject, setSubject] = useState('');\n  const [message, setMessage] = useState('');\n  const [files, setFiles] = useState([]);\n  const [openRymindr, setOpenRymindr] = useState(false);\n  const [rymindrCount, setRymindrCount] = useState('');\n  const [rymindrLink, setRymindrLink] = useState([]);\n  const [rymindrId, setRymindrId] = useState([]);\n  const [messageDetailById, setMessageDetailById] = useState(messageDetailsById);\n  const [deleteFiles, setDeleteFiles] = useState([]);\n  const [Contacts, setContacts] = useState([]);\n  let {\n    ID,\n    member_id,\n    group_id,\n    get_name\n  } = useParams();\n\n  const handleToopenRymindr = () => {\n    setOpenRymindr(true);\n  };\n\n  const updateRymindrCount = c => {\n    // alert(c);\n    // setFormvalue({ ...formvalue, ['linkRymindr']: setRymindrCount })\n    setRymindrCount(c);\n  };\n\n  const updateRymindrLink = c_id => {\n    setFormvalue({ ...formvalue,\n      linkRymindr: c_id\n    });\n    setRymindrLink(c_id);\n  };\n\n  const handleCloseRymindr = newValue => {\n    // alert('main'+newValue);\n    setOpenRymindr(newValue);\n  };\n\n  const handleChange = e => {\n    const formdata = { ...formvalue\n    };\n    const formvalidation = { ...formValidation\n    };\n    const value = e.target.value;\n    const name = e.target.name;\n\n    if (name === 'rymindr_type') {\n      const found = subcategories.find(element => element.id === value);\n      formdata.rymindr_type = found.category_name;\n      formdata.subcategory_id = value;\n      formvalidation.subcategory_id = '';\n      setFormValidation(formvalidation);\n    } else {\n      formdata[name] = value;\n    }\n\n    setFormvalue(formdata);\n  };\n\n  const handleDateChange = e => {\n    const date = new Date(e);\n    const selecteddate = moment(date).format('YYYY-MM-DD');\n    sethandleDateChange(selecteddate);\n    setFormvalue({ ...formvalue,\n      rymindr_date: selecteddate\n    });\n  };\n\n  const handleTimeChange = e => {\n    const date = new Date(e);\n    const selectedtime = moment(date).format('HH:mm');\n    var now = moment(new Date().getTime() + 5 * 60000).format('HH:mm');\n\n    if (now.toString() > selectedtime.toString()) {\n      setTimeErr('You can not choose a time before the current time.');\n    } else {\n      setTimeErr('');\n    }\n\n    sethandleTimeChange(new Date(e));\n    setFormvalue({ ...formvalue,\n      rymindr_time: selectedtime\n    });\n  };\n\n  const handleChangeCheck = event => {\n    setState({ ...state,\n      [event.target.name]: event.target.checked\n    });\n    setFormvalue({ ...formvalue,\n      [event.target.name]: event.target.checked\n    });\n  };\n\n  const handleSwitchChange = event => {\n    // alert('swicth',event.target.checked);\n    setState({ ...state,\n      [event.target.name]: event.target.checked\n    });\n    setFormvalue({ ...formvalue,\n      switch: !state.switch\n    });\n\n    if (event.target.checked == true) {\n      handleToopenRymindr();\n    }\n  };\n\n  const handleGroupToggle = value => {\n    setcheckOnSelectAllGroup(false);\n    const groupMembers = value.group_member_list;\n    console.log('checked=====', checked);\n    const currentIndex = checked.indexOf(value.group_id);\n    const newChecked = [...checked];\n    const selectedmember = [...group_members];\n\n    if (currentIndex === -1) {\n      newChecked.push(value.group_id);\n      groupMembers.forEach(element => {\n        selectedmember.push(element.user_id);\n      });\n    } else {\n      newChecked.splice(currentIndex, 1);\n      groupMembers.forEach(element => {\n        const remomeitem = selectedmember.indexOf(element.user_id);\n        selectedmember.splice(remomeitem, 1);\n      });\n    }\n\n    console.log('newChecked=====', newChecked);\n    setChecked(newChecked);\n    setGroup_members(selectedmember);\n    setFormvalue({ ...formvalue,\n      message_group: selectedmember\n    });\n  };\n\n  const handleMemberToggle = value => {\n    const currentIndex = memberchecked.indexOf(value.user_id);\n    const newChecked = [...memberchecked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value.user_id);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    } // alert('newChecked'+newChecked);\n\n\n    setMemberchecked(newChecked);\n    setFormvalue({ ...formvalue,\n      message_group: newChecked\n    }); // SELECT ALL\n\n    const groupname = [];\n    const membername = [];\n\n    if (value == 0) {\n      businessusers.forEach(element => {\n        membername.push(`${element.first_name} ${element.last_name}`);\n        newChecked.push(element.user_id);\n      });\n      setcheckOnSelectAllMembers(true);\n      setMemberchecked(newChecked);\n    } else if (value == 1) {\n      groups.forEach(element => {\n        groupname.push(element.group_name);\n        newChecked.push(element.group_id);\n      });\n      setcheckOnSelectAllGroup(true);\n      setChecked(newChecked);\n    } else if (value == 3) {\n      setcheckOnSelectAllMembers(false);\n      setMemberchecked([]);\n    } else if (value == 4) {\n      setcheckOnSelectAllGroup(false);\n      setChecked([]);\n    } else {\n      setcheckOnSelectAllMembers(false);\n    } //SELECT ALL\n\n  };\n\n  const handleAllMembersToggle = value => {\n    const newChecked = [...value];\n    const formvalidation = { ...formValidation\n    };\n    setFormvalue({ ...formvalue,\n      message_group: newChecked // to_member: '@'\n\n    });\n    formvalidation.to_member = '';\n    setFormValidation(formvalidation);\n    setMemberchecked(newChecked);\n  };\n\n  const handleAllGroupMembersToggle = value => {\n    const newChecked = [...value];\n    const selectedmember = [...newChecked];\n    const formvalidation = { ...formValidation\n    };\n    formvalidation.eventForm_to = '';\n    setFormValidation(formvalidation);\n    setFormvalue({ ...formvalue,\n      message_group: selectedmember // eventForm_to: '@'\n\n    });\n    setChecked(newChecked);\n    setGroup_members(selectedmember);\n  };\n\n  let currentPathname = history.location.pathname;\n  currentPathname = currentPathname.split('/');\n  const message_center_id = currentPathname[2] ? currentPathname[2] : '';\n  useEffect(() => {\n    if (businessusers.length > 0) {\n      setContacts(businessusers);\n      setLoading1(false);\n    }\n  }, [businessusers]);\n  useEffect(() => {\n    // if (message_center_id && group_id != 0 && member_id != 0) {\n    if (message_center_id && group_id == undefined && member_id == undefined) {\n      const data = props.getMessageDetailsById({\n        user_id,\n        message_center_id\n      });\n      setMessageDetailById(messageDetailsById);\n    }\n\n    const dataToSend = {\n      user_id // category_id: ''\n\n    };\n    props.getcategories(dataToSend);\n    getGroups({\n      user_id\n    });\n    const SendToBusiness = {\n      user_id,\n      business_code\n    };\n    getBusinessUsers(SendToBusiness);\n    getRymindrList({\n      user_id\n    });\n  }, []);\n  useEffect(() => {\n    // if (message_center_id && group_id == 0 && member_id == 0) {\n    if (message_center_id && group_id == undefined && member_id == undefined) {\n      setMessageDetailById(messageDetailsById);\n      const formdata = { ...formvalue\n      };\n      const string_array = messageDetailsById.rymindr_array;\n\n      if (string_array && userRymindrList) {\n        const number_array = string_array.map(el => parseInt(el));\n        const rymindr_main_array = [];\n\n        for (let i = 0; i < number_array.length; i++) {\n          const isNumber = element => element.id == number_array[i];\n\n          const get_rymindr_index = userRymindrList.findIndex(isNumber);\n          rymindr_main_array.push({\n            key: get_rymindr_index,\n            id: number_array[i]\n          });\n        }\n\n        setRymindrId(rymindr_main_array);\n        formdata.linkRymindr = rymindr_main_array;\n        setFormvalue(formdata);\n      }\n\n      formdata.message_center_id = message_center_id;\n      setFormvalue(formdata);\n      console.warn('testing messageDetailsById', messageDetailsById);\n      setState({\n        switch: messageDetailsById.linked_to_rymindr != 0\n      });\n      formdata.switch = messageDetailsById.linked_to_rymindr != 0; // formdata.linkRymindr = rymindr_main_array ;\n\n      setFormvalue(formdata);\n      setMessage(messageDetailsById.message);\n      formdata.message = messageDetailsById.message;\n      setFormvalue(formdata);\n      setSubject(messageDetailsById.subject);\n      formdata.subject = messageDetailsById.subject;\n      setFormvalue(formdata);\n      setCurrency(messageDetailsById.category);\n      formdata.category = messageDetailsById.category;\n      setFormvalue(formdata);\n\n      if (messageDetailsById.group_array || messageDetailsById.member_array) {\n        if (messageDetailsById.group_array.length > 0) {\n          let arr = messageDetailsById.group_array.map(item => parseInt(item));\n          setChecked(arr);\n        } else {\n          setChecked([]);\n        }\n\n        setMemberchecked(messageDetailsById.member_array);\n        formdata.message_group = messageDetailsById.to_member ? messageDetailsById.to_member : messageDetailsById.to_group;\n        formdata.to_member = messageDetailsById.to_member;\n        formdata.to_group = messageDetailsById.to_group;\n        setFormvalue(formdata);\n        handleClose(false);\n      }\n\n      if (messageDetailsById.rymindr) {\n        const rymdrCount = messageDetailsById.rymindr.split(',').length;\n        setRymindrCount(rymdrCount);\n      } else {\n        setRymindrCount(0);\n      }\n\n      setRymindrLink(messageDetailsById.linked_to_rymindr);\n      const file_main_array = [];\n\n      if (messageDetailsById.attachment) {\n        // messageDetailsById.attachment.map((file_arr, file_index) => {\n        //   file_main_array.push(JSON.parse(file_arr.attachment_object));\n        // });\n        // console.log('messageDetailsById.attachment123=',messageDetailsById.attachment);\n        setFiles(messageDetailsById.attachment);\n      }\n    }\n  }, [messageDetailsById, userRymindrList]);\n\n  const handleClose = newValue => {\n    setOpen(newValue);\n    const membername = [];\n    const groupname = [];\n    groups.forEach(element => {\n      const checkvalue = checked.indexOf(element.group_id);\n\n      if (checkvalue !== -1) {\n        groupname.push(element.group_name);\n      }\n    });\n\n    if (businessusers.length > 0) {\n      businessusers.forEach(element => {\n        const checkvalue = memberchecked.indexOf(element.user_id);\n\n        if (checkvalue !== -1) {\n          membername.push(`${element.first_name} ${element.last_name}`);\n        }\n      });\n    }\n\n    setGroupname_membersname(groupname.concat(membername));\n    const dataToSend = {\n      mobile_no: phoneNumber.join()\n    };\n\n    if (phoneNumber.length > 0) {\n      inviteAndAddMobile(dataToSend);\n    }\n\n    if (newValue) {// setValue(newValue);\n    }\n  };\n\n  const validate = () => {\n    const formvalidation = { ...formValidation\n    }; // alert('subject'+formvalue.subject);\n\n    let isError = false;\n\n    if (!formvalue.subject) {\n      isError = true;\n      formvalidation.subject = 'Please input Subject!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.subject = '';\n      setFormValidation(formvalidation);\n    }\n\n    console.log('formvalue.category=========', formvalue.category);\n\n    if (!formvalue.category) {\n      isError = true;\n      formvalidation.category = 'Please select a Category!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.category = '';\n      setFormValidation(formvalidation);\n    }\n\n    if (!formvalue.message) {\n      isError = true;\n      formvalidation.message = 'Please input Message!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.message = '';\n      setFormValidation(formvalidation);\n    }\n\n    const value = formvalue.message_group;\n\n    if (value == '' || value == [] || value == undefined) {\n      isError = true;\n      formvalidation.message_group = 'Please select Contacts!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.message_group = '';\n      setFormValidation(formvalidation);\n    }\n\n    return isError;\n  };\n\n  const handleToTagvalue = value => {\n    setPhoneNumber(value);\n  };\n\n  const handleToSubmit = () => {\n    console.log('memberchecked22222', memberchecked);\n    console.warn('matched_contact44444', group_members);\n    console.warn('checked12121212', checked); // console.log('files====',files);\n    // return false;\n\n    if (validate()) return false;\n    const FormFields11 = { ...formvalue\n    };\n    FormFields11.rymindr_to_group = checked.join();\n    FormFields11.to_group = checked.join();\n    FormFields11.rymindr_group_members_to = [...new Set(group_members)].join();\n    FormFields11.user_id = user_id;\n    FormFields11.user_name = first_name;\n    FormFields11.category = currency;\n    FormFields11.rymindr_to = matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join();\n    FormFields11.to_member = matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join();\n    const sendAttachment = files;\n    const deleteAttachment = deleteFiles;\n    const unmatch = matched_contact ? matched_contact.mobile_no : '';\n\n    if (message_center_id && group_id == undefined && member_id == undefined) {\n      updateMessageCenter(FormFields11, unmatch, history, sendAttachment, deleteAttachment);\n    } else {\n      createMessageCenter(FormFields11, unmatch, history, sendAttachment);\n    }\n  }; // useMemo(() => {\n  //   success_message && enqueueSnackbar(success_message, { variant: 'success' })\n  // }, [success_message])\n\n\n  useMemo(() => {\n    error && enqueueSnackbar(error, {\n      variant: 'error'\n    });\n  }, [error]);\n\n  const handleToopen = () => {\n    setOpen(true);\n  };\n\n  const getBase64 = (file, cb) => {\n    //, cb\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = function () {\n      cb(reader.result); // console.log('cccccc', reader.result);\n    };\n\n    reader.onerror = function (error) {\n      console.log('Error: ', error);\n    };\n  };\n\n  const getFiles = e => {\n    const fileObj = [];\n    const fileArray = []; // alert('fileee-target'+ e.target.files);\n\n    fileObj.push(e.target.files);\n\n    for (let i = 0; i < fileObj[0].length; i++) {\n      if (files.length > 0) {\n        getBase64(fileObj[0][i], result => {\n          const fileInfo = {\n            name: fileObj[0][i].name,\n            type: fileObj[0][i].type,\n            size: Math.round(fileObj[0][i].size / 1000) + ' kB',\n            base64: fileObj[0][i].type == 'video/mp4' ? result.replace('data:video/mp4;base64,', '') : result,\n            file: fileObj[0][i]\n          };\n          files.push(fileInfo); // files.push({'base64': result, 'name': fileObj[0][i].name})\n\n          setFiles([...files]);\n        });\n      } else {\n        getBase64(fileObj[0][i], result => {\n          // idCardBase64 = result;\n          // Make a fileInfo Object\n          const fileInfo = {\n            name: fileObj[0][i].name,\n            type: fileObj[0][i].type,\n            size: Math.round(fileObj[0][i].size / 1000) + ' kB',\n            base64: fileObj[0][i].type == 'video/mp4' ? result.replace('data:video/mp4;base64,', '') : result,\n            file: fileObj[0][i]\n          };\n          fileArray.push(fileInfo);\n          setFiles([...fileArray]);\n        });\n      }\n    }\n  };\n\n  const getFiles11 = files => {\n    // files.map((file, index) => {\n    // var extn = file.name.split('.')\n    var etn = ['docx', 'doc', 'pdf', 'jpg', 'jpeg', 'png', 'mp4', 'mp3']; // var low = extn[1].toLowerCase()\n    // if (etn.includes(low)) {\n\n    setFiles(files); // } else {\n    // error\n    // }\n    // })\n  };\n\n  const deleteImage = (index, file) => {\n    if (file && file.attachment_object) {\n      let deleteThat = files.filter(a => a.attachment_object == file.attachment_object);\n      setDeleteFiles([...deleteFiles, ...deleteThat]);\n      var removeIndex = files.map(function (item) {\n        return item.attachment_object;\n      }).indexOf(file.attachment_object);\n      files.splice(removeIndex, 1);\n    } else if (file && file.name) {\n      var removeIndex = files.map(function (item) {\n        return item.name;\n      }).indexOf(file.name);\n      files.splice(removeIndex, 1);\n    }\n\n    if (files.length == 0) {\n      setFiles([]);\n    } else {\n      setFiles([...files]);\n    }\n  };\n\n  const deleteImage2 = (index, file) => {// if (file && file.attachment_object) {\n    //   var removeIndex = files\n    //     .map(function (item) {\n    //       return item.attachment_object;\n    //     })\n    //     .indexOf(file.attachment_object);\n    //   files.splice(removeIndex, 1);\n    // } else if (file && file.name) {\n    //   var removeIndex = files\n    //     .map(function (item) {\n    //       return item.name;\n    //     })\n    //     .indexOf(file.name);\n    //   files.splice(removeIndex, 1);\n    // }\n    // if (files.length == 0) {\n    //   setFiles([]);\n    // } else {\n    //   setFiles([...files]);\n    //   console.log('files===', files);\n    // }\n  };\n\n  const category = [{\n    value: 'USD',\n    label: '$'\n  }, {\n    value: 'EUR',\n    label: 'Parents Evening'\n  }];\n  const [currency, setCurrency] = React.useState('');\n\n  const handleCategoryChange = event => {\n    setCurrency(event.target.value);\n    setFormvalue({ ...formvalue,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleMessage = event => {\n    setFormvalue({ ...formvalue,\n      [event.target.name]: event.target.value\n    });\n    setMessage(event.target.value);\n  };\n\n  const handleSubject = event => {\n    setSubject(event.target.value);\n    setFormvalue({ ...formvalue,\n      [event.target.name]: event.target.value.trim()\n    });\n  }; // If member or group is selected via parameter.\n\n\n  useMemo(() => {\n    if (!ID) {\n      const newChecked = [...checked];\n\n      if (member_id != 0 || group_id != 0) {\n        const groupname = [];\n        const membername = [];\n\n        if (group_id != '0') {\n          if (groups.length > 0) {\n            groups.forEach(element => {\n              if (element.group_id == group_id) {\n                groupname.push(element.group_name);\n              }\n            });\n          } else {\n            groupname.push(get_name);\n          } // if(newChecked.indexOf(group_id) > -1 ){\n          //   newChecked.push(group_id)\n          // }\n\n\n          if (group_id) {\n            newChecked.push(group_id);\n          }\n\n          setChecked(newChecked);\n          setFormvalue({ ...formvalue,\n            message_group: group_id\n          });\n        } else if (member_id != '0') {\n          if (businessusers.length > 0) {\n            businessusers.forEach(element => {\n              if (element.user_id == member_id) {\n                membername.push(`${element.first_name} ${element.last_name}`);\n              }\n            });\n          } else {\n            membername.push(get_name);\n          }\n\n          newChecked.push(member_id);\n          setMemberchecked(newChecked);\n          setFormvalue({ ...formvalue,\n            message_group: member_id\n          });\n        }\n\n        setGroupname_membersname(groupname.concat(membername));\n      }\n\n      if (member_id == undefined && group_id == undefined) {\n        const membername = [];\n        const members = [];\n        setMemberchecked(members);\n        setGroupname_membersname(membername);\n      }\n    }\n  }, [groups, businessusers]);\n\n  const resetForm = () => {\n    setCurrency('');\n    setGroupname_membersname('');\n    setFormvalue(FormFields);\n    setFormValidation(FormFields);\n    setOpen(false);\n    setTimeErr('');\n    setPhoneNumber([]);\n    setFiles([]);\n    setSubject('');\n    setMessage('');\n    setRymindrCount('');\n    setRymindrId([]);\n    setcheckOnSelectAllMembers(false);\n    setcheckOnSelectAllGroup(false);\n    setMemberchecked([]);\n    setChecked([]);\n  };\n\n  const rymindr_text = 'Rymindr linked';\n  console.log('rymindrId--', rymindrId);\n  console.log('Contacts-', Contacts);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n    utils: MomentUtils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 862,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogRaw, {\n    getSelectedRymindr: rymindrId,\n    open: openRymindr,\n    onClose: handleCloseRymindr,\n    getRymindrListData: userRymindrList,\n    onRymindrUpdate: updateRymindrCount,\n    onRymindrUpdateLink: updateRymindrLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 863,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ConfirmationDialogRaw, {\n    open: open,\n    onClose: handleClose,\n    groupdata: groups,\n    memberdata: businessusers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 885,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tabmenu, {\n    groupdata: groups,\n    memberdata: businessusers,\n    handleToggles: handleGroupToggle,\n    checked: checked,\n    handleMemberToggle: handleMemberToggle,\n    handleAllMembersToggle: handleAllMembersToggle,\n    handleAllGroupMembersToggle: handleAllGroupMembersToggle,\n    memberchecked: memberchecked,\n    handleToTagvalue: handleToTagvalue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 886,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    className: \"main-wrap-head\",\n    container: true,\n    style: {\n      marginBottom: 20\n    },\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 898,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 899,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TypoHeadStyled, {\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 900,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ArrowBackIcon, {\n    onClick: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 901,\n      columnNumber: 15\n    }\n  }), \" Direct\", ' ', /*#__PURE__*/React.createElement(TypoHeadInnerStyled, {\n    component: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 902,\n      columnNumber: 15\n    }\n  }, \"message\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 905,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 906,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    startIcon: /*#__PURE__*/React.createElement(Replay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 907,\n        columnNumber: 83\n      }\n    }),\n    onClick: resetForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 907,\n      columnNumber: 15\n    }\n  }, \"Reset\")))), /*#__PURE__*/React.createElement(PaperStyled, {\n    className: \"main-wrap-body create-msg-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 913,\n      columnNumber: 9\n    }\n  }, Contacts.length > 0 ? /*#__PURE__*/React.createElement(GridStyled, {\n    container: true,\n    className: \"article-content\",\n    spacing: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 915,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 916,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Autocomplete, {\n    multiple: true,\n    limitTags: 1,\n    id: \"tags-filled\",\n    filterSelectedOptions: false,\n    options: [],\n    freeSolo: true,\n    onChange: (event, newValue) => {\n      const newVal = newValue.toString();\n      const getArray = newVal.split(',');\n      const user_id_arr = [];\n      const group_id_arr = [];\n\n      for (let i = 0; i < getArray.length; i++) {\n        const getNewList = businessusers.find(ele => ele.first_name + ' ' + ele.last_name == getArray[i]);\n\n        if (getNewList) {\n          user_id_arr.push(getNewList.user_id);\n        } else {\n          // FOR GROUPS\n          const getNewGroupList = groups.find(ele => ele.group_name == getArray[i]);\n\n          if (getNewGroupList) {\n            group_id_arr.push(getNewGroupList.group_id);\n          }\n        }\n      }\n\n      setGroup_members(group_id_arr);\n      setGroupname_membersname(newValue);\n      const formdata = { ...formvalue\n      };\n      setChecked(group_id_arr);\n      setMemberchecked(user_id_arr);\n      formdata.message_group = user_id_arr.join() ? user_id_arr.join() : group_id_arr.join();\n      formdata.to_member = user_id_arr.join();\n      formdata.to_group = group_id_arr.join();\n      setFormvalue(formdata);\n    },\n    value: groupname_membersname,\n    renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      placeholder: \"Type Number and Enter to Add\",\n      variant: \"outlined\",\n      margin: \"normal\",\n      label: \"To\",\n      onChange: handleToopen,\n      onClick: handleToopen,\n      error: !!formValidation.message_group,\n      helperText: formValidation.message_group,\n      name: \"message_group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 956,\n        columnNumber: 19\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 917,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 971,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Subject\",\n    fullWidth: true,\n    variant: \"outlined\",\n    value: subject,\n    onClick: handleSubject,\n    onChange: handleSubject,\n    error: !!formValidation.subject,\n    helperText: formValidation.subject,\n    name: \"subject\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 972,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 984,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    select: true,\n    label: \"Category\",\n    value: currency,\n    fullWidth: true,\n    onChange: handleCategoryChange,\n    error: !!formValidation.category,\n    helperText: formValidation.category,\n    variant: \"outlined\",\n    name: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 985,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    key: \"\",\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 996,\n      columnNumber: 17\n    }\n  }, \"Select\"), categories.map(option => /*#__PURE__*/React.createElement(MenuItem, {\n    key: option.id,\n    value: option.category_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1000,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: option.category_image,\n    className: classes.categoryIon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1001,\n      columnNumber: 21\n    }\n  }), \" \", option.category_name)))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1006,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CKEditor, {\n    config: ckEditorConfig,\n    editor: Editor,\n    data: message,\n    name: \"message\",\n    onReady: editor => {\n      console.log('Editor is ready to use!', editor);\n    },\n    onChange: (event, editor) => {\n      const data = editor.getData();\n      setFormvalue({ ...formvalue,\n        message: data\n      });\n      setMessage(data);\n    },\n    onBlur: (event, editor) => {\n      console.log('Blur.', editor);\n    },\n    onFocus: (event, editor) => {\n      console.log('Focus.', editor);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1007,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red',\n      marginLeft: '1rem',\n      fontSize: '12px',\n      marginTop: '4px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1027,\n      columnNumber: 15\n    }\n  }, formValidation.message)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1040,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1041,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    style: {\n      marginTop: 8\n    },\n    control: /*#__PURE__*/React.createElement(Switch, {\n      checked: state.switch,\n      onChange: handleSwitchChange,\n      name: \"switch\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1045,\n        columnNumber: 21\n      }\n    }),\n    label: \"Link\\xA0Rymindr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1042,\n      columnNumber: 17\n    }\n  }), state.switch && /*#__PURE__*/React.createElement(TextField, {\n    label: \"Rymindr\",\n    fullWidth: true,\n    variant: \"outlined\",\n    onChange: handleToopenRymindr,\n    onClick: handleToopenRymindr,\n    value: rymindrCount ? `${rymindrCount} ${rymindr_text}` : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1051,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1063,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    className: \"attach-files\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1064,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    className: \"attachement\",\n    control: /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      multiple: true,\n      onChange: getFiles,\n      onClick: e => e.target.value = null,\n      className: \"displayNone\",\n      style: {\n        display: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1084,\n        columnNumber: 21\n      }\n    }),\n    label: /*#__PURE__*/React.createElement(Typography, {\n      variant: \"subtitle1\",\n      component: \"p\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1094,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Attachment, {\n      style: {\n        marginBottom: -6,\n        marginRight: 15\n      },\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1095,\n        columnNumber: 23\n      }\n    }), \" Attachment\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1081,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    alignItems: \"center\",\n    display: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1100,\n      columnNumber: 15\n    }\n  }, // files && files.map((file, index) => {\n  //   const extension_arr = file && file.name ? file.name.split('.') : file.split('.')\n  //   const extension = extension_arr[1]\n  //   if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         {/* <img src={file.base64} width='32' height='32' className={classes.iconAttach} /> <Box className={classes.fileName}>{file.name}</Box> <CancelIcon onClick={() => deleteImage(index, file)} /> */}\n  //         <img src={file.base64} className={classes.iconAttach} /> {file.name}<CancelIcon onClick={() => deleteImage(index, file)} className={classes.verticalClass} />\n  //       </TypoStyled>\n  //     )\n  //   } else if (extension == 'mp3') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Headset className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass} onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   } else if (extension == 'mp4') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Videocam className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass} onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass}  onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   } else if (extension == 'mp4') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Videocam className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   } else if (extension == 'doc' || extension == 'docx') {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   }  else {\n  //     return (\n  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n  //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n  //       </TypoStyled>\n  //     )\n  //   }\n  // })\n  files && files.map((file, index) => {\n    if (file.attachment_object != undefined) {\n      const extension_arr = file.attachment_object.split('.');\n      const extension = extension_arr[1];\n\n      if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1160,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: file.file_name,\n          width: \"32\",\n          height: \"32\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1161,\n            columnNumber: 31\n          }\n        }), ' ', /*#__PURE__*/React.createElement(Box, {\n          className: classes.fileName,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 31\n          }\n        }, file.attachment_object), ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1163,\n            columnNumber: 31\n          }\n        }));\n      } else if (extension == 'mp3') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1168,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Headset, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1169,\n            columnNumber: 31\n          }\n        }), \" \", file.attachment_object, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1170,\n            columnNumber: 31\n          }\n        }));\n      } else if (extension == 'mp4') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1175,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Videocam, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1176,\n            columnNumber: 31\n          }\n        }), \" \", file.attachment_object, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1177,\n            columnNumber: 31\n          }\n        }));\n      } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1182,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Description, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1183,\n            columnNumber: 31\n          }\n        }), \" \", file.attachment_object, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1184,\n            columnNumber: 31\n          }\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1189,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Description, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1190,\n            columnNumber: 31\n          }\n        }), \" \", file.attachment_object, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1191,\n            columnNumber: 31\n          }\n        }));\n      }\n    } else {\n      const extension_arr = file.name.split('.');\n      const extension = extension_arr[1];\n\n      if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n        return (\n          /*#__PURE__*/\n          // <TypoStyled variant='subtitle1' component='p' key={index}>\n          //   <img src={file.base64} width='32' height='32' className={classes.iconAttach} /> <Box className={classes.fileName}>{file.name}</Box> <CancelIcon onClick={() => deleteImage(index, file)} />\n          // </TypoStyled>\n          React.createElement(TypoStyled, {\n            variant: \"subtitle1\",\n            component: \"p\",\n            key: index,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1204,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: file.base64,\n            className: classes.iconAttach,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1205,\n              columnNumber: 31\n            }\n          }), \" \", file.name, /*#__PURE__*/React.createElement(CancelIcon, {\n            onClick: () => deleteImage(index, file),\n            className: classes.verticalClass,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 1206,\n              columnNumber: 31\n            }\n          }))\n        );\n      } else if (extension == 'mp3') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1211,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Headset, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 31\n          }\n        }), \" \", file.name, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1213,\n            columnNumber: 31\n          }\n        }));\n      } else if (extension == 'mp4') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1218,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Videocam, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1219,\n            columnNumber: 31\n          }\n        }), \" \", file.name, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1220,\n            columnNumber: 31\n          }\n        }));\n      } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1225,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Description, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1226,\n            columnNumber: 31\n          }\n        }), \" \", file.name, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1227,\n            columnNumber: 31\n          }\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(TypoStyled, {\n          variant: \"subtitle1\",\n          component: \"p\",\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1232,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Description, {\n          className: classes.iconAttach,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1233,\n            columnNumber: 31\n          }\n        }), \" \", file.name, ' ', /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: () => deleteImage(index, file),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1234,\n            columnNumber: 31\n          }\n        }));\n      }\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1261,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1262,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    size: \"large\",\n    className: \"width180\",\n    startIcon: /*#__PURE__*/React.createElement(Cancel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1270,\n        columnNumber: 30\n      }\n    }),\n    onClick: () => history.goBack(),\n    style: {\n      marginRight: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1266,\n      columnNumber: 17\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    className: \"width180\",\n    startIcon: /*#__PURE__*/React.createElement(Send, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1281,\n        columnNumber: 30\n      }\n    }),\n    onClick: handleToSubmit,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1276,\n      columnNumber: 17\n    }\n  }, loading && /*#__PURE__*/React.createElement(CircularSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1285,\n      columnNumber: 31\n    }\n  }), \"Send Now1\")))) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '16rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1292,\n      columnNumber: 9\n    }\n  }, loading1 ? /*#__PURE__*/React.createElement(CircularSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1294,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DialogContent, {\n    style: {\n      margin: '2rem 6rem 2rem 6rem',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1297,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    style: {\n      letterSpacing: '0.4px',\n      paddingLeft: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1298,\n      columnNumber: 13\n    }\n  }, \"You'll need to have at least 1 contact to enable this feature.\")), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"center\",\n    style: {\n      marginBottom: '5rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1302,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    onClick: () => {\n      history.push('/contacts');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1303,\n      columnNumber: 13\n    }\n  }, \"Add Contacts\")))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.rymidr.loading,\n    error: state.rymidr.error,\n    success_message: state.messageCenterReducer.success_message,\n    categories: state.messageCenterReducer.categories,\n    userRymindrList: state.messageCenterReducer.userRymindrList,\n    // categories: state.rymidr.categories,\n    // subcategories: state.rymidr.subcategories,\n    groups: state.rymidr.groups,\n    businessusers: state.rymidr.businessusers,\n    matched_contact: state.rymidr.matched_contact,\n    messageDetailsById: state.messageCenterReducer.messageDetailById\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getcategories: data => dispatch(getCategories(data)),\n    // getSubCategories: (data) => dispatch(getSubCategories(data)),\n    getGroups: data => dispatch(getGroups(data)),\n    getBusinessUsers: data => dispatch(getBusinessUsers(data)),\n    getRymindrList: data => dispatch(getRymindrList(data)),\n    createMessageCenter: (data, unmatch, history, sendAttachment) => dispatch(createMessageCenter(data, unmatch, history, sendAttachment)),\n    updateMessageCenter: (data, unmatch, history, sendAttachment, deleteAttachment) => dispatch(updateMessageCenter(data, unmatch, history, sendAttachment, deleteAttachment)),\n    inviteAndAddMobile: data => dispatch(inviteAndAddMobile(data)),\n    getMessageDetailsById: data => dispatch(getMessageDetailsById(data))\n  };\n};\n\nDirectMessage.propTypes = {\n  enqueueSnackbar: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  getcategories: PropTypes.func.isRequired,\n  getMessageDetailsById: PropTypes.func.isRequired,\n  error: PropTypes.string.isRequired,\n  success_message: PropTypes.any.isRequired,\n  categories: PropTypes.array.isRequired,\n  subcategories: PropTypes.array.isRequired,\n  getSubCategories: PropTypes.func.isRequired,\n  getGroups: PropTypes.func.isRequired,\n  groups: PropTypes.array.isRequired,\n  businessusers: PropTypes.array.isRequired,\n  getBusinessUsers: PropTypes.func.isRequired,\n  userRymindrList: PropTypes.array.isRequired,\n  getRymindrList: PropTypes.func.isRequired,\n  createMessageCenter: PropTypes.func.isRequired,\n  updateMessageCenter: PropTypes.func.isRequired,\n  inviteAndAddMobile: PropTypes.func.isRequired,\n  matched_contact: PropTypes.any.isRequired\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(DirectMessage));","map":{"version":3,"sources":["/var/www/html/RymindrAppNew/src/container/MessageCenter/DirectMessage/DirectMessage.js"],"names":["Visibility","Replay","Send","AddCircle","Cancel","Headset","Videocam","Image","Description","Attachment","Box","Button","Checkbox","DialogContent","FormControlLabel","Grid","MenuItem","Paper","Switch","TextField","Typography","Radio","RadioGroup","Divider","FormControl","FormLabel","IconButton","ArrowBackIcon","CancelIcon","Link","useHistory","match","location","useParams","DatePicker","MuiPickersUtilsProvider","TimePicker","React","useEffect","useMemo","useState","getBusinessUsers","getGroups","inviteAndAddMobile","createMessageCenter","updateMessageCenter","getCategories","getRymindrList","searchRymindrList","getMessageDetailsById","makeStyles","styled","Autocomplete","CircularSpinner","DialogRaw","MomentUtils","PropTypes","connect","moment","withSnackbar","FileBase64","CKEditor","Editor","ckEditorConfig","ConfirmationDialogRaw","Tabmenu","useStyles","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","position","iconAttach","primary","dark","background","light","height","width","borderRadius","float","marginTop","marginRight","categoryIon","margin","marginLeft","fileName","maxWidth","whiteSpace","textOverflow","overflow","verticalClass","verticalAlign","TypoHeadStyled","fontSize","main","textTransform","fontWeight","TypoHeadInnerStyled","PaperStyled","SlideBoxStyled","display","SlideType","GridStyled","paddingLeft","paddingRight","breakpoints","down","Recurring","FormFields","subject","message","message_group","category","to_group","to_member","ButtonColor","props","contrastText","TypoStyled","marginBottom","cursor","DirectMessage","classes","enqueueSnackbar","error","success_message","categories","subcategories","groups","businessusers","userRymindrList","matched_contact","messageDetailsById","loading","user_id","business_code","first_name","last_name","JSON","parse","localStorage","getItem","state","setState","checkedB","switch","history","date","Date","selectedDate","sethandleDateChange","selectedTime","sethandleTimeChange","getTime","subcategory","setSubCategory","checked","setChecked","memberchecked","setMemberchecked","group_members","setGroup_members","loading1","setLoading1","checkOnSelectAllMembers","setcheckOnSelectAllMembers","checkOnSelectAllGroup","setcheckOnSelectAllGroup","groupname_membersname","setGroupname_membersname","formvalue","setFormvalue","formValidation","setFormValidation","open","setOpen","timeErr","setTimeErr","phoneNumber","setPhoneNumber","setSubject","setMessage","files","setFiles","openRymindr","setOpenRymindr","rymindrCount","setRymindrCount","rymindrLink","setRymindrLink","rymindrId","setRymindrId","messageDetailById","setMessageDetailById","deleteFiles","setDeleteFiles","Contacts","setContacts","ID","member_id","group_id","get_name","handleToopenRymindr","updateRymindrCount","c","updateRymindrLink","c_id","linkRymindr","handleCloseRymindr","newValue","handleChange","e","formdata","formvalidation","value","target","name","found","find","element","id","rymindr_type","category_name","subcategory_id","handleDateChange","selecteddate","format","rymindr_date","handleTimeChange","selectedtime","now","toString","rymindr_time","handleChangeCheck","event","handleSwitchChange","handleGroupToggle","groupMembers","group_member_list","console","log","currentIndex","indexOf","newChecked","selectedmember","push","forEach","splice","remomeitem","handleMemberToggle","groupname","membername","group_name","handleAllMembersToggle","handleAllGroupMembersToggle","eventForm_to","currentPathname","pathname","split","message_center_id","length","undefined","data","dataToSend","getcategories","SendToBusiness","string_array","rymindr_array","number_array","map","el","parseInt","rymindr_main_array","i","isNumber","get_rymindr_index","findIndex","key","warn","linked_to_rymindr","setCurrency","group_array","member_array","arr","item","handleClose","rymindr","rymdrCount","file_main_array","attachment","checkvalue","concat","mobile_no","join","validate","isError","handleToTagvalue","handleToSubmit","FormFields11","rymindr_to_group","rymindr_group_members_to","Set","user_name","currency","rymindr_to","sendAttachment","deleteAttachment","unmatch","variant","handleToopen","getBase64","file","cb","reader","FileReader","readAsDataURL","onload","result","onerror","getFiles","fileObj","fileArray","fileInfo","type","size","Math","round","base64","replace","getFiles11","etn","deleteImage","index","attachment_object","deleteThat","filter","a","removeIndex","deleteImage2","label","handleCategoryChange","handleMessage","handleSubject","trim","members","resetForm","rymindr_text","goBack","newVal","getArray","user_id_arr","group_id_arr","getNewList","ele","getNewGroupList","params","option","category_image","editor","getData","extension_arr","extension","file_name","letterSpacing","mapStateToProps","rymidr","messageCenterReducer","mapDispatchToProps","dispatch","propTypes","func","isRequired","bool","string","any","array","getSubCategories"],"mappings":"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","sourcesContent":["import {\n  Visibility,\n  Replay,\n  Send,\n  AddCircle,\n  Cancel,\n  Headset,\n  Videocam,\n  Image,\n  Description,\n  Attachment,\n} from '@material-ui/icons';\nimport {\n  Box,\n  Button,\n  Checkbox,\n  DialogContent,\n  FormControlLabel,\n  Grid,\n  MenuItem,\n  Paper,\n  Switch,\n  TextField,\n  Typography,\n  Radio,\n  RadioGroup,\n  Divider,\n  FormControl,\n  FormLabel,\n  IconButton,\n} from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { Link, useHistory, match, location, useParams } from 'react-router-dom';\nimport { DatePicker, MuiPickersUtilsProvider, TimePicker } from '@material-ui/pickers';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport {\n  // createRymindr,\n  getBusinessUsers,\n  // getCategories,\n  getGroups,\n  // getSubCategories,\n  inviteAndAddMobile,\n} from '../../../store/actions/rymidr';\nimport {\n  createMessageCenter,\n  updateMessageCenter,\n  getCategories,\n  getRymindrList,\n  searchRymindrList,\n  getMessageDetailsById,\n} from '../../../store/actions/messageCenterAction';\nimport { makeStyles, styled } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CircularSpinner from '../../../component/CircularSpinner/index';\n// import ConfirmationDialogRaw from './Modal'\nimport DialogRaw from './Modal/Rymindrindex';\nimport MomentUtils from '@date-io/moment';\nimport PropTypes from 'prop-types';\n// import Tabmenu from './Modal/Memberlist'\nimport { connect } from 'react-redux';\nimport moment from 'moment';\nimport { withSnackbar } from 'notistack';\nimport FileBase64 from 'react-file-base64';\n\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport Editor from 'ckeditor5-custom-build/build/ckeditor';\nimport ckEditorConfig from '../../../helper/ckEditorConfig';\n\nimport ConfirmationDialogRaw from '../../Bookings/EventBooking/Modal';\nimport Tabmenu from '../../Bookings/EventBooking/Modal/Memberlist';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n    position: 'relative',\n  },\n  iconAttach: {\n    color: theme.palette.primary.dark,\n    background: theme.palette.primary.light,\n    height: 32,\n    width: 32,\n    borderRadius: 60,\n    padding: 5,\n    float: 'left',\n    marginTop: -5,\n    marginRight: '10px',\n  },\n  categoryIon: {\n    height: 32,\n    margin: -10,\n    marginLeft: 0,\n    marginRight: 5,\n  },\n  fileName: {\n    maxWidth: 140,\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    overflow: 'hidden',\n  },\n  verticalClass: {\n    marginLeft: 10,\n    verticalAlign: 'middle',\n  },\n}));\nconst TypoHeadStyled = styled(Typography)(({ theme }) => ({\n  fontSize: 24,\n  color: theme.palette.primary.main,\n  textTransform: 'uppercase',\n  fontWeight: 'bold',\n}));\n\nconst TypoHeadInnerStyled = styled(TypoHeadStyled)(({ theme }) => ({\n  color: theme.palette.text.primary,\n}));\n\nconst PaperStyled = styled(Paper)({\n  padding: '10px 15px',\n});\nconst SlideBoxStyled = styled(Box)(() => ({\n  textAlign: 'center',\n  display: 'inline-block',\n\n  padding: '10px 15px',\n  borderRadius: 10,\n  '& img': {\n    display: 'inline-block',\n    height: 75,\n    width: 75,\n  },\n}));\n\nconst SlideType = styled(Typography)(({ theme }) => ({\n  color: theme.palette.text.primary,\n  fontSize: 16,\n}));\n\nconst GridStyled = styled(Grid)(({ theme }) => ({\n  paddingLeft: '10rem',\n  paddingRight: '10rem',\n  [theme.breakpoints.down('md')]: {\n    paddingLeft: '8rem',\n    paddingRight: '8rem',\n  },\n\n  [theme.breakpoints.down('sm')]: {\n    paddingLeft: '2rem',\n  },\n}));\n\nconst Recurring = ['Daily', 'Weekly', 'Monthly', 'Yearly'];\n\nconst FormFields = {\n  subject: '',\n  message: '',\n  message_group: '',\n  category: '',\n  to_group: '',\n  to_member: '',\n};\n\nconst ButtonColor = styled(Button)(({ theme }) => ({\n  background: theme.palette.props.main,\n  color: theme.palette.props.contrastText,\n}));\n\nconst TypoStyled = styled(Typography)(({ theme }) => ({\n  fontSize: 16,\n  color: theme.palette.text.primary,\n  marginTop: 10,\n  marginBottom: 20,\n  cursor: 'pointer',\n  marginRight: 30,\n}));\n\nconst DirectMessage = (props) => {\n  const classes = useStyles();\n  const {\n    enqueueSnackbar,\n    error,\n    success_message,\n    categories,\n    subcategories,\n    // getSubCategories,\n    getGroups,\n    groups,\n    businessusers,\n    getBusinessUsers,\n    userRymindrList,\n    getRymindrList,\n    // createRymindr,\n    createMessageCenter,\n    updateMessageCenter,\n    inviteAndAddMobile,\n    matched_contact,\n    messageDetailsById,\n    loading,\n  } = props;\n  const { user_id, business_code, first_name, last_name } = JSON.parse(localStorage.getItem('userData'));\n  const [state, setState] = useState({\n    checkedB: true,\n    switch: false,\n  });\n  const history = useHistory();\n  const date = new Date();\n  const [selectedDate, sethandleDateChange] = useState(new Date());\n  const [selectedTime, sethandleTimeChange] = useState(date.getTime() + 5 * 60000);\n  const [subcategory, setSubCategory] = useState(0);\n  const [checked, setChecked] = useState([]);\n  const [memberchecked, setMemberchecked] = useState([]);\n  const [group_members, setGroup_members] = useState([]);\n  const [loading1 , setLoading1] = useState(true)\n\n  const [checkOnSelectAllMembers, setcheckOnSelectAllMembers] = useState(false);\n  const [checkOnSelectAllGroup, setcheckOnSelectAllGroup] = useState(false);\n\n  const [groupname_membersname, setGroupname_membersname] = useState([]);\n  const [formvalue, setFormvalue] = useState(FormFields);\n  const [formValidation, setFormValidation] = useState(FormFields);\n  const [open, setOpen] = useState(false);\n  const [timeErr, setTimeErr] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState([]);\n  const [subject, setSubject] = useState('');\n  const [message, setMessage] = useState('');\n  const [files, setFiles] = useState([]);\n  const [openRymindr, setOpenRymindr] = useState(false);\n  const [rymindrCount, setRymindrCount] = useState('');\n  const [rymindrLink, setRymindrLink] = useState([]);\n  const [rymindrId, setRymindrId] = useState([]);\n  const [messageDetailById, setMessageDetailById] = useState(messageDetailsById);\n  const [deleteFiles, setDeleteFiles] = useState([])\n  const [ Contacts , setContacts] = useState([])\n\n\n  let { ID, member_id, group_id, get_name } = useParams();\n\n  const handleToopenRymindr = () => {\n    setOpenRymindr(true);\n  };\n\n  const updateRymindrCount = (c) => {\n    // alert(c);\n    // setFormvalue({ ...formvalue, ['linkRymindr']: setRymindrCount })\n    setRymindrCount(c);\n  };\n\n  const updateRymindrLink = (c_id) => {\n    setFormvalue({ ...formvalue, linkRymindr: c_id });\n    setRymindrLink(c_id);\n  };\n\n  const handleCloseRymindr = (newValue) => {\n    // alert('main'+newValue);\n    setOpenRymindr(newValue);\n  };\n\n  const handleChange = (e) => {\n    const formdata = { ...formvalue };\n    const formvalidation = { ...formValidation };\n    const value = e.target.value;\n    const name = e.target.name;\n\n    if (name === 'rymindr_type') {\n      const found = subcategories.find((element) => element.id === value);\n      formdata.rymindr_type = found.category_name;\n      formdata.subcategory_id = value;\n      formvalidation.subcategory_id = '';\n      setFormValidation(formvalidation);\n    } else {\n      formdata[name] = value;\n    }\n    setFormvalue(formdata);\n  };\n\n  const handleDateChange = (e) => {\n    const date = new Date(e);\n    const selecteddate = moment(date).format('YYYY-MM-DD');\n    sethandleDateChange(selecteddate);\n    setFormvalue({ ...formvalue, rymindr_date: selecteddate });\n  };\n\n  const handleTimeChange = (e) => {\n    const date = new Date(e);\n    const selectedtime = moment(date).format('HH:mm');\n\n    var now = moment(new Date().getTime() + 5 * 60000).format('HH:mm');\n    if (now.toString() > selectedtime.toString()) {\n      setTimeErr('You can not choose a time before the current time.');\n    } else {\n      setTimeErr('');\n    }\n    sethandleTimeChange(new Date(e));\n    setFormvalue({ ...formvalue, rymindr_time: selectedtime });\n  };\n\n  const handleChangeCheck = (event) => {\n    setState({ ...state, [event.target.name]: event.target.checked });\n    setFormvalue({ ...formvalue, [event.target.name]: event.target.checked });\n  };\n\n  const handleSwitchChange = (event) => {\n    // alert('swicth',event.target.checked);\n    setState({ ...state, [event.target.name]: event.target.checked });\n    setFormvalue({ ...formvalue, switch: !state.switch });\n    if (event.target.checked == true) {\n      handleToopenRymindr();\n    }\n  };\n\n  const handleGroupToggle = (value) => {\n    setcheckOnSelectAllGroup(false);\n    const groupMembers = value.group_member_list;\n    console.log('checked=====', checked);\n    const currentIndex = checked.indexOf(value.group_id);\n    const newChecked = [...checked];\n    const selectedmember = [...group_members];\n\n    if (currentIndex === -1) {\n      newChecked.push(value.group_id);\n      groupMembers.forEach((element) => {\n        selectedmember.push(element.user_id);\n      });\n    } else {\n      newChecked.splice(currentIndex, 1);\n      groupMembers.forEach((element) => {\n        const remomeitem = selectedmember.indexOf(element.user_id);\n        selectedmember.splice(remomeitem, 1);\n      });\n    }\n\n    console.log('newChecked=====', newChecked);\n    setChecked(newChecked);\n    setGroup_members(selectedmember);\n    setFormvalue({ ...formvalue, message_group: selectedmember });\n  };\n\n  const handleMemberToggle = (value) => {\n    const currentIndex = memberchecked.indexOf(value.user_id);\n    const newChecked = [...memberchecked];\n    if (currentIndex === -1) {\n      newChecked.push(value.user_id);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n    // alert('newChecked'+newChecked);\n    setMemberchecked(newChecked);\n    setFormvalue({ ...formvalue, message_group: newChecked });\n\n    // SELECT ALL\n    const groupname = [];\n    const membername = [];\n    if (value == 0) {\n      businessusers.forEach((element) => {\n        membername.push(`${element.first_name} ${element.last_name}`);\n\n        newChecked.push(element.user_id);\n      });\n      setcheckOnSelectAllMembers(true);\n      setMemberchecked(newChecked);\n    } else if (value == 1) {\n      groups.forEach((element) => {\n        groupname.push(element.group_name);\n        newChecked.push(element.group_id);\n      });\n      setcheckOnSelectAllGroup(true);\n      setChecked(newChecked);\n    } else if (value == 3) {\n      setcheckOnSelectAllMembers(false);\n      setMemberchecked([]);\n    } else if (value == 4) {\n      setcheckOnSelectAllGroup(false);\n      setChecked([]);\n    } else {\n      setcheckOnSelectAllMembers(false);\n    }\n    //SELECT ALL\n  };\n\n  const handleAllMembersToggle = (value) => {\n    const newChecked = [...value];\n    const formvalidation = { ...formValidation };\n\n    setFormvalue({\n      ...formvalue,\n      message_group: newChecked,\n      // to_member: '@'\n    });\n    formvalidation.to_member = '';\n    setFormValidation(formvalidation);\n\n    setMemberchecked(newChecked);\n  };\n\n  const handleAllGroupMembersToggle = (value) => {\n    const newChecked = [...value];\n    const selectedmember = [...newChecked];\n    const formvalidation = { ...formValidation };\n    formvalidation.eventForm_to = '';\n    setFormValidation(formvalidation);\n    setFormvalue({\n      ...formvalue,\n      message_group: selectedmember,\n      // eventForm_to: '@'\n    });\n    setChecked(newChecked);\n    setGroup_members(selectedmember);\n  }\n\n  let currentPathname = history.location.pathname;\n  currentPathname = currentPathname.split('/');\n  const message_center_id = currentPathname[2] ? currentPathname[2] : '';\n\n  useEffect(()=>{\n    if (businessusers.length > 0){\n      setContacts(businessusers)\n      setLoading1(false)\n    }\n  },[businessusers])\n  useEffect(() => {\n    // if (message_center_id && group_id != 0 && member_id != 0) {\n    if (message_center_id && group_id == undefined && member_id == undefined) {\n      const data = props.getMessageDetailsById({ user_id, message_center_id });\n\n      setMessageDetailById(messageDetailsById);\n    }\n    const dataToSend = {\n      user_id,\n      // category_id: ''\n    };\n    props.getcategories(dataToSend);\n    getGroups({ user_id });\n    const SendToBusiness = {\n      user_id,\n      business_code,\n    };\n    getBusinessUsers(SendToBusiness);\n    getRymindrList({ user_id });\n  }, []);\n\n  useEffect(() => {\n    // if (message_center_id && group_id == 0 && member_id == 0) {\n    if (message_center_id && group_id == undefined && member_id == undefined) {\n      setMessageDetailById(messageDetailsById);\n      const formdata = { ...formvalue };\n      const string_array = messageDetailsById.rymindr_array;\n      if (string_array && userRymindrList) {\n        const number_array = string_array.map((el) => parseInt(el));\n\n        const rymindr_main_array = [];\n\n        for (let i = 0; i < number_array.length; i++) {\n          const isNumber = (element) => element.id == number_array[i];\n          const get_rymindr_index = userRymindrList.findIndex(isNumber);\n          rymindr_main_array.push({ key: get_rymindr_index, id: number_array[i] });\n        }\n        setRymindrId(rymindr_main_array);\n        formdata.linkRymindr = rymindr_main_array;\n        setFormvalue(formdata);\n      }\n\n      formdata.message_center_id = message_center_id;\n      setFormvalue(formdata);\n\n      console.warn('testing messageDetailsById', messageDetailsById);\n\n      setState({ switch: messageDetailsById.linked_to_rymindr != 0 });\n      formdata.switch = messageDetailsById.linked_to_rymindr != 0;\n      // formdata.linkRymindr = rymindr_main_array ;\n      setFormvalue(formdata);\n      setMessage(messageDetailsById.message)\n      formdata.message = messageDetailsById.message;\n      setFormvalue(formdata);\n\n      setSubject(messageDetailsById.subject);\n      formdata.subject = messageDetailsById.subject;\n      setFormvalue(formdata);\n\n      setCurrency(messageDetailsById.category);\n\n      formdata.category = messageDetailsById.category;\n      setFormvalue(formdata);\n\n      if (messageDetailsById.group_array || messageDetailsById.member_array) {\n        if (messageDetailsById.group_array.length > 0) {\n          let arr = messageDetailsById.group_array.map((item) => parseInt(item));\n          setChecked(arr);\n        } else {\n          setChecked([]);\n        }\n\n        setMemberchecked(messageDetailsById.member_array);\n        formdata.message_group = messageDetailsById.to_member\n          ? messageDetailsById.to_member\n          : messageDetailsById.to_group;\n        formdata.to_member = messageDetailsById.to_member;\n        formdata.to_group = messageDetailsById.to_group;\n        setFormvalue(formdata);\n        handleClose(false);\n      }\n\n      if (messageDetailsById.rymindr) {\n        const rymdrCount = messageDetailsById.rymindr.split(',').length;\n        setRymindrCount(rymdrCount);\n      } else {\n        setRymindrCount(0);\n      }\n      setRymindrLink(messageDetailsById.linked_to_rymindr);\n\n      const file_main_array = [];\n      if (messageDetailsById.attachment) {\n        // messageDetailsById.attachment.map((file_arr, file_index) => {\n        //   file_main_array.push(JSON.parse(file_arr.attachment_object));\n        // });\n        // console.log('messageDetailsById.attachment123=',messageDetailsById.attachment);\n        setFiles(messageDetailsById.attachment);\n      }\n    }\n  }, [messageDetailsById, userRymindrList]);\n\n  const handleClose = (newValue) => {\n    setOpen(newValue);\n    const membername = [];\n    const groupname = [];\n    groups.forEach((element) => {\n      const checkvalue = checked.indexOf(element.group_id);\n      if (checkvalue !== -1) {\n        groupname.push(element.group_name);\n      }\n    });\n    if (businessusers.length > 0) {\n      businessusers.forEach((element) => {\n        const checkvalue = memberchecked.indexOf(element.user_id);\n        if (checkvalue !== -1) {\n          membername.push(`${element.first_name} ${element.last_name}`);\n        }\n      });\n    }\n\n    setGroupname_membersname(groupname.concat(membername));\n    const dataToSend = {\n      mobile_no: phoneNumber.join(),\n    };\n    if (phoneNumber.length > 0) {\n      inviteAndAddMobile(dataToSend);\n    }\n\n    if (newValue) {\n      // setValue(newValue);\n    }\n  };\n\n  const validate = () => {\n    const formvalidation = { ...formValidation };\n    // alert('subject'+formvalue.subject);\n    let isError = false;\n    if (!formvalue.subject) {\n      isError = true;\n      formvalidation.subject = 'Please input Subject!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.subject = '';\n      setFormValidation(formvalidation);\n    }\n    console.log('formvalue.category=========', formvalue.category);\n    if (!formvalue.category) {\n      isError = true;\n      formvalidation.category = 'Please select a Category!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.category = '';\n      setFormValidation(formvalidation);\n    }\n\n    if (!formvalue.message) {\n      isError = true;\n      formvalidation.message = 'Please input Message!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.message = '';\n      setFormValidation(formvalidation);\n    }\n\n    const value=formvalue.message_group;\n    if (value=='' || value==[] || value==undefined) {\n      isError = true;\n      formvalidation.message_group = 'Please select Contacts!';\n      setFormValidation(formvalidation);\n    } else {\n      formvalidation.message_group = '';\n      setFormValidation(formvalidation);\n    }\n    return isError;\n  };\n\n  const handleToTagvalue = (value) => {\n    setPhoneNumber(value);\n  };\n\n  const handleToSubmit = () => {\n    console.log('memberchecked22222', memberchecked);\n    console.warn('matched_contact44444', group_members);\n    console.warn('checked12121212', checked);\n\n    // console.log('files====',files);\n    // return false;\n    if (validate()) return false;\n    const FormFields11 = { ...formvalue };\n    FormFields11.rymindr_to_group = checked.join();\n    FormFields11.to_group = checked.join();\n    FormFields11.rymindr_group_members_to = [...new Set(group_members)].join();\n\n    FormFields11.user_id = user_id;\n    FormFields11.user_name = first_name;\n    FormFields11.category = currency;\n    FormFields11.rymindr_to =\n      matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join();\n    FormFields11.to_member =\n      matched_contact !== null ? memberchecked.join() + ',' + matched_contact.user_id : memberchecked.join();\n\n    const sendAttachment = files;\n    const deleteAttachment = deleteFiles;\n    const unmatch = matched_contact ? matched_contact.mobile_no : '';\n\n    if (message_center_id  && group_id == undefined && member_id == undefined) {\n      updateMessageCenter(FormFields11, unmatch, history, sendAttachment,deleteAttachment)\n    } else {\n      createMessageCenter(FormFields11, unmatch, history, sendAttachment)\n    }\n  };\n\n  // useMemo(() => {\n  //   success_message && enqueueSnackbar(success_message, { variant: 'success' })\n  // }, [success_message])\n\n  useMemo(() => {\n    error && enqueueSnackbar(error, { variant: 'error' });\n  }, [error]);\n\n  const handleToopen = () => {\n    setOpen(true);\n  };\n\n  const getBase64 = (file, cb) => {\n    //, cb\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = function () {\n      cb(reader.result);\n      // console.log('cccccc', reader.result);\n    };\n    reader.onerror = function (error) {\n      console.log('Error: ', error);\n    };\n  };\n\n  const getFiles = (e) => {\n    const fileObj = [];\n    const fileArray = [];\n    // alert('fileee-target'+ e.target.files);\n    fileObj.push(e.target.files);\n\n    for (let i = 0; i < fileObj[0].length; i++) {\n      if (files.length > 0) {\n        getBase64(fileObj[0][i], (result) => {\n          const fileInfo = {\n            name: fileObj[0][i].name,\n            type: fileObj[0][i].type,\n            size: Math.round(fileObj[0][i].size / 1000) + ' kB',\n            base64: fileObj[0][i].type == 'video/mp4' ? result.replace('data:video/mp4;base64,', '') : result,\n            file: fileObj[0][i],\n          };\n          files.push(fileInfo);\n          // files.push({'base64': result, 'name': fileObj[0][i].name})\n          setFiles([...files]);\n        });\n      } else {\n        getBase64(fileObj[0][i], (result) => {\n          // idCardBase64 = result;\n          // Make a fileInfo Object\n          const fileInfo = {\n            name: fileObj[0][i].name,\n            type: fileObj[0][i].type,\n            size: Math.round(fileObj[0][i].size / 1000) + ' kB',\n            base64: fileObj[0][i].type == 'video/mp4' ? result.replace('data:video/mp4;base64,', '') : result,\n            file: fileObj[0][i],\n          };\n          fileArray.push(fileInfo);\n          setFiles([...fileArray]);\n        });\n      }\n    }\n  };\n\n  const getFiles11 = (files) => {\n    // files.map((file, index) => {\n    // var extn = file.name.split('.')\n    var etn = ['docx', 'doc', 'pdf', 'jpg', 'jpeg', 'png', 'mp4', 'mp3'];\n    // var low = extn[1].toLowerCase()\n    // if (etn.includes(low)) {\n    setFiles(files);\n    // } else {\n    // error\n    // }\n    // })\n  };\n\n  \n  const deleteImage = (index, file) => {\n    if(file && file.attachment_object){\n      let deleteThat = files.filter(a=>a.attachment_object==file.attachment_object);\n      setDeleteFiles([...deleteFiles, ...deleteThat])\n      var removeIndex = files.map(function(item) { return item.attachment_object; }).indexOf(file.attachment_object);\n      files.splice(removeIndex, 1);\n    } else if(file && file.name){\n      var removeIndex = files.map(function(item) { return item.name; }).indexOf(file.name);\n      files.splice(removeIndex, 1);\n    }\n    if (files.length == 0) {\n      setFiles([])\n    } else {\n      setFiles([...files])\n    }\n  }\n\n\n  const deleteImage2 = (index, file) => {\n    \n    // if (file && file.attachment_object) {\n    //   var removeIndex = files\n    //     .map(function (item) {\n    //       return item.attachment_object;\n    //     })\n    //     .indexOf(file.attachment_object);\n    //   files.splice(removeIndex, 1);\n    // } else if (file && file.name) {\n    //   var removeIndex = files\n    //     .map(function (item) {\n    //       return item.name;\n    //     })\n    //     .indexOf(file.name);\n    //   files.splice(removeIndex, 1);\n    // }\n    // if (files.length == 0) {\n    //   setFiles([]);\n    // } else {\n    //   setFiles([...files]);\n    //   console.log('files===', files);\n    // }\n  };\n\n  const category = [\n    {\n      value: 'USD',\n      label: '$',\n    },\n    {\n      value: 'EUR',\n      label: 'Parents Evening',\n    },\n  ];\n\n  const [currency, setCurrency] = React.useState('');\n\n  const handleCategoryChange = (event) => {\n    setCurrency(event.target.value);\n\n    setFormvalue({ ...formvalue, [event.target.name]: event.target.value });\n  };\n\n  const handleMessage = (event) => {\n    setFormvalue({ ...formvalue, [event.target.name]: event.target.value });\n    setMessage(event.target.value);\n  };\n\n  const handleSubject = (event) => {\n    setSubject(event.target.value);\n    setFormvalue({ ...formvalue, [event.target.name]:(event.target.value).trim()});\n  };\n\n  // If member or group is selected via parameter.\n  useMemo(() => {\n    if (!ID) {\n      const newChecked = [...checked];\n\n      if (member_id != 0 || group_id != 0) {\n        const groupname = [];\n        const membername = [];\n        if (group_id != '0') {\n          if (groups.length > 0) {\n            groups.forEach((element) => {\n              if (element.group_id == group_id) {\n                groupname.push(element.group_name);\n              }\n            });\n          } else {\n            groupname.push(get_name);\n          }\n          // if(newChecked.indexOf(group_id) > -1 ){\n          //   newChecked.push(group_id)\n          // }\n\n          if (group_id) {\n            newChecked.push(group_id);\n          }\n          setChecked(newChecked);\n          setFormvalue({ ...formvalue, message_group: group_id });\n        } else if (member_id != '0') {\n          if (businessusers.length > 0) {\n            businessusers.forEach((element) => {\n              if (element.user_id == member_id) {\n                membername.push(`${element.first_name} ${element.last_name}`);\n              }\n            });\n          } else {\n            membername.push(get_name);\n          }\n\n          newChecked.push(member_id);\n          setMemberchecked(newChecked);\n          setFormvalue({ ...formvalue, message_group: member_id });\n        }\n\n        setGroupname_membersname(groupname.concat(membername));\n      }\n      if (member_id == undefined && group_id == undefined) {\n        const membername = [];\n        const members = [];\n        setMemberchecked(members);\n        setGroupname_membersname(membername);\n      }\n    }\n  }, [groups, businessusers]);\n\n  const resetForm = () => {\n    setCurrency('');\n    setGroupname_membersname('');\n    setFormvalue(FormFields);\n    setFormValidation(FormFields);\n    setOpen(false);\n    setTimeErr('');\n    setPhoneNumber([]);\n    setFiles([]);\n    setSubject('');\n    setMessage('');\n    setRymindrCount('');\n    setRymindrId([])\n    setcheckOnSelectAllMembers(false);\n    setcheckOnSelectAllGroup(false);\n    setMemberchecked([]);\n    setChecked([]);\n  };\n  const rymindr_text = 'Rymindr linked';\n  console.log('rymindrId--',rymindrId)\n  console.log('Contacts-',Contacts)\n  return (\n    <>\n      <MuiPickersUtilsProvider utils={MomentUtils}>\n        <DialogRaw\n          getSelectedRymindr={rymindrId}\n          open={openRymindr}\n          onClose={handleCloseRymindr}\n          getRymindrListData={userRymindrList}\n          onRymindrUpdate={updateRymindrCount}\n          onRymindrUpdateLink={updateRymindrLink}\n        />\n        {/* <ConfirmationDialogRaw open={open} onClose={handleClose} groupdata={groups} memberdata={businessusers}>\n          <Tabmenu\n            groupdata={groups}\n            memberdata={businessusers}\n            handleToggles={handleGroupToggle}\n            checked={checked}\n            handleMemberToggle={handleMemberToggle}\n            memberchecked={memberchecked}\n            handleToTagvalue={handleToTagvalue}\n            checkOnSelectAllMembers={checkOnSelectAllMembers}\n            checkOnSelectAllGroup={checkOnSelectAllGroup}\n          />\n        </ConfirmationDialogRaw>*/}\n\n        <ConfirmationDialogRaw open={open} onClose={handleClose} groupdata={groups} memberdata={businessusers}>\n          <Tabmenu\n            groupdata={groups}\n            memberdata={businessusers}\n            handleToggles={handleGroupToggle}\n            checked={checked}\n            handleMemberToggle={handleMemberToggle}\n            handleAllMembersToggle ={handleAllMembersToggle}\n            handleAllGroupMembersToggle ={handleAllGroupMembersToggle}\n            memberchecked={memberchecked}\n            handleToTagvalue={handleToTagvalue}\n          />\n        </ConfirmationDialogRaw>\n        <Grid className=\"main-wrap-head\" container style={{ marginBottom: 20 }} alignItems=\"center\">\n          <Grid item xs={7}>\n            <TypoHeadStyled variant=\"h4\">\n              <ArrowBackIcon onClick={() => history.goBack()} /> Direct{' '}\n              <TypoHeadInnerStyled component=\"span\">message</TypoHeadInnerStyled>\n            </TypoHeadStyled>\n          </Grid>\n          <Grid item xs={5}>\n            <Box display=\"flex\" justifyContent=\"flex-end\">\n              <Button variant=\"contained\" color=\"primary\" size=\"large\" startIcon={<Replay />} onClick={resetForm}>\n                Reset\n              </Button>\n            </Box>\n          </Grid>\n        </Grid>\n        <PaperStyled className=\"main-wrap-body create-msg-wrap\">\n        {Contacts.length > 0 ?\n          <GridStyled container className=\"article-content\" spacing={5}>\n            <Grid item xs={12}>\n              <Autocomplete\n                multiple\n                limitTags={1}\n                id=\"tags-filled\"\n                filterSelectedOptions={false}\n                options={[]}\n                freeSolo\n                onChange={(event, newValue) => {\n                  const newVal = newValue.toString();\n                  const getArray = newVal.split(',');\n                  const user_id_arr = [];\n                  const group_id_arr = [];\n                  for (let i = 0; i < getArray.length; i++) {\n                    const getNewList = businessusers.find((ele) => ele.first_name + ' ' + ele.last_name == getArray[i]);\n                    if (getNewList) {\n                      user_id_arr.push(getNewList.user_id);\n                    } else {\n                      // FOR GROUPS\n                      const getNewGroupList = groups.find((ele) => ele.group_name == getArray[i]);\n                      if(getNewGroupList){\n                        group_id_arr.push(getNewGroupList.group_id);\n                      }\n                    }\n                  }\n\n                  setGroup_members(group_id_arr);\n                  setGroupname_membersname(newValue);\n\n                  const formdata = { ...formvalue };\n                  setChecked(group_id_arr);\n                  setMemberchecked(user_id_arr);\n\n                  formdata.message_group = user_id_arr.join() ? user_id_arr.join() : group_id_arr.join();\n                  formdata.to_member = user_id_arr.join();\n                  formdata.to_group = group_id_arr.join();\n                  setFormvalue(formdata);\n                }}\n                value={groupname_membersname}\n                renderInput={(params) => (\n                  <TextField\n                    {...params}\n                    placeholder=\"Type Number and Enter to Add\"\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    label=\"To\"\n                    onChange={handleToopen}\n                    onClick={handleToopen}\n                    error={!!formValidation.message_group}\n                    helperText={formValidation.message_group}\n                    name=\"message_group\"\n                  />\n                )}\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <TextField\n                label=\"Subject\"\n                fullWidth\n                variant=\"outlined\"\n                value={subject}\n                onClick={handleSubject}\n                onChange={handleSubject}\n                error={!!formValidation.subject}\n                helperText={formValidation.subject}\n                name=\"subject\"\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <TextField\n                select\n                label=\"Category\"\n                value={currency}\n                fullWidth\n                onChange={handleCategoryChange}\n                error={!!formValidation.category}\n                helperText={formValidation.category}\n                variant=\"outlined\"\n                name=\"category\"\n              >\n                <MenuItem key=\"\" value=\"\">\n                  Select\n                </MenuItem>\n                {categories.map((option) => (\n                  <MenuItem key={option.id} value={option.category_name}>\n                    <img src={option.category_image} className={classes.categoryIon} /> {option.category_name}\n                  </MenuItem>\n                ))}\n              </TextField>\n            </Grid>\n            <Grid item xs={12}>\n              <CKEditor\n                config={ckEditorConfig}\n                editor={Editor}\n                data={ message}\n                name=\"message\"\n                onReady={(editor) => {\n                  console.log('Editor is ready to use!', editor);\n                }}\n                onChange={(event, editor) => {\n                  const data = editor.getData()\n                  setFormvalue({ ...formvalue, message: data });\n                  setMessage(data);\n                }}\n                onBlur={(event, editor) => {\n                  console.log('Blur.', editor);\n                }}\n                onFocus={(event, editor) => {\n                  console.log('Focus.', editor);\n                }}\n              />\n              <p style={{color:'red',marginLeft:'1rem',fontSize:'12px',marginTop:'4px'}}>{formValidation.message}</p>\n              {/* <TextField\n                rows={4}\n                rowsMax={100}\n                multiline\n                label='Message' fullWidth variant='outlined' value={message}\n                onClick={handleMessage} onChange={handleMessage}\n                error={!!formValidation.message}\n                helperText={formValidation.message}\n                name='message'\n              /> */}\n            </Grid>\n\n            <Grid item xs={12}>\n              <Box display=\"flex\">\n                <FormControlLabel\n                  style={{ marginTop: 8 }}\n                  control={\n                    <Switch checked={state.switch} onChange={handleSwitchChange} name=\"switch\" color=\"primary\" />\n                  }\n                  label=\"Link&nbsp;Rymindr\"\n                />\n\n                {state.switch && (\n                  <TextField\n                    label=\"Rymindr\"\n                    fullWidth\n                    variant=\"outlined\"\n                    onChange={handleToopenRymindr}\n                    onClick={handleToopenRymindr}\n                    value={rymindrCount ? `${rymindrCount} ${rymindr_text}` : ''}\n                  />\n                )}\n              </Box>\n            </Grid>\n\n            <Grid item xs={12}>\n              <Box display=\"flex\" className=\"attach-files\">\n                {/* <FormControlLabel\n                  className='attachement'\n                  control={\n                    <FileBase64\n                      multiple={true}\n                      onDone={getFiles11}\n                      className='displayNone'\n                      style={{ display: 'none' }}\n                    />\n                  }\n\n                  label={<Typography variant='subtitle1' component='p'>\n                    <Attachment style={{ marginBottom: -6, marginRight: 15 }} color='primary' /> Attachment\n                    </Typography>}\n                /> */}\n\n                <FormControlLabel\n                  className=\"attachement\"\n                  control={\n                    <input\n                      type=\"file\"\n                      multiple\n                      onChange={getFiles}\n                      onClick={(e) => (e.target.value = null)}\n                      className=\"displayNone\"\n                      style={{ display: 'none' }}\n                    />\n                  }\n                  label={\n                    <Typography variant=\"subtitle1\" component=\"p\">\n                      <Attachment style={{ marginBottom: -6, marginRight: 15 }} color=\"primary\" /> Attachment\n                    </Typography>\n                  }\n                />\n              </Box>\n              <Box alignItems=\"center\" display=\"flex\">\n                {\n                  // files && files.map((file, index) => {\n                  //   const extension_arr = file && file.name ? file.name.split('.') : file.split('.')\n                  //   const extension = extension_arr[1]\n                  //   if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n                  //     return (\n                  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n                  //         {/* <img src={file.base64} width='32' height='32' className={classes.iconAttach} /> <Box className={classes.fileName}>{file.name}</Box> <CancelIcon onClick={() => deleteImage(index, file)} /> */}\n                  //         <img src={file.base64} className={classes.iconAttach} /> {file.name}<CancelIcon onClick={() => deleteImage(index, file)} className={classes.verticalClass} />\n                  //       </TypoStyled>\n                  //     )\n                  //   } else if (extension == 'mp3') {\n                  //     return (\n                  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n                  //         <Headset className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass} onClick={() => deleteImage(index, file)} />\n                  //       </TypoStyled>\n                  //     )\n                  //   } else if (extension == 'mp4') {\n                  //     return (\n                  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n                  //         <Videocam className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass} onClick={() => deleteImage(index, file)} />\n                  //       </TypoStyled>\n                  //     )\n                  //   } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n                  //     return (\n                  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n                  //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon className={classes.verticalClass}  onClick={() => deleteImage(index, file)} />\n                  //       </TypoStyled>\n                  //     )\n                  //   } else if (extension == 'mp4') {\n                  //     return (\n                  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n                  //         <Videocam className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n                  //       </TypoStyled>\n                  //     )\n                  //   } else if (extension == 'doc' || extension == 'docx') {\n                  //     return (\n                  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n                  //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n                  //       </TypoStyled>\n                  //     )\n                  //   }  else {\n                  //     return (\n                  //       <TypoStyled variant='subtitle1' component='p' key={index}>\n                  //         <Description className={classes.iconAttach} /> {file.name} <CancelIcon onClick={() => deleteImage(index, file)} />\n                  //       </TypoStyled>\n                  //     )\n                  //   }\n                  // })\n\n                  files &&\n                    files.map((file, index) => {\n                      \n                      if (file.attachment_object != undefined) {\n                        const extension_arr = file.attachment_object.split('.');\n                        const extension = extension_arr[1];\n\n                        if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n                          return (\n                            <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                              <img src={file.file_name} width=\"32\" height=\"32\" />{' '}\n                              <Box className={classes.fileName}>{file.attachment_object}</Box>{' '}\n                              <CancelIcon onClick={() => deleteImage(index, file)} />\n                            </TypoStyled>\n                          );\n                        } else if (extension == 'mp3') {\n                          return (\n                            <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                              <Headset className={classes.iconAttach} /> {file.attachment_object}{' '}\n                              <CancelIcon onClick={() => deleteImage(index, file)} />\n                            </TypoStyled>\n                          );\n                        } else if (extension == 'mp4') {\n                          return (\n                            <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                              <Videocam className={classes.iconAttach} /> {file.attachment_object}{' '}\n                              <CancelIcon onClick={() => deleteImage(index, file)} />\n                            </TypoStyled>\n                          );\n                        } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n                          return (\n                            <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                              <Description className={classes.iconAttach} /> {file.attachment_object}{' '}\n                              <CancelIcon onClick={() => deleteImage(index, file)} />\n                            </TypoStyled>\n                          );\n                        } else {\n                          return (\n                            <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                              <Description className={classes.iconAttach} /> {file.attachment_object}{' '}\n                              <CancelIcon onClick={() => deleteImage(index, file)} />\n                            </TypoStyled>\n                          );\n                        }\n                      } else {\n                        const extension_arr = file.name.split('.');\n                        const extension = extension_arr[1];\n                        if (extension == 'jpeg' || extension == 'jpg' || extension == 'png' || extension == 'gif') {\n                          return (\n                            // <TypoStyled variant='subtitle1' component='p' key={index}>\n                            //   <img src={file.base64} width='32' height='32' className={classes.iconAttach} /> <Box className={classes.fileName}>{file.name}</Box> <CancelIcon onClick={() => deleteImage(index, file)} />\n                            // </TypoStyled>\n\n                            <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                              <img src={file.base64} className={classes.iconAttach} /> {file.name}\n                              <CancelIcon onClick={() => deleteImage(index, file)} className={classes.verticalClass} />\n                            </TypoStyled>\n                          );\n                        } else if (extension == 'mp3') {\n                          return (\n                            <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                              <Headset className={classes.iconAttach} /> {file.name}{' '}\n                              <CancelIcon onClick={() => deleteImage(index, file)} />\n                            </TypoStyled>\n                          );\n                        } else if (extension == 'mp4') {\n                          return (\n                            <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                              <Videocam className={classes.iconAttach} /> {file.name}{' '}\n                              <CancelIcon onClick={() => deleteImage(index, file)} />\n                            </TypoStyled>\n                          );\n                        } else if (extension == 'doc' || extension == 'docx' || extension == 'pdf') {\n                          return (\n                            <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                              <Description className={classes.iconAttach} /> {file.name}{' '}\n                              <CancelIcon onClick={() => deleteImage(index, file)} />\n                            </TypoStyled>\n                          );\n                        } else {\n                          return (\n                            <TypoStyled variant=\"subtitle1\" component=\"p\" key={index}>\n                              <Description className={classes.iconAttach} /> {file.name}{' '}\n                              <CancelIcon onClick={() => deleteImage(index, file)} />\n                            </TypoStyled>\n                          );\n                        }\n                      }\n                    })\n                }\n              </Box>\n              {/* <Box alignItems='center' display='flex'>\n                <TypoStyled variant='subtitle1' component='p'>\n                  <Headset className={classes.iconAttach} /> Audio Name.mp3\n                </TypoStyled>\n\n                <TypoStyled variant='subtitle1' component='p'>\n                  <Image className={classes.iconAttach} /> Image Name.jpeg\n                </TypoStyled>\n\n                <TypoStyled variant='subtitle1' component='p'>\n                  <Videocam className={classes.iconAttach} /> Video Name.mp4\n                </TypoStyled>\n\n                <TypoStyled variant='subtitle1' component='p'>\n                  <Description className={classes.iconAttach} /> Document Name.doc\n                </TypoStyled>\n            </Box> */}\n            </Grid>\n\n            <Grid item xs={12}>\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                {/* <ButtonColor variant='contained' color='primary' size='large' className='mr-30 width180' startIcon={<Visibility />}>\n                  Preview\n          </ButtonColor> */}\n                <Button\n                  variant=\"contained\"\n                  size=\"large\"\n                  className=\"width180\"\n                  startIcon={<Cancel />}\n                  onClick={() => history.goBack()}\n                  style={{ marginRight: 20 }}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  size=\"large\"\n                  className=\"width180\"\n                  startIcon={<Send />}\n                  onClick={handleToSubmit}\n                  disabled={loading}\n                >\n                  {loading && <CircularSpinner />}\n                  Send Now1\n                </Button>\n              </Box>\n            </Grid>\n          </GridStyled>\n        :\n        <div style={{marginTop:'16rem'}}>\n          {loading1 ? \n          <CircularSpinner />\n          :\n          <>\n        <DialogContent style={{ margin: '2rem 6rem 2rem 6rem', textAlign: 'center' }}>\n            <h6 style={{ letterSpacing: '0.4px', paddingLeft: '1rem' }}>\n              You'll need to have at least 1 contact to enable this feature.\n            </h6>\n          </DialogContent>\n          <Box display=\"flex\" justifyContent=\"center\" style={{ marginBottom: '5rem' }}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={() => {\n                history.push('/contacts');\n              }}\n            >\n              Add Contacts\n            </Button>\n          </Box>\n          </>\n          }\n          </div>\n          }\n        </PaperStyled>\n      </MuiPickersUtilsProvider>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    loading: state.rymidr.loading,\n    error: state.rymidr.error,\n    success_message: state.messageCenterReducer.success_message,\n    categories: state.messageCenterReducer.categories,\n    userRymindrList: state.messageCenterReducer.userRymindrList,\n    // categories: state.rymidr.categories,\n    // subcategories: state.rymidr.subcategories,\n    groups: state.rymidr.groups,\n    businessusers: state.rymidr.businessusers,\n    matched_contact: state.rymidr.matched_contact,\n    messageDetailsById: state.messageCenterReducer.messageDetailById,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getcategories: (data) => dispatch(getCategories(data)),\n    // getSubCategories: (data) => dispatch(getSubCategories(data)),\n    getGroups: (data) => dispatch(getGroups(data)),\n    getBusinessUsers: (data) => dispatch(getBusinessUsers(data)),\n    getRymindrList: (data) => dispatch(getRymindrList(data)),\n    createMessageCenter: (data, unmatch, history, sendAttachment) =>\n      dispatch(createMessageCenter(data, unmatch, history, sendAttachment)),\n    updateMessageCenter: (data, unmatch, history, sendAttachment,deleteAttachment) =>\n      dispatch(updateMessageCenter(data, unmatch, history, sendAttachment,deleteAttachment)),\n    inviteAndAddMobile: (data) => dispatch(inviteAndAddMobile(data)),\n    getMessageDetailsById: (data) => dispatch(getMessageDetailsById(data)),\n  };\n};\n\nDirectMessage.propTypes = {\n  enqueueSnackbar: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  getcategories: PropTypes.func.isRequired,\n  getMessageDetailsById: PropTypes.func.isRequired,\n  error: PropTypes.string.isRequired,\n  success_message: PropTypes.any.isRequired,\n  categories: PropTypes.array.isRequired,\n  subcategories: PropTypes.array.isRequired,\n  getSubCategories: PropTypes.func.isRequired,\n  getGroups: PropTypes.func.isRequired,\n  groups: PropTypes.array.isRequired,\n  businessusers: PropTypes.array.isRequired,\n  getBusinessUsers: PropTypes.func.isRequired,\n  userRymindrList: PropTypes.array.isRequired,\n  getRymindrList: PropTypes.func.isRequired,\n  createMessageCenter: PropTypes.func.isRequired,\n  updateMessageCenter: PropTypes.func.isRequired,\n  inviteAndAddMobile: PropTypes.func.isRequired,\n  matched_contact: PropTypes.any.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(DirectMessage));\n"]},"metadata":{},"sourceType":"module"}