{"ast":null,"code":"var _jsxFileName = \"/var/www/html/RymindrAppNew/src/container/ExamAttempt/ExamAttempt.js\";\nimport * as actions from '../../store/actions/index';\nimport { Attachment, Replay, Send, Headset, Videocam, Description } from '@material-ui/icons';\nimport { Box, Button, FormControl, Grid, IconButton, InputAdornment, InputLabel, ListItem, Paper, TextField, Typography } from '@material-ui/core';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport { Link, Redirect, useParams } from 'react-router-dom';\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { styled } from '@material-ui/core/styles';\nimport { withSnackbar } from 'notistack';\nimport { getFormBuilderList } from '../../store/actions/formBuilder';\nimport { ReactFormBuilder, ElementStore, ReactFormGenerator } from 'react-form-builder2';\nimport * as variables from '../../../src/variables';\nimport axios from 'axios';\nconst GridStyled = styled(Grid)({\n  height: '100vh'\n});\nconst PaperStyled = styled(Paper)({\n  width: 1000,\n  textAlign: 'center',\n  padding: 40,\n  borderRadius: 10\n});\nconst TypoStyled = styled(Typography)(() => ({\n  fontSize: 24,\n  marginTop: 20,\n  marginBottom: 30,\n  fontWeight: 'bold'\n}));\nconst LinkStyled = styled(Link)(({\n  theme\n}) => ({\n  color: theme.palette.primary.main,\n  textDecoration: 'none'\n}));\nconst TypoHeadStyledError = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 24,\n  color: 'red',\n  fontWeight: 'bold',\n  textAlign: 'center'\n}));\nconst TypoHeadStyled = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: 24,\n  color: theme.palette.primary.main,\n  fontWeight: 'bold',\n  textAlign: 'center'\n}));\nconst ButtonStyled = styled(Button)(({\n  theme\n}) => ({\n  background: '#FFA502'\n}));\nconst FormFields = {\n  email: '',\n  password: ''\n};\n\nconst ExamAttempt = props => {\n  const {\n    getFormBuilderList,\n    enqueueSnackbar\n  } = props;\n  const [showForm, setShowForm] = useState([]);\n  const [isSubmitted, setIsSubmitted] = useState('');\n  const [getError, setError] = useState('');\n  const {\n    exam_id,\n    note_id,\n    token\n  } = useParams();\n  const [profImage, setProfImage] = useState('');\n  const [userDetail, setUserDetail] = useState({});\n\n  const _onSubmit = (data, flag) => {\n    let sendData = {\n      form_data: JSON.stringify(data),\n      exam_id: exam_id,\n      notification_id: note_id,\n      flag: flag\n    };\n\n    if (flag == 2) {\n      sendData = {\n        form_data: '',\n        exam_id: exam_id,\n        notification_id: note_id,\n        flag: flag\n      };\n    }\n\n    const Axios = () => {\n      return axios.create({\n        baseURL: 'https://rymindr.com/RymindrApi/api/',\n        headers: {\n          Accept: 'application/vnd.app.v5+json',\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      });\n    };\n\n    const response = Axios().post('/user/exam-form', sendData); //const response = Axios().post('/user/exam-form', { });\n\n    response.then(function (result) {\n      console.log('result====', result);\n\n      if (result.data.status == 1) {\n        enqueueSnackbar(result.data.message, {\n          variant: 'success'\n        });\n        setIsSubmitted(result.data.message);\n      } else {\n        enqueueSnackbar(result.data.message, {\n          variant: 'error'\n        });\n      }\n    }).catch(function (error) {\n      enqueueSnackbar('Something went wrong', {\n        variant: 'error'\n      });\n    });\n  };\n\n  let _decline = () => {\n    console.log('sdfsfdsf');\n  };\n\n  useEffect(() => {\n    console.log('exam_id====', exam_id);\n    console.log('token====', token);\n\n    const Axios = () => {\n      return axios.create({\n        baseURL: 'https://rymindr.com/RymindrApi/api/',\n        headers: {\n          Accept: 'application/vnd.app.v5+json',\n          Authorization: 'Bearer ' + token\n        }\n      });\n    };\n\n    const response = Axios().post('/user/authenticate', {\n      exam_id: exam_id\n    });\n    response.then(function (result) {\n      console.log('result.data========', result.data);\n\n      if (result.data.status == 1) {\n        let getForm = JSON.parse(result.data.data[0].builder_data).task_data;\n        setShowForm(getForm);\n        setProfImage(result.data.data[0].user.profile_image);\n        setUserDetail({ ...result.data.data[0].user\n        });\n        console.log('getForm====', getForm);\n      } else {\n        setError(result.data.message);\n        enqueueSnackbar(result.data.message, {\n          variant: 'error'\n        });\n      }\n    }).catch(function (error) {\n      enqueueSnackbar('Something went wrong', {\n        variant: 'error'\n      });\n      setError('Something went wrong');\n    });\n  }, [exam_id, token]);\n  return /*#__PURE__*/React.createElement(GridStyled, {\n    container: true,\n    justify: \"center\",\n    alignItems: \"center\",\n    className: \"loginBg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PaperStyled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, userDetail ? /*#__PURE__*/React.createElement(React.Fragment, null, profImage ? /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      width: 65,\n      borderRadius: '50%'\n    },\n    src: profImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      width: 65\n    },\n    src: require('../../assets/images/admin.png'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TypoHeadStyled, {\n    variant: \"h1\",\n    style: {\n      marginTop: '10px',\n      fontSize: '30px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, userDetail.first_name, \" \", userDetail.last_name)) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"poweredBy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, \"Powered by\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: require('../../assets/images/logo.png'),\n    style: {\n      height: '46px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(ListItem, {\n    alignItems: \"flex-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, !isSubmitted ? showForm && showForm.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: \"form_preview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ReactFormGenerator, {\n    answer_data: {} //action_name=\"Save\"\n    ,\n    form_action: \"/\",\n    form_method: \"POST\",\n    variables: variables,\n    data: showForm,\n    submitButton: /*#__PURE__*/React.createElement(\"button\", {\n      type: 'submit',\n      className: 'btn btn-primary',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }\n    }, \"Submit1\"),\n    on_change: () => {\n      console.log('onPost');\n    } //onSubmit={_onSubmit}\n    ,\n    onSubmit: data => {\n      _onSubmit(data, 1);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: 'submit',\n    className: 'btn',\n    style: {\n      float: 'right',\n      background: 'rgb(255, 165, 2)',\n      color: '#fff',\n      padding: '8px 22px',\n      fontSize: '0.9375rem'\n    },\n    onClick: () => {\n      _onSubmit(null, 2);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 21\n    }\n  }, \"Decline\"))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TypoHeadStyledError, {\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 19\n    }\n  }, getError)) : /*#__PURE__*/React.createElement(TypoHeadStyled, {\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 15\n    }\n  }, isSubmitted)))));\n};\n\nconst mapStateToProps = state => {\n  console.log('state-', state);\n  return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nExamAttempt.propTypes = {\n  enqueueSnackbar: PropTypes.func.isRequired\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(ExamAttempt));","map":{"version":3,"sources":["/var/www/html/RymindrAppNew/src/container/ExamAttempt/ExamAttempt.js"],"names":["actions","Attachment","Replay","Send","Headset","Videocam","Description","Box","Button","FormControl","Grid","IconButton","InputAdornment","InputLabel","ListItem","Paper","TextField","Typography","AccountCircle","Link","Redirect","useParams","React","useEffect","useState","PropTypes","connect","styled","withSnackbar","getFormBuilderList","ReactFormBuilder","ElementStore","ReactFormGenerator","variables","axios","GridStyled","height","PaperStyled","width","textAlign","padding","borderRadius","TypoStyled","fontSize","marginTop","marginBottom","fontWeight","LinkStyled","theme","color","palette","primary","main","textDecoration","TypoHeadStyledError","TypoHeadStyled","ButtonStyled","background","FormFields","email","password","ExamAttempt","props","enqueueSnackbar","showForm","setShowForm","isSubmitted","setIsSubmitted","getError","setError","exam_id","note_id","token","profImage","setProfImage","userDetail","setUserDetail","_onSubmit","data","flag","sendData","form_data","JSON","stringify","notification_id","Axios","create","baseURL","headers","Accept","Authorization","response","post","then","result","console","log","status","message","variant","catch","error","_decline","getForm","parse","builder_data","task_data","user","profile_image","require","first_name","last_name","length","float","mapStateToProps","state","mapDispatchToProps","dispatch","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import * as actions from '../../store/actions/index';\n\nimport { Attachment, Replay, Send, Headset, Videocam, Description } from '@material-ui/icons';\nimport {\n  Box,\n  Button,\n  FormControl,\n  Grid,\n  IconButton,\n  InputAdornment,\n  InputLabel,\n  ListItem,\n  Paper,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\n\nimport { Link, Redirect, useParams } from 'react-router-dom';\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { styled } from '@material-ui/core/styles';\nimport { withSnackbar } from 'notistack';\nimport { getFormBuilderList } from '../../store/actions/formBuilder';\nimport { ReactFormBuilder, ElementStore, ReactFormGenerator } from 'react-form-builder2';\nimport * as variables from '../../../src/variables';\nimport axios from 'axios';\n\nconst GridStyled = styled(Grid)({\n  height: '100vh',\n});\n\nconst PaperStyled = styled(Paper)({\n  width: 1000,\n  textAlign: 'center',\n  padding: 40,\n  borderRadius: 10,\n});\n\nconst TypoStyled = styled(Typography)(() => ({\n  fontSize: 24,\n  marginTop: 20,\n  marginBottom: 30,\n  fontWeight: 'bold',\n}));\n\nconst LinkStyled = styled(Link)(({ theme }) => ({\n  color: theme.palette.primary.main,\n  textDecoration: 'none',\n}));\n\nconst TypoHeadStyledError = styled(Typography)(({ theme }) => ({\n  fontSize: 24,\n  color: 'red',\n  fontWeight: 'bold',\n  textAlign: 'center',\n}));\n\nconst TypoHeadStyled = styled(Typography)(({ theme }) => ({\n  fontSize: 24,\n  color: theme.palette.primary.main,\n  fontWeight: 'bold',\n  textAlign: 'center',\n}));\n\nconst ButtonStyled = styled(Button)(({ theme }) => ({\n  background: '#FFA502',\n}));\nconst FormFields = { email: '', password: '' };\nconst ExamAttempt = (props) => {\n  const { getFormBuilderList, enqueueSnackbar } = props;\n  const [showForm, setShowForm] = useState([]);\n\n  const [isSubmitted, setIsSubmitted] = useState('');\n\n  const [getError, setError] = useState('');\n  const { exam_id, note_id, token } = useParams();\n  const [profImage, setProfImage] = useState('');\n  const [userDetail, setUserDetail] = useState({});\n\n  const _onSubmit = (data, flag) => {\n    let sendData = { form_data: JSON.stringify(data), exam_id: exam_id, notification_id: note_id, flag: flag };\n    if (flag == 2) {\n      sendData = { form_data: '', exam_id: exam_id, notification_id: note_id, flag: flag };\n    }\n\n    const Axios = () => {\n      return axios.create({\n        baseURL: 'https://rymindr.com/RymindrApi/api/',\n        headers: {\n          Accept: 'application/vnd.app.v5+json',\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token,\n        },\n      });\n    };\n\n    const response = Axios().post('/user/exam-form', sendData);\n    //const response = Axios().post('/user/exam-form', { });\n    response\n      .then(function (result) {\n        console.log('result====', result);\n        if (result.data.status == 1) {\n          enqueueSnackbar(result.data.message, { variant: 'success' });\n          setIsSubmitted(result.data.message);\n        } else {\n          enqueueSnackbar(result.data.message, { variant: 'error' });\n        }\n      })\n      .catch(function (error) {\n        enqueueSnackbar('Something went wrong', { variant: 'error' });\n      });\n  };\n\n  let _decline = () => {\n    console.log('sdfsfdsf');\n  };\n\n  useEffect(() => {\n    console.log('exam_id====', exam_id);\n    console.log('token====', token);\n\n    const Axios = () => {\n      return axios.create({\n        baseURL: 'https://rymindr.com/RymindrApi/api/',\n        headers: {\n          Accept: 'application/vnd.app.v5+json',\n          Authorization: 'Bearer ' + token,\n        },\n      });\n    };\n\n    const response = Axios().post('/user/authenticate', { exam_id: exam_id });\n    response\n      .then(function (result) {\n        console.log('result.data========', result.data);\n        if (result.data.status == 1) {\n          let getForm = JSON.parse(result.data.data[0].builder_data).task_data;\n          setShowForm(getForm);\n          setProfImage(result.data.data[0].user.profile_image);\n          setUserDetail({ ...result.data.data[0].user });\n          console.log('getForm====', getForm);\n        } else {\n          setError(result.data.message);\n          enqueueSnackbar(result.data.message, { variant: 'error' });\n        }\n      })\n      .catch(function (error) {\n        enqueueSnackbar('Something went wrong', { variant: 'error' });\n        setError('Something went wrong');\n      });\n  }, [exam_id, token]);\n\n  return (\n    <GridStyled container justify=\"center\" alignItems=\"center\" className=\"loginBg\">\n      <PaperStyled>\n        {/* <img style={{ width: 130 }} src={require('../../assets/images/login_logo.png')} /> */}\n        {userDetail ? (\n          <>\n            {profImage ? (\n              <img style={{ width: 65, borderRadius: '50%' }} src={profImage} />\n            ) : (\n              <img style={{ width: 65 }} src={require('../../assets/images/admin.png')} />\n            )}\n            <TypoHeadStyled variant=\"h1\" style={{ marginTop: '10px', fontSize: '30px' }}>\n              {userDetail.first_name} {userDetail.last_name}\n            </TypoHeadStyled>\n          </>\n        ) : null}\n        <div className=\"poweredBy\">\n          <p>Powered by</p>\n          <img src={require('../../assets/images/logo.png')} style={{ height: '46px' }} />\n        </div>\n\n        {/* <TypoStyled variant=\"h6\">LOGIN</TypoStyled> */}\n        {/* <IconButton\n          aria-label='account of current user'\n          aria-controls='primry-search-account-menu'\n          aria-haspopup='true'\n          color='inherit'\n        >\n          <AccountCircle style={{width: '130px'}}/>\n        </IconButton> */}\n\n        <ListItem alignItems=\"flex-start\">\n          <Grid item xs={12}>\n            {!isSubmitted ? (\n              showForm && showForm.length > 0 ? (\n                <>\n                  <Grid item xs={12} className=\"form_preview\">\n                    <ReactFormGenerator\n                      answer_data={{}}\n                      //action_name=\"Save\"\n                      form_action=\"/\"\n                      form_method=\"POST\"\n                      variables={variables}\n                      data={showForm}\n                      submitButton={\n                        <button type={'submit'} className={'btn btn-primary'}>\n                          Submit1\n                        </button>\n                      }\n                      on_change={() => {\n                        console.log('onPost');\n                      }}\n                      //onSubmit={_onSubmit}\n                      onSubmit={(data) => {\n                        _onSubmit(data, 1);\n                      }}\n                    />\n\n                    <button\n                      type={'submit'}\n                      className={'btn'}\n                      style={{\n                        float: 'right',\n                        background: 'rgb(255, 165, 2)',\n                        color: '#fff',\n                        padding: '8px 22px',\n                        fontSize: '0.9375rem',\n                      }}\n                      onClick={() => {\n                        _onSubmit(null, 2);\n                      }}\n                    >\n                      Decline\n                    </button>\n                  </Grid>\n                  {/* <Grid item xs={7}>\n                    <Box display=\"flex\" justifyContent=\"flex-end\">\n                      <ButtonStyled\n                        //onClick={handleToSubmit}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        size=\"large\"\n                        startIcon={<Send />}\n                      >\n                        decline\n                      </ButtonStyled>\n                    </Box>\n                  </Grid> */}\n                </>\n              ) : (\n                <>\n                  <TypoHeadStyledError variant=\"h4\">{getError}</TypoHeadStyledError>\n                </>\n              )\n            ) : (\n              <TypoHeadStyled variant=\"h4\">{isSubmitted}</TypoHeadStyled>\n            )}\n          </Grid>\n        </ListItem>\n      </PaperStyled>\n    </GridStyled>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  console.log('state-', state);\n  return {};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {};\n};\n\nExamAttempt.propTypes = {\n  enqueueSnackbar: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withSnackbar(ExamAttempt));\n"]},"metadata":{},"sourceType":"module"}